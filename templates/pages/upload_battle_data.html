{% extends "layouts/base.html" %}

{% block title %}Icon Feather{% endblock title %}

{% block content %}

    <!-- [ Main Content ] start -->
    <div class="pc-container d-none" id="content-body" data-bs-theme="dark">
      <div class="pc-content" data-bs-theme="dark">
        <!-- [ breadcrumb ] start -->

        <!-- [ breadcrumb ] end -->

        <!-- [ Main Content ] start -->
        <div class="row justify-content-center">
          <!-- [ feather-icon ] start -->
          <div class="col-sm-8">
            <div class="card">
              <div class="card-header text-center">
                <h3>Upload User Battles From Local File</h3>
                <h6 class="small-text">CSV Only; files must follow structure of battle CSV files from this site and only contain data from one user as P1.</h6>
              </div>
              <div class="card-body text-center py-0 px-3">
                <div class="row justify-content-center">
                    <form id="uploadForm" class="card-body">
                        {{ form.hidden_tag() }}
                        <h4 class="text-center f-w-500 mb-3">Upload CSV</h4>
                        <span id="errorMSG" class="d-block text-danger mb-3"></span>
                        <div class="form-group mb-3">
                          {{ form.file(class="form-control", id="csvFile") }}
                        </div>
                        <div class="d-flex justify-content-center text-center gap-4 mt-4">
                            <button type="submit" name="battle_data" class="btn btn-primary shadow px-sm-4">Submit File</button>
                            <span class="toggle-container", id="auto-query-toggle-container">
                              <label class="toggle-switch">
                                <input type="checkbox" id="auto-query-flag" checked>
                                <span class="toggle-switch-background">
                                  <span class="toggle-switch-handle"></span>
                                </span>
                              </label>
                              <h6> Auto-Query New Battles</h6>
                            </span>
                        </div>
                    </form>
                </div>
              </div>
            </div>
          </div>
          <!-- [ feather-icon ] end -->
        </div>
        <!-- [ Main Content ] end -->
      </div>
    </div>

{% endblock content %}

{% block extra_js %}

<script type="module" src="{{ url_for('static', filename='dist/upload.bundle.js') }}"></script>

{% endblock extra_js %}
