/*! For license information please see test.0c1cac04dfead01c3121.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var r=new Set(["world_kor","world_global","world_jpn","world_asia","world_eu"]),n="world_global",o="world_kor",i="world_jpn",a="world_asia",u="world_eu",c=e(e(e(e(e({},n,"Global"),o,"Korea"),i,"Japan"),a,"Asia"),u,"Europe"),s=(e(e(e(e(e({},c.world_global,n),c.world_kor,o),c.world_jpn,i),c.world_asia,a),c.world_eu,u),{set_speed:"Speed",set_acc:"Hit",set_cri:"Critical",set_res:"Resist",set_def:"Defense",set_att:"Attack",set_max_hp:"Health",set_cri_dmg:"Destruction",set_coop:"Unity",set_immune:"Immunity",set_rage:"Rage",set_vampire:"Lifesteal",set_shield:"Protection",set_revenge:"Revenge",set_penetrate:"Penetration",set_torrent:"Torrent",set_counter:"Counter",set_scar:"Injury"}),f=864e5,l="Season",h="Season Code",p="Date/Time",d="Seconds",y="Turns",v="Seq Num",m="P1 ID",g="P1 Server",b="P2 ID",S="P2 Server",w="P1 League",A="P2 League",E="P1 Points",_="Point Gain",O="Win",j="First Pick",T="First Turn",C="First Turn Hero",k="CR Bar",P="P1 Prebans",M="P2 Prebans",D="P1 Picks",F="P2 Picks",B="P1 Postban",N="P2 Postban",I="P1 Equipment",x="P2 Equipment",R="P1 Artifacts",L="P2 Artifacts",G="P1 MVP",H="P2 MVP",U="P1 Picks Primes",K="P1 Picks Prime Product",$="P2 Picks Primes",W="P2 Picks Prime Product",J="P1 Prebans Primes",V="P1 Prebans Prime Product",q="P2 Prebans Primes",z="P2 Prebans Prime Product",Q=[I,x,R,L,k,P,M,D,F],Z=[j,T,O],Y=[d,y,E,_],X=[w,A],tt="Hero Name",et="Battles",rt="Pick Rate",nt="Wins",ot="Win rate",it="Postbans",at="Postban Rate",ut="Success Rate",ct="+/-",st="Point Gain",ft="Avg CR",lt="First Turns",ht="First Turn Rate";var pt=function(t){for(var e=new Uint8Array(t+1),r=[],n=2;n<=t;n++)if(!e[n]){r.push(n);for(var o=n*n;o<=t;o+=n)e[o]=1}return r}(3e4);function dt(t){return function(t){if(Array.isArray(t))return yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return yt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return mt(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(mt(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,mt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,mt(l,"constructor",s),mt(s,"constructor",c),c.displayName="GeneratorFunction",mt(s,o,"GeneratorFunction"),mt(l),mt(l,o,"Generator"),mt(l,n,function(){return this}),mt(l,"toString",function(){return"[object Generator]"}),(vt=function(){return{w:i,m:h}})()}function mt(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}mt=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){mt(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},mt(t,e,r,n)}function gt(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function bt(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){gt(i,n,o,a,u,"next",t)}function u(t){gt(i,n,o,a,u,"throw",t)}a(void 0)})}}function St(t){return wt.apply(this,arguments)}function wt(){return(wt=bt(vt().m(function t(e){var r,n,o;return vt().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch(e);case 1:if((r=t.v).ok){t.n=2;break}throw new Error("HTTP error: status: ".concat(r.status));case 2:return t.n=3,r.json();case 3:return n=t.v,Object.keys(n),t.a(2,n);case 4:return t.p=4,o=t.v,console.error("Error fetching global user data:",o),t.a(2,null)}},t,null,[[0,4]])}))).apply(this,arguments)}function At(){return At=bt(vt().m(function t(){var e,r,n=arguments;return vt().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=n.length>0&&void 0!==n[0]?n[0]:null)?e:"all",") from E7 Server..."),t.n=1,St("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_hero.json");case 1:return r=t.v,e&&r[e]?r=r[e]:e&&!r[e]&&(console.error("Could not find hero data for language:",e),r=null),t.a(2,r)}},t)})),At.apply(this,arguments)}function Et(){return Et=bt(vt().m(function t(){var e,r,n=arguments;return vt().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=n.length>0&&void 0!==n[0]?n[0]:null)?e:"all",") from E7 Server..."),t.n=1,St("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_artifact.json");case 1:return r=t.v,e&&r[e]?r=r[e]:e&&!r[e]&&(console.error("Could not find artifact data for language:",e),r=null),t.a(2,r)}},t)})),Et.apply(this,arguments)}function _t(){return(_t=bt(vt().m(function t(e){var n,o;return vt().w(function(t){for(;;)switch(t.n){case 0:if(e=e.replace("world_",""),dt(r).some(function(t){return t.replace("world_","")===e})){t.n=1;break}return console.error("Could not find world code: ".concat(e)),t.a(2,null);case 1:return"Fetching users for world code: ".concat(e," from E7 Server..."),n="https://static.smilegatemegaport.com/gameRecord/epic7/epic7_user_world_".concat(e,".json"),t.n=2,St(n);case 2:return(o=t.v)&&"Got user data for world: ".concat(e," ; Found ").concat(o.users.length," users"),t.a(2,o)}},t)}))).apply(this,arguments)}const Ot={fetchHeroJSON:function(){return At.apply(this,arguments)},fetchUserJSON:function(t){return _t.apply(this,arguments)},fetchArtifactJSON:function(){return Et.apply(this,arguments)}};function jt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return Tt(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Tt(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Tt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,Tt(l,"constructor",s),Tt(s,"constructor",c),c.displayName="GeneratorFunction",Tt(s,o,"GeneratorFunction"),Tt(l),Tt(l,o,"Generator"),Tt(l,n,function(){return this}),Tt(l,"toString",function(){return"[object Generator]"}),(jt=function(){return{w:i,m:h}})()}function Tt(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Tt=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){Tt(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},Tt(t,e,r,n)}function Ct(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function kt(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Ct(i,n,o,a,u,"next",t)}function u(t){Ct(i,n,o,a,u,"throw",t)}a(void 0)})}}var Pt,Mt,Dt,Ft,Bt,Nt;const It={test:function(t){t.rank_plot},fetchFromPython:(Nt=kt(jt().m(function t(e){var r,n;return jt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e);case 1:if((r=t.v).ok){t.n=3;break}return t.n=2,fetch(e);case 2:r=t.v;case 3:return t.n=4,r.json();case 4:return n=t.v,t.a(2,n||null)}},t)})),function(t){return Nt.apply(this,arguments)}),fetchHeroData:(Bt=kt(jt().m(function t(){return jt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchFromPython("/api/get_hero_data");case 1:return t.a(2,t.v)}},t,this)})),function(){return Bt.apply(this,arguments)}),rsFetchBattleData:(Ft=kt(jt().m(function t(e){return jt().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Must pass user to fetch battles data");case 1:return t.n=2,fetch("/api/rs_get_battle_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})});case 2:return t.a(2,t.v)}},t)})),function(t){return Ft.apply(this,arguments)}),fetchSeasonDetails:(Dt=kt(jt().m(function t(){var e,r,n;return jt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_season_details");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(r=t.v).success){t.n=3;break}return n=JSON.parse(r.seasonDetails),t.a(2,{seasonDetails:n,error:!1});case 3:return t.a(2,{seasonDetails:null,error:r.error});case 4:return t.a(2)}},t)})),function(){return Dt.apply(this,arguments)}),fetchArtifactJson:(Mt=kt(jt().m(function t(){var e,r,n;return jt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_artifact_json");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(r=t.v).success){t.n=3;break}return n=JSON.parse(r.artifactJson),t.a(2,n);case 3:return t.a(2,null);case 4:return t.a(2)}},t)})),function(){return Mt.apply(this,arguments)}),fetchUser:(Pt=kt(jt().m(function t(e){var r,n,o;return jt().w(function(t){for(;;)switch(t.n){case 0:if(e.name&&e.world_code||e.id){t.n=1;break}throw new Error("Must pass a user object with either user.name and user.world_code or user.id to fetch user");case 1:return t.n=2,fetch("/api/get_user_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userData:e})});case 2:return r=t.v,t.n=3,r.json();case 3:if(n=t.v,r.ok){t.n=4;break}throw new Error("Flask server error: ".concat(n.error));case 4:if(n.foundUser){t.n=6;break}if(e.world_code){t.n=5;break}return t.a(2,{user:null,ok:!0});case 5:return t.a(2,{user:null,ok:!0});case 6:return o=n.user,"Found user: ".concat(JSON.stringify(o)),t.a(2,{user:o,ok:!0})}},t)})),function(t){return Pt.apply(this,arguments)})},xt=(t,e)=>e.some(e=>t instanceof e);let Rt,Lt;const Gt=new WeakMap,Ht=new WeakMap,Ut=new WeakMap;let Kt={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return Gt.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Vt(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $t(t){Kt=t(Kt)}function Wt(t){return(Lt||(Lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(qt(this),e),Vt(this.request)}:function(...e){return Vt(t.apply(qt(this),e))}}function Jt(t){return"function"==typeof t?Wt(t):(t instanceof IDBTransaction&&function(t){if(Gt.has(t))return;const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Gt.set(t,e)}(t),xt(t,Rt||(Rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Kt):t)}function Vt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,r)=>{const n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(Vt(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)});return Ut.set(e,t),e}(t);if(Ht.has(t))return Ht.get(t);const e=Jt(t);return e!==t&&(Ht.set(t,e),Ut.set(e,t)),e}const qt=t=>Ut.get(t);function zt(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),u=Vt(a);return n&&a.addEventListener("upgradeneeded",t=>{n(Vt(a.result),t.oldVersion,t.newVersion,Vt(a.transaction),t)}),r&&a.addEventListener("blocked",t=>r(t.oldVersion,t.newVersion,t)),u.then(t=>{i&&t.addEventListener("close",()=>i()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),u}const Qt=["get","getKey","getAll","getAllKeys","count"],Zt=["put","add","delete","clear"],Yt=new Map;function Xt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Yt.get(e))return Yt.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=Zt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!Qt.includes(r))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[r](...e),o&&i.done]))[0]};return Yt.set(e,i),i}$t(t=>({...t,get:(e,r,n)=>Xt(e,r)||t.get(e,r,n),has:(e,r)=>!!Xt(e,r)||t.has(e,r)}));const te=["continue","continuePrimaryKey","advance"],ee={},re=new WeakMap,ne=new WeakMap,oe={get(t,e){if(!te.includes(e))return t[e];let r=ee[e];return r||(r=ee[e]=function(...t){re.set(this,ne.get(this)[e](...t))}),r}};async function*ie(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const r=new Proxy(e,oe);for(ne.set(r,e),Ut.set(r,qt(e));e;)yield r,e=await(re.get(r)||e.continue()),re.delete(r)}function ae(t,e){return e===Symbol.asyncIterator&&xt(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&xt(t,[IDBIndex,IDBObjectStore])}function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return se(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(se(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,se(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,se(l,"constructor",s),se(s,"constructor",c),c.displayName="GeneratorFunction",se(s,o,"GeneratorFunction"),se(l),se(l,o,"Generator"),se(l,n,function(){return this}),se(l,"toString",function(){return"[object Generator]"}),(ce=function(){return{w:i,m:h}})()}function se(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}se=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){se(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},se(t,e,r,n)}function fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(r),!0).forEach(function(e){he(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function he(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pe(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function de(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){pe(i,n,o,a,u,"next",t)}function u(t){pe(i,n,o,a,u,"throw",t)}a(void 0)})}}function ye(t,e){return ve.apply(this,arguments)}function ve(){return(ve=de(ce().m(function t(e,r){var n;return ce().w(function(t){for(;;)switch(t.n){case 0:return n=e.transaction(r,"readwrite"),n.objectStore(r).clear(),t.n=1,n.done;case 1:return t.a(2)}},t)}))).apply(this,arguments)}$t(t=>({...t,get:(e,r,n)=>ae(e,r)?ie:t.get(e,r,n),has:(e,r)=>ae(e,r)||t.has(e,r)}));var me,ge,be,Se,we,Ae,Ee,_e,Oe,je,Te,Ce,ke,Pe,Me,De,Fe,Be,Ne,Ie={USER:"current-user",BATTLES:"battles",RAW_UPLOAD:"raw-upload",UPLOADED_BATTLES:"uploaded-battles",FILTERED_BATTLES:"filtered-battles",STATS:"stats",FILTER_STR:"filter-str"},xe={GLOBAL_USERS:"global-users",EU_USERS:"eu-users",ASIA_USERS:"asia-users",JPN_USERS:"jpn-users",KOR_USERS:"kor-users"},Re=le(le(le({},Ie),xe),{},{HERO_MANAGER:"hero-manager",SEASON_DETAILS:"season-details",AUTO_ZOOM_FLAG:"auto-zoom",AUTO_QUERY_FLAG:"auto-query",ID_SEARCH_FLAG:"id-search",ARTIFACTS:"artifacts",ARTIFACTS_LOWERCASE_NAMES_MAP:"artifacts-lowercase-names-map",ARTIFACT_OBJECT_LIST:"artifact-object-list",HOME_PAGE_STATE:"home-page-state",INTER_PAGE_MANAGER:"inter-page-manager"}),Le={autoZoom:Re.AUTO_ZOOM_FLAG,autoQuery:Re.AUTO_QUERY_FLAG,idSearch:Re.ID_SEARCH_FLAG},Ge={consts:{DB_NAME:"E7ArenaStatsClientDB",DB_VERSION:1,STORE_NAME:"DataStore",META_STORE_NAME:"MetaStore",CACHE_TIMEOUT:1728e5},Keys:le({},Re),MetaKeys:{TIMESTAMP:"timestamp"},loaded_UM:new Set,openDB:(Ne=de(ce().m(function t(){return ce().w(function(t){for(;;)if(0===t.n)return t.a(2,zt(Ge.consts.DB_NAME,Ge.consts.DB_VERSION,{upgrade:function(t){t.objectStoreNames.contains(Ge.consts.STORE_NAME)&&t.deleteObjectStore(Ge.consts.STORE_NAME),t.objectStoreNames.contains(Ge.consts.STORE_NAME)||t.createObjectStore(Ge.consts.STORE_NAME),t.objectStoreNames.contains(Ge.consts.META_STORE_NAME)||t.createObjectStore(Ge.consts.META_STORE_NAME)}}))},t)})),function(){return Ne.apply(this,arguments)}),get:(Be=de(ce().m(function t(e){var r,n;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,t.n=2,r.get(this.consts.STORE_NAME,e);case 2:if(null===(n=t.v)){t.n=3;break}"Found ".concat(e," in cache"),t.n=4;break;case 3:return"".concat(e," not found in cache; returning null"),t.a(2,null);case 4:return t.n=5,this.checkCacheTimeout(e);case 5:if(!t.v){t.n=6;break}return t.a(2,n);case 6:return t.a(2,null);case 7:return t.a(2)}},t,this)})),function(t){return Be.apply(this,arguments)}),cache:(Fe=de(ce().m(function t(e,r){var n;return ce().w(function(t){for(;;)switch(t.n){case 0:return"Caching ".concat(e," with data: ").concat(r),t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.put(this.consts.STORE_NAME,r,e);case 2:return t.n=3,this.setTimestamp(e,Date.now());case 3:return t.a(2)}},t,this)})),function(t,e){return Fe.apply(this,arguments)}),delete:(De=de(ce().m(function t(e){var r;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,t.n=2,r.delete(this.consts.STORE_NAME,e);case 2:return t.n=3,this.deleteTimestamp(e);case 3:return t.a(2)}},t,this)})),function(t){return De.apply(this,arguments)}),deleteDB:(Me=de(ce().m(function t(){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,indexedDB.deleteDatabase(this.consts.DB_NAME);case 1:case 2:return t.a(2)}},t,this)})),function(){return Me.apply(this,arguments)}),getTimestamp:(Pe=de(ce().m(function t(e){var r,n,o;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,n="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,r.get(this.consts.META_STORE_NAME,n);case 2:return o=t.v,t.a(2,null!=o?o:null)}},t,this)})),function(t){return Pe.apply(this,arguments)}),setTimestamp:(ke=de(ce().m(function t(e,r){var n,o;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,o="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.put(this.consts.META_STORE_NAME,r,o);case 2:return t.n=3,n.get(this.consts.META_STORE_NAME,o);case 3:t.v;case 4:return t.a(2)}},t,this)})),function(t,e){return ke.apply(this,arguments)}),deleteTimestamp:(Ce=de(ce().m(function t(e){var r,n;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,n="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,r.delete(this.consts.META_STORE_NAME,n);case 2:return t.a(2)}},t,this)})),function(t){return Ce.apply(this,arguments)}),clearData:(Te=de(ce().m(function t(){var e;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return e=t.v,t.n=2,ye(e,this.consts.STORE_NAME);case 2:return t.n=3,ye(e,this.consts.META_STORE_NAME);case 3:case 4:return t.a(2)}},t,this)})),function(){return Te.apply(this,arguments)}),clearUserData:(je=de(ce().m(function t(){var e,r=this;return ce().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(Ie),t.n=1,Promise.all(e.map(function(t){return r.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return je.apply(this,arguments)}),clearUserLists:(Oe=de(ce().m(function t(){var e,r=this;return ce().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(xe),t.n=1,Promise.all(e.map(function(t){return r.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return Oe.apply(this,arguments)}),clearSeasonData:(_e=de(ce().m(function t(){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.delete(Re.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t,this)})),function(){return _e.apply(this,arguments)}),checkCacheTimeout:(Ee=de(ce().m(function t(e){var r,n;return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getTimestamp(e);case 1:if(r=t.v,n=Date.now(),r&&!(n-r>Ge.consts.CACHE_TIMEOUT)){t.n=3;break}return"Cache timeout for ".concat(e),t.n=2,this.delete(e);case 2:return t.a(2,!1);case 3:return t.a(2,!0)}},t,this)})),function(t){return Ee.apply(this,arguments)}),getFilterStr:(Ae=de(ce().m(function t(){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(Ge.Keys.FILTER_STR);case 1:return t.a(2,t.v)}},t,this)})),function(){return Ae.apply(this,arguments)}),setFilterStr:(we=de(ce().m(function t(e){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(Ge.Keys.FILTER_STR,e);case 1:return t.a(2)}},t,this)})),function(t){return we.apply(this,arguments)}),getStats:(Se=de(ce().m(function t(){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(Ge.Keys.STATS);case 1:return t.a(2,t.v)}},t,this)})),function(){return Se.apply(this,arguments)}),setStats:(be=de(ce().m(function t(e){return ce().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(Re.STATS,e);case 1:return t.a(2)}},t,this)})),function(t){return be.apply(this,arguments)}),getFlag:(ge=de(ce().m(function t(e){var r;return ce().w(function(t){for(;;)switch(t.n){case 0:if(r=Le[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.get(r);case 2:return t.a(2,t.v)}},t,this)})),function(t){return ge.apply(this,arguments)}),setFlag:(me=de(ce().m(function t(e,r){var n;return ce().w(function(t){for(;;)switch(t.n){case 0:if(n=Le[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.cache(n,r);case 2:return t.a(2)}},t,this)})),function(t,e){return me.apply(this,arguments)})};const He=Ge;function Ue(t){var e={};for(var r in t)Array.isArray(t[r])&&t[r].length>0?e[r]=[t[r][0],"Length: ".concat(t[r].length)]:e[r]=t[r]}function Ke(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||$e(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(t,e){if(t){if("string"==typeof t)return We(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(t,e):void 0}}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Je(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return Ve(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Ve(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Ve(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,Ve(l,"constructor",s),Ve(s,"constructor",c),c.displayName="GeneratorFunction",Ve(s,o,"GeneratorFunction"),Ve(l),Ve(l,o,"Generator"),Ve(l,n,function(){return this}),Ve(l,"toString",function(){return"[object Generator]"}),(Je=function(){return{w:i,m:h}})()}function Ve(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ve=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){Ve(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},Ve(t,e,r,n)}function qe(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function ze(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){qe(i,n,o,a,u,"next",t)}function u(t){qe(i,n,o,a,u,"throw",t)}a(void 0)})}}var Qe,Ze,Ye,Xe;const tr={getHeroManager:(Xe=ze(Je().m(function t(){var e,r,n,o;return Je().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.HERO_MANAGER);case 1:if(n=e=t.v,!(r=null!==n)){t.n=2;break}r=void 0!==e;case 2:if(!r){t.n=3;break}o=e,t.n=4;break;case 3:o=this.fetchAndCacheHeroManager();case 4:return t.a(2,o)}},t,this)})),function(){return Xe.apply(this,arguments)}),createHeroManager:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$e(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(t.entries());try{for(r.s();!(e=r.n()).done;){var n=Ke(e.value,2),o=n[0],i=n[1],a=pt[o];i.prime=a}}catch(t){r.e(t)}finally{r.f()}var u={heroes:t};return u=function(t){t.name_lookup=t.heroes.reduce(function(t,e){return t[e.name.toLowerCase().replace(/\s+/g,"")]=e,t},{}),t.prime_lookup=t.heroes.reduce(function(t,e){return t[e.prime]=e,t},{}),t.code_lookup=t.heroes.reduce(function(t,e){return t[e.code]=e,t},{});for(var e=t.heroes.reduce(function(t,e){return t[e.prime]=e.name,t},{}),r=Object.keys(t.prime_lookup).length-1,n=0;n<r-1;n++)for(var o=pt[n],i=n+1;i<r;i++){var a=pt[i],u=o*a,c=t.prime_lookup[o].name,s=t.prime_lookup[a].name;e[u]=[c,s].sort().join(", ")}return e[t.Fodder.prime*t.Fodder.prime]=[t.Fodder.name,t.Fodder.prime],t.prime_pair_lookup=e,t}(u=function(t){var e=t.heroes.length,r={attribute_cd:"N/A",code:"N/A",grade:"N/A",job_cd:"N/A",name:"Empty",prime:1},n={attribute_cd:"N/A",code:"N/A",grade:"2/3",job_cd:"N/A",name:"Fodder",prime:pt[e]};return t.heroes.push(r),t.heroes.push(n),t.Fodder=n,t.Empty=r,t}(u)),u},fetchHeroManager:(Ye=ze(Je().m(function t(){var e,r,n,o,i,a;return Je().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ot.fetchHeroJSON();case 1:if(i=e=t.v,!(o=null!==i)){t.n=2;break}o=void 0!==e;case 2:if(!o){t.n=3;break}a=e,t.n=5;break;case 3:return t.n=4,It.fetchHeroData();case 4:a=t.v;case 5:return r=a.en,n=this.createHeroManager(r),t.a(2,n)}},t,this)})),function(){return Ye.apply(this,arguments)}),fetchAndCacheHeroManager:(Ze=ze(Je().m(function t(){var e;return Je().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchHeroManager();case 1:return e=t.v,t.n=2,He.cache(He.Keys.HERO_MANAGER,e);case 2:return Ue(e),t.a(2,e)}},t,this)})),function(){return Ze.apply(this,arguments)}),deleteHeroManager:(Qe=ze(Je().m(function t(){return Je().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.delete(He.Keys.HERO_MANAGER);case 1:case 2:return t.a(2)}},t)})),function(){return Qe.apply(this,arguments)}),getHeroByName:function(t,e){var r;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");if(!t)return e.Empty;var n=t.toLowerCase().replace(/\s+/g,"");return null!==(r=e.name_lookup[n])&&void 0!==r?r:null},getHeroByPrime:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_lookup[t]},getHeroByCode:function(t,e){var r;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return t?null!==(r=e.code_lookup[t])&&void 0!==r?r:null:e.Empty},getPairNamesByProduct:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_pair_lookup[t]}};function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function rr(t){return function(t){if(Array.isArray(t))return ur(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ar(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||ar(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=er(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==er(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ir(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ar(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ar(t,e){if(t){if("string"==typeof t)return ur(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(t,e):void 0}}function ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var cr=function(t){return t.filter(function(t){return t[j]})};function sr(t){return(100*t).toFixed(2)+"%"}function fr(t,e){return sr(0!==e?t/e:0)}function lr(t,e){var r=t[k].find(function(t){return t[0]===e});return r?r[1]:null}function hr(t,e,r){var n,o,i=function(t){return t.filter(function(t){return t[O]})}(t).length,a=t.length,u=0!==e?a/e:0,c=0!==a?i/a:0,s=t.reduce(function(t,e){return t+(e[B]===r||e[N]===r)},0),f=t.reduce(function(t,e){return t+(e[O]||e[B]===r||e[N]===r)},0),l=t.reduce(function(t,e){return t+e[_]},0),h=0,p=0,d=0,y=ir(t);try{for(y.s();!(o=y.n()).done;){var v=lr(o.value,r);null!==v&&0!==v&&(h+=1,p+=v,100===v&&(d+=1))}}catch(t){y.e(t)}finally{y.f()}var m=fr(p/100,h);return or(or(or(or(or(or(or(or(or(or(n={},tt,r),et,a),rt,sr(u)),nt,i),ot,sr(c)),it,s),at,fr(s,a)),ut,fr(f,a)),ct,2*i-a),st,l),or(or(or(n,ft,m),lt,d),ht,fr(d,h))}function pr(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Set,n=0,o=Object.values(t);n<o.length;n++){var i=o[n];(e?i[U]:i[$]).forEach(function(t){r.add(t)})}return r}function dr(t){var e=Math.floor(t/60),r=(t%60).toFixed(1);return 0===e?"".concat(r," secs"):"".concat(e," : ").concat(r,"s")}const yr={getHeroStats:function(t,e){if(0===t.length)return{playerHeroStats:[],enemyHeroStats:[]};var r,n=t.length,o=pr(t,!0),i=pr(t,!1),a=[],u=[],c=ir(o);try{var s=function(){var o=r.value,i=tr.getHeroByPrime(o,e),u=t.filter(function(t){return t[K]%o===0});u.length>0&&a.push(hr(u,n,i.name))};for(c.s();!(r=c.n()).done;)s()}catch(t){c.e(t)}finally{c.f()}var f,l=ir(i);try{var h=function(){var r=f.value,o=tr.getHeroByPrime(r,e),i=t.filter(function(t){return t[W]%r===0});i.length>0&&u.push(hr(i,n,o.name))};for(l.s();!(f=l.n()).done;)h()}catch(t){l.e(t)}finally{l.f()}var p=tt;return{playerHeroStats:a.sort(function(t,e){return t[p].localeCompare(e[p])}),enemyHeroStats:u.sort(function(t,e){return t[p].localeCompare(e[p])})}},getFirstPickStats:function(t,e){if(0===(t=cr(Object.values(t))).length)return[];var r,n=t.length,o={},i=ir(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(0!==a[U].length){var u=a[U][0];u in o||(o[u]={wins:0,appearances:0}),o[u].wins+=a[O],o[u].appearances+=1}}}catch(t){i.e(t)}finally{i.f()}var c=Object.entries(o).map(function(t){var r=nr(t,2),o=r[0],i=r[1];return{hero:tr.getHeroByPrime(o,e).name,wins:i.wins,appearances:i.appearances,win_rate:sr(i.wins/i.appearances),appearance_rate:sr(i.appearances/n),"+/-":2*i.wins-i.appearances}});return c.sort(function(t,e){return e.appearances-t.appearances}),c},getPrebanStats:function(t,e){var r=tr.getHeroByName("Empty",e).prime;if(0===t.length)return[];var n,o=function(e,n){return rr(new Set(t.map(function(t){return t[e][n]}).filter(function(t){return t&&t!==r})))},i=o(J,0),a=o(J,1),u=new Set([].concat(rr(i),rr(a))),c=[],s=ir(u);try{for(s.s();!(n=s.n()).done;){var f=n.value;c.push(f)}}catch(t){s.e(t)}finally{s.f()}var l,h=ir(u);try{for(h.s();!(l=h.n()).done;){var p,d=l.value,y=ir(u);try{for(y.s();!(p=y.n()).done;){var v=p.value;d<v&&c.push(d*v)}}catch(t){y.e(t)}finally{y.f()}}}catch(t){h.e(t)}finally{h.f()}for(var m=t.length,g=[],b=function(){var r=w[S],n=t.filter(function(t){return t["P1 Prebans Prime Product"]%r===0}),o=n.length;if(o<1)return 1;var i=n.reduce(function(t,e){return t+e.Win},0),a=m>0?o/m:0,u=o>0?i/o:0,c=2*i-o;g.push({preban:e.prime_pair_lookup[r],wins:i,appearances:o,appearance_rate:sr(a),win_rate:sr(u),"+/-":c})},S=0,w=c;S<w.length;S++)b();return g.sort(function(t,e){return e.appearances-t.appearances}),g},getServerStats:function(t){for(var e=[],r=t.length,n=function(){var n=i[o],a=t.filter(function(t){return t["P2 Server"]===n}),u=a.length,c=a.reduce(function(t,e){return t+e.Win},0),s=u>0?c/u:"N/A",f=r>0?u/r:"N/A",l=a.filter(function(t){return t["First Pick"]}),h=l.reduce(function(t,e){return t+e.Win},0),p=a.filter(function(t){return!t["First Pick"]}),d=p.reduce(function(t,e){return t+e.Win},0);e.push({server:n,count:u,wins:c,win_rate:"N/A"===s?"N/A":sr(s),frequency:sr(f),"+/-":2*c-u,fp_games:l.length,sp_games:p.length,fp_wr:l.length>0?sr(h/l.length):"N/A",sp_wr:p.length>0?sr(d/p.length):"N/A"})},o=0,i=Object.values(c);o<i.length;o++)n();return e.sort(function(t,e){return t.server.localeCompare(e.server)}),e},getGeneralStats:function(t,e){t.sort(function(t,e){return new Date(t["Date/Time"])-new Date(e["Date/Time"])});var r,n=t.length,o=t.reduce(function(t,e){return t+e["Point Gain"]},0),i=n>0?o/n:0,a=t.reduce(function(t,e){return t+e.Turns},0),u=n>0?a/n:0,c=t.length>0?Math.max.apply(Math,rr(t.map(function(t){return t.Turns}))):0,s=t.reduce(function(t,e){return t+e.Seconds},0),f=n>0?s/n:0,l=t.length>0?Math.max.apply(Math,rr(t.map(function(t){return t.Seconds}))):0,h=dr(f),p=dr(l),d=t.reduce(function(t,e){return t+e["First Turn"]},0),y=cr(t),v=function(t){return t.filter(function(t){return!t[j]})}(t),m=y.length,g=v.length,b=y.reduce(function(t,e){return t+e.Win},0),S=v.reduce(function(t,e){return t+e.Win},0),w=n?m/n:0,A=n?g/n:0,E=m?b/m:0,_=g?S/g:0,O=n?(b+S)/n:0,T=0,C=0,k=0,P=0,M=ir(t);try{for(M.s();!(r=M.n()).done;){r.value.Win?(k+=1,T=Math.max(T,k),P=0):(k=0,P+=1,C=Math.max(C,P))}}catch(t){M.e(t)}finally{M.f()}var D="N/A";return{first_pick_count:m,second_pick_count:g,first_pick_rate:m?sr(w):D,second_pick_rate:g?sr(A):D,first_pick_winrate:m?sr(E):D,second_pick_winrate:g?sr(_):D,total_winrate:n?sr(O):D,total_battles:n,total_wins:b+S,max_win_streak:T,max_loss_streak:C,avg_ppg:i.toFixed(2),avg_turns:u.toFixed(2),avg_time:h,max_turns:c,max_time:p,first_turn_games:d,first_turn_rate:n?sr(d/n):D}}};function vr(t){throw new TypeError('"'+t+'" is read-only')}function mr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function br(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return Sr(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Sr(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Sr(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,Sr(l,"constructor",s),Sr(s,"constructor",c),c.displayName="GeneratorFunction",Sr(s,o,"GeneratorFunction"),Sr(l),Sr(l,o,"Generator"),Sr(l,n,function(){return this}),Sr(l,"toString",function(){return"[object Generator]"}),(br=function(){return{w:i,m:h}})()}function Sr(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Sr=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){Sr(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},Sr(t,e,r,n)}function wr(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Ar(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){wr(i,n,o,a,u,"next",t)}function u(t){wr(i,n,o,a,u,"throw",t)}a(void 0)})}}function Er(){return _r.apply(this,arguments)}function _r(){return(_r=Ar(br().m(function t(){var e;return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ot.fetchArtifactJSON("en");case 1:if(null!==(e=t.v)){t.n=3;break}return t.n=2,It.fetchArtifactJson();case 2:vr("rawJSON");case 3:if(null!==e){t.n=4;break}return console.error("Could not get artifact Json map from E7 server or flask server"),t.a(2,null);case 4:return t.a(2,Object.fromEntries(e.filter(function(t){return null!==t.name}).map(function(t){return[t.code,t.name]})))}},t)}))).apply(this,arguments)}var Or,jr,Tr,Cr,kr;const Pr={getArtifacts:(kr=Ar(br().m(function t(){var e,r,n,o;return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.ARTIFACTS);case 1:if(n=e=t.v,!(r=null!==n)){t.n=2;break}r=void 0!==e;case 2:if(!r){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,this.fetchAndCacheArtifacts();case 4:o=t.v;case 5:return t.a(2,o)}},t,this)})),function(){return kr.apply(this,arguments)}),getArtifactLowercaseNameMap:(Cr=Ar(br().m(function t(){var e,r;return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return r=t.v,e=Object.fromEntries(Object.values(r).filter(function(t){return null!==t}).map(function(t){return[t.toLowerCase(),t]})),t.n=4,He.cache(He.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP,e);case 4:return t.a(2,e)}},t,this)})),function(){return Cr.apply(this,arguments)}),getArtifactObjectList:(Tr=Ar(br().m(function t(){var e,r;return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.ARTIFACT_OBJECT_LIST);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return r=t.v,e=Object.entries(r).map(function(t){var e=mr(t,2);return{id:e[0],name:e[1]}}),t.n=4,He.cache(He.Keys.ARTIFACT_OBJECT_LIST,e);case 4:return t.a(2,e)}},t,this)})),function(){return Tr.apply(this,arguments)}),fetchAndCacheArtifacts:(jr=Ar(br().m(function t(){var e;return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Er();case 1:return e=t.v,t.n=2,He.cache(He.Keys.ARTIFACTS,e);case 2:return t.a(2,e)}},t)})),function(){return jr.apply(this,arguments)}),clearArtifactData:(Or=Ar(br().m(function t(){return br().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.delete(He.Keys.ARTIFACTS);case 1:return t.a(2)}},t)})),function(){return Or.apply(this,arguments)}),convertCodeToName:function(t,e){return e[t]||t}};function Mr(t){return Array.isArray?Array.isArray(t):"[object Array]"===Rr(t)}function Dr(t){return"string"==typeof t}function Fr(t){return"number"==typeof t}function Br(t){return!0===t||!1===t||function(t){return Nr(t)&&null!==t}(t)&&"[object Boolean]"==Rr(t)}function Nr(t){return"object"==typeof t}function Ir(t){return null!=t}function xr(t){return!t.trim().length}function Rr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Lr=Object.prototype.hasOwnProperty;class Gr{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let r=Hr(t);this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Hr(t){let e=null,r=null,n=null,o=1,i=null;if(Dr(t)||Mr(t))n=t,e=Ur(t),r=Kr(t);else{if(!Lr.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const a=t.name;if(n=a,Lr.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(a));e=Ur(a),r=Kr(a),i=t.getFn}return{path:e,id:r,weight:o,src:n,getFn:i}}function Ur(t){return Mr(t)?t:t.split(".")}function Kr(t){return Mr(t)?t.join("."):t}var $r={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let r=[],n=!1;const o=(t,e,i)=>{if(Ir(t))if(e[i]){const a=t[e[i]];if(!Ir(a))return;if(i===e.length-1&&(Dr(a)||Fr(a)||Br(a)))r.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(a));else if(Mr(a)){n=!0;for(let t=0,r=a.length;t<r;t+=1)o(a[t],e,i+1)}else e.length&&o(a,e,i+1)}else r.push(t)};return o(t,Dr(e)?e.split("."):e,0),n?r:r[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Wr=/[^ ]+/g;class Jr{constructor({getFn:t=$r.getFn,fieldNormWeight:e=$r.fieldNormWeight}={}){this.norm=function(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(e){const o=e.match(Wr).length;if(r.has(o))return r.get(o);const i=1/Math.pow(o,.5*t),a=parseFloat(Math.round(i*n)/n);return r.set(o,a),a},clear(){r.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Dr(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();Dr(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,r=this.size();e<r;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Ir(t)||xr(t))return;let r={v:t,i:e,n:this.norm.get(t)};this.records.push(r)}_addObject(t,e){let r={i:e,$:{}};this.keys.forEach((e,n)=>{let o=e.getFn?e.getFn(t):this.getFn(t,e.path);if(Ir(o))if(Mr(o)){let t=[];const e=[{nestedArrIndex:-1,value:o}];for(;e.length;){const{nestedArrIndex:r,value:n}=e.pop();if(Ir(n))if(Dr(n)&&!xr(n)){let e={v:n,i:r,n:this.norm.get(n)};t.push(e)}else Mr(n)&&n.forEach((t,r)=>{e.push({nestedArrIndex:r,value:t})})}r.$[n]=t}else if(Dr(o)&&!xr(o)){let t={v:o,n:this.norm.get(o)};r.$[n]=t}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Vr(t,e,{getFn:r=$r.getFn,fieldNormWeight:n=$r.fieldNormWeight}={}){const o=new Jr({getFn:r,fieldNormWeight:n});return o.setKeys(t.map(Hr)),o.setSources(e),o.create(),o}function qr(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:o=$r.distance,ignoreLocation:i=$r.ignoreLocation}={}){const a=e/t.length;if(i)return a;const u=Math.abs(n-r);return o?a+u/o:u?1:a}const zr=32;function Qr(t,e,r,{location:n=$r.location,distance:o=$r.distance,threshold:i=$r.threshold,findAllMatches:a=$r.findAllMatches,minMatchCharLength:u=$r.minMatchCharLength,includeMatches:c=$r.includeMatches,ignoreLocation:s=$r.ignoreLocation}={}){if(e.length>zr)throw new Error(`Pattern length exceeds max of ${zr}.`);const f=e.length,l=t.length,h=Math.max(0,Math.min(n,l));let p=i,d=h;const y=u>1||c,v=y?Array(l):[];let m;for(;(m=t.indexOf(e,d))>-1;){let t=qr(e,{currentLocation:m,expectedLocation:h,distance:o,ignoreLocation:s});if(p=Math.min(t,p),d=m+f,y){let t=0;for(;t<f;)v[m+t]=1,t+=1}}d=-1;let g=[],b=1,S=f+l;const w=1<<f-1;for(let n=0;n<f;n+=1){let i=0,u=S;for(;i<u;){qr(e,{errors:n,currentLocation:h+u,expectedLocation:h,distance:o,ignoreLocation:s})<=p?i=u:S=u,u=Math.floor((S-i)/2+i)}S=u;let c=Math.max(1,h-u+1),m=a?l:Math.min(h+u,l)+f,A=Array(m+2);A[m+1]=(1<<n)-1;for(let i=m;i>=c;i-=1){let a=i-1,u=r[t.charAt(a)];if(y&&(v[a]=+!!u),A[i]=(A[i+1]<<1|1)&u,n&&(A[i]|=(g[i+1]|g[i])<<1|1|g[i+1]),A[i]&w&&(b=qr(e,{errors:n,currentLocation:a,expectedLocation:h,distance:o,ignoreLocation:s}),b<=p)){if(p=b,d=a,d<=h)break;c=Math.max(1,2*h-d)}}if(qr(e,{errors:n+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:s})>p)break;g=A}const A={isMatch:d>=0,score:Math.max(.001,b)};if(y){const t=function(t=[],e=$r.minMatchCharLength){let r=[],n=-1,o=-1,i=0;for(let a=t.length;i<a;i+=1){let a=t[i];a&&-1===n?n=i:a||-1===n||(o=i-1,o-n+1>=e&&r.push([n,o]),n=-1)}return t[i-1]&&i-n>=e&&r.push([n,i-1]),r}(v,u);t.length?c&&(A.indices=t):A.isMatch=!1}return A}function Zr(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const o=t.charAt(r);e[o]=(e[o]||0)|1<<n-r-1}return e}const Yr=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Xr{constructor(t,{location:e=$r.location,threshold:r=$r.threshold,distance:n=$r.distance,includeMatches:o=$r.includeMatches,findAllMatches:i=$r.findAllMatches,minMatchCharLength:a=$r.minMatchCharLength,isCaseSensitive:u=$r.isCaseSensitive,ignoreDiacritics:c=$r.ignoreDiacritics,ignoreLocation:s=$r.ignoreLocation}={}){if(this.options={location:e,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:s},t=u?t:t.toLowerCase(),t=c?Yr(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(t,e)=>{this.chunks.push({pattern:t,alphabet:Zr(t),startIndex:e})},l=this.pattern.length;if(l>zr){let t=0;const e=l%zr,r=l-e;for(;t<r;)f(this.pattern.substr(t,zr),t),t+=zr;if(e){const t=l-zr;f(this.pattern.substr(t),t)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:r,includeMatches:n}=this.options;if(t=e?t:t.toLowerCase(),t=r?Yr(t):t,this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:o,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:s}=this.options;let f=[],l=0,h=!1;this.chunks.forEach(({pattern:e,alphabet:r,startIndex:p})=>{const{isMatch:d,score:y,indices:v}=Qr(t,e,r,{location:o+p,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:n,ignoreLocation:s});d&&(h=!0),l+=y,d&&v&&(f=[...f,...v])});let p={isMatch:h,score:h?l/this.chunks.length:1};return h&&n&&(p.indices=f),p}}class tn{constructor(t){this.pattern=t}static isMultiMatch(t){return en(t,this.multiRegex)}static isSingleMatch(t){return en(t,this.singleRegex)}search(){}}function en(t,e){const r=t.match(e);return r?r[1]:null}class rn extends tn{constructor(t,{location:e=$r.location,threshold:r=$r.threshold,distance:n=$r.distance,includeMatches:o=$r.includeMatches,findAllMatches:i=$r.findAllMatches,minMatchCharLength:a=$r.minMatchCharLength,isCaseSensitive:u=$r.isCaseSensitive,ignoreDiacritics:c=$r.ignoreDiacritics,ignoreLocation:s=$r.ignoreLocation}={}){super(t),this._bitapSearch=new Xr(t,{location:e,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class nn extends tn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,r=0;const n=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,r))>-1;)r=e+o,n.push([e,r-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const on=[class extends tn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},nn,class extends tn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends tn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends tn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends tn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends tn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},rn],an=on.length,un=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const cn=new Set([rn.type,nn.type]);class sn{constructor(t,{isCaseSensitive:e=$r.isCaseSensitive,ignoreDiacritics:r=$r.ignoreDiacritics,includeMatches:n=$r.includeMatches,minMatchCharLength:o=$r.minMatchCharLength,ignoreLocation:i=$r.ignoreLocation,findAllMatches:a=$r.findAllMatches,location:u=$r.location,threshold:c=$r.threshold,distance:s=$r.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:r,includeMatches:n,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:u,threshold:c,distance:s},t=e?t:t.toLowerCase(),t=r?Yr(t):t,this.pattern=t,this.query=function(t,e={}){return t.split("|").map(t=>{let r=t.trim().split(un).filter(t=>t&&!!t.trim()),n=[];for(let t=0,o=r.length;t<o;t+=1){const o=r[t];let i=!1,a=-1;for(;!i&&++a<an;){const t=on[a];let r=t.isMultiMatch(o);r&&(n.push(new t(r,e)),i=!0)}if(!i)for(a=-1;++a<an;){const t=on[a];let r=t.isSingleMatch(o);if(r){n.push(new t(r,e));break}}}return n})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n,ignoreDiacritics:o}=this.options;t=n?t:t.toLowerCase(),t=o?Yr(t):t;let i=0,a=[],u=0;for(let n=0,o=e.length;n<o;n+=1){const o=e[n];a.length=0,i=0;for(let e=0,n=o.length;e<n;e+=1){const n=o[e],{isMatch:c,indices:s,score:f}=n.search(t);if(!c){u=0,i=0,a.length=0;break}if(i+=1,u+=f,r){const t=n.constructor.type;cn.has(t)?a=[...a,...s]:a.push(s)}}if(i){let t={isMatch:!0,score:u/i};return r&&(t.indices=a),t}}return{isMatch:!1,score:1}}}const fn=[];function ln(t,e){for(let r=0,n=fn.length;r<n;r+=1){let n=fn[r];if(n.condition(t,e))return new n(t,e)}return new Xr(t,e)}const hn="$and",pn="$or",dn="$path",yn="$val",vn=t=>!(!t[hn]&&!t[pn]),mn=t=>({[hn]:Object.keys(t).map(e=>({[e]:t[e]}))});function gn(t,e,{auto:r=!0}={}){const n=t=>{let o=Object.keys(t);const i=(t=>!!t[dn])(t);if(!i&&o.length>1&&!vn(t))return n(mn(t));if((t=>!Mr(t)&&Nr(t)&&!vn(t))(t)){const n=i?t[dn]:o[0],a=i?t[yn]:t[n];if(!Dr(a))throw new Error((t=>`Invalid value for key ${t}`)(n));const u={keyId:Kr(n),pattern:a};return r&&(u.searcher=ln(a,e)),u}let a={children:[],operator:o[0]};return o.forEach(e=>{const r=t[e];Mr(r)&&r.forEach(t=>{a.children.push(n(t))})}),a};return vn(t)||(t=mn(t)),n(t)}function bn(t,e){const r=t.matches;e.matches=[],Ir(r)&&r.forEach(t=>{if(!Ir(t.indices)||!t.indices.length)return;const{indices:r,value:n}=t;let o={indices:r,value:n};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)})}function Sn(t,e){e.score=t.score}class wn{constructor(t,e={},r){this.options={...$r,...e},this.options.useExtendedSearch,this._keyStore=new Gr(this.options.keys),this.setCollection(t,r)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Jr))throw new Error("Incorrect 'index' type");this._myIndex=e||Vr(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ir(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let r=0,n=this._docs.length;r<n;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,n-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let u=Dr(t)?Dr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=$r.ignoreFieldNorm}){t.forEach(t=>{let r=1;t.matches.forEach(({key:t,norm:n,score:o})=>{const i=t?t.weight:null;r*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:n))}),t.score=r})}(u,{ignoreFieldNorm:a}),o&&u.sort(i),Fr(e)&&e>-1&&(u=u.slice(0,e)),function(t,e,{includeMatches:r=$r.includeMatches,includeScore:n=$r.includeScore}={}){const o=[];return r&&o.push(bn),n&&o.push(Sn),t.map(t=>{const{idx:r}=t,n={item:e[r],refIndex:r};return o.length&&o.forEach(e=>{e(t,n)}),n})}(u,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(t){const e=ln(t,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:t,i:r,n:o})=>{if(!Ir(t))return;const{isMatch:i,score:a,indices:u}=e.searchIn(t);i&&n.push({item:t,idx:r,matches:[{score:a,value:t,norm:o,indices:u}]})}),n}_searchLogical(t){const e=gn(t,this.options),r=(t,e,n)=>{if(!t.children){const{keyId:r,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(r),value:this._myIndex.getValueForItemAtKeyId(e,r),searcher:o});return i&&i.length?[{idx:n,item:e,matches:i}]:[]}const o=[];for(let i=0,a=t.children.length;i<a;i+=1){const a=t.children[i],u=r(a,e,n);if(u.length)o.push(...u);else if(t.operator===hn)return[]}return o},n=this._myIndex.records,o={},i=[];return n.forEach(({$:t,i:n})=>{if(Ir(t)){let a=r(e,t,n);a.length&&(o[n]||(o[n]={idx:n,item:t,matches:[]},i.push(o[n])),a.forEach(({matches:t})=>{o[n].matches.push(...t)}))}}),i}_searchObjectList(t){const e=ln(t,this.options),{keys:r,records:n}=this._myIndex,o=[];return n.forEach(({$:t,i:n})=>{if(!Ir(t))return;let i=[];r.forEach((r,n)=>{i.push(...this._findMatches({key:r,value:t[n],searcher:e}))}),i.length&&o.push({idx:n,item:t,matches:i})}),o}_findMatches({key:t,value:e,searcher:r}){if(!Ir(e))return[];let n=[];if(Mr(e))e.forEach(({v:e,i:o,n:i})=>{if(!Ir(e))return;const{isMatch:a,score:u,indices:c}=r.searchIn(e);a&&n.push({score:u,key:t,value:e,idx:o,norm:i,indices:c})});else{const{v:o,n:i}=e,{isMatch:a,score:u,indices:c}=r.searchIn(o);a&&n.push({score:u,key:t,value:o,norm:i,indices:c})}return n}}function An(t){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(t)}function En(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?En(Object(r),!0).forEach(function(e){On(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function On(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=An(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==An(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jn(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function Tn(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={includeScore:!0,threshold:.3},i=new wn(e,n?_n(_n({},o),n):o).search(t);return null!==r?i.slice(0,r):i}wn.version="7.1.0",wn.createIndex=Vr,wn.parseIndex=function(t,{getFn:e=$r.getFn,fieldNormWeight:r=$r.fieldNormWeight}={}){const{keys:n,records:o}=t,i=new Jr({getFn:e,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(o),i},wn.config=$r,wn.parseQuery=gn,function(...t){fn.push(...t)}(sn);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function kn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Pn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dn(t,e){var r=function(t){var r,n;return null!==(r=null===(n=tr.getHeroByName(t,e))||void 0===n?void 0:n.prime)&&void 0!==r?r:e.Fodder.prime},n=function(t,e){return t*e};t[U]=t[D].map(r),t[$]=t[F].map(r),t[K]=t[U].reduce(n,1),t[W]=t[$].reduce(n,1),t[J]=t[P].map(r),t[q]=t[M].map(r),t[V]=t[J].reduce(n,1),t[z]=t[q].reduce(n,1)}function Fn(t,e,r){var n,o=function(t){var r,n;return null!==(r=null===(n=tr.getHeroByCode(t,e))||void 0===n?void 0:n.name)&&void 0!==r?r:e.Fodder.name},i=function(e,n){return n.map(function(n,o){return n?function(t){return Pr.convertCodeToName(t,r)||"None"}(n):function(e,r){return"p1"===e?t.p2_postban===t.p1_picks[r]:t.p1_postban===t.p2_picks[r]}(e,o)?"n/a":"None"})},a=function(t){return t.map(function(t){return t.map(function(t){return s[t]||t})})},u=t.cr_bar.find(function(t){return 100===t[1]}),f=!!u&&t.p1_picks.includes(u[0]),U=(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(n={},l,t.season_name||"None"),h,t.season_code||"None"),p,t.date_time),d,t.seconds),y,t.turns),v,t.seq_num),m,t.p1_id.toString()),g,c[t.p1_server]||t.p1_server||"None"),b,t.p2_id.toString()),S,c[t.p2_server]||t.p2_server||"None"),Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(n,w,jn(t.p1_league)||"None"),A,jn(t.p2_league)||"None"),E,t.p1_win_score||null),_,t.p1_point_delta||null),O,1===t.win),j,1===t.first_pick),T,!!f),C,u?o(u[0]):"n/a"),k,t.cr_bar.map(function(t){return t&&2==t.length?[o(t[0]),t[1]]:["n/a",0]})),P,t.p1_prebans.map(o)),Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(Mn(n,M,t.p2_prebans.map(o)),D,t.p1_picks.map(o)),F,t.p2_picks.map(o)),B,o(t.p1_postban)),N,o(t.p2_postban)),I,a(t.p1_equipment)),x,a(t.p2_equipment)),R,i("p1",t.p1_artifacts)),L,i("p2",t.p2_artifacts)),G,o(t.p1_mvp)),Mn(n,H,o(t.p2_mvp)));return Dn(U,e),U}function Bn(t,e,r){r=null!=r?r:Pr.getArtifacts();var n,o=[],i=kn(t);try{for(i.s();!(n=i.n()).done;){var a=Fn(n.value,e,r);o.push([a["Seq Num"],a])}}catch(t){i.e(t)}finally{i.f()}return Object.fromEntries(o)}function Nn(t,e){var r=t.map(function(t){var r,n=kn(Q);try{for(n.s();!(r=n.n()).done;){var o=r.value;t[o]=JSON.parse(t[o])}}catch(t){n.e(t)}finally{n.f()}var i,a=kn(Z);try{for(a.s();!(i=a.n()).done;){var u=i.value;t[u]="true"===t[u].toLowerCase()}}catch(t){a.e(t)}finally{a.f()}var c,s=kn(Y);try{for(s.s();!(c=s.n()).done;){var f=c.value;t[f]=Number(t[f].replace("'",""))}}catch(t){s.e(t)}finally{s.f()}var l,h=kn(X);try{for(h.s();!(l=h.n()).done;){var p=l.value;t[p]=jn(t[p])}}catch(t){h.e(t)}finally{h.f()}return Dn(t,e),t});return Object.fromEntries(r.map(function(t){return[t["Seq Num"],t]}))}function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function xn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(r),!0).forEach(function(e){Ln(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ln(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gn(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(In(t)+" is not iterable")}function Hn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||Kn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Kn(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Kn(t,e){if(t){if("string"==typeof t)return $n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$n(t,e):void 0}}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Wn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return Jn(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Jn(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Jn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,Jn(l,"constructor",s),Jn(s,"constructor",c),c.displayName="GeneratorFunction",Jn(s,o,"GeneratorFunction"),Jn(l),Jn(l,o,"Generator"),Jn(l,n,function(){return this}),Jn(l,"toString",function(){return"[object Generator]"}),(Wn=function(){return{w:i,m:h}})()}function Jn(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Jn=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){Jn(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},Jn(t,e,r,n)}function Vn(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function qn(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Vn(i,n,o,a,u,"next",t)}function u(t){Vn(i,n,o,a,u,"throw",t)}a(void 0)})}}var zn,Qn,Zn,Yn,Xn,to,eo,ro={loaded_servers:new Set,getBattles:(eo=qn(Wn().m(function t(){var e,r,n,o;return Wn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.BATTLES);case 1:if(n=e=t.v,!(r=null!==n)){t.n=2;break}r=void 0!==e;case 2:if(!r){t.n=3;break}o=e,t.n=4;break;case 3:o=null;case 4:return t.a(2,o)}},t)})),function(){return eo.apply(this,arguments)}),removeBattles:(to=qn(Wn().m(function t(){return Wn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.delete(He.Keys.BATTLES);case 1:return t.n=2,He.delete(He.Keys.UPLOADED_BATTLES);case 2:return t.n=3,He.delete(He.Keys.FILTERED_BATTLES);case 3:case 4:return t.a(2)}},t)})),function(){return to.apply(this,arguments)}),removeFilteredBattles:(Xn=qn(Wn().m(function t(){return Wn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.delete(He.Keys.FILTERED_BATTLES);case 1:case 2:return t.a(2)}},t)})),function(){return Xn.apply(this,arguments)}),applyFilter:(Yn=qn(Wn().m(function t(e){var r,n,o,i,a,u,c,s,f,l,h,p;return Wn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getBattles();case 1:r=t.v,n=e.localFilters||[],o=e.globalFilters||[],i=Object.values(r),a=Un(o);try{for(a.s();!(u=a.n()).done;)c=u.value,"Applying global filter: ".concat(c),s=i.length,i=c.call(i),r=Object.fromEntries(i.map(function(t){return[t["Seq Num"],t]})),"Filtered ".concat(s-i.length," out of ").concat(s,"; new total = ").concat(i.length)}catch(t){a.e(t)}finally{a.f()}f=Un(n),t.p=2,h=Wn().m(function t(){var e,n;return Wn().w(function(t){for(;;)switch(t.n){case 0:e=l.value,"Applying local filter: ".concat(e),n=Object.keys(r).length,r=Object.fromEntries(Object.entries(r).filter(function(t){var r=Hn(t,2),n=(r[0],r[1]);return e.call(n)})),"Filtered ".concat(n-Object.keys(r).length," out of ").concat(n,"; new total = ").concat(Object.keys(r).length);case 1:return t.a(2)}},t)}),f.s();case 3:if((l=f.n()).done){t.n=5;break}return t.d(Gn(h()),4);case 4:t.n=3;break;case 5:t.n=7;break;case 6:t.p=6,p=t.v,f.e(p);case 7:return t.p=7,f.f(),t.f(7);case 8:return"Caching filtered battles ; total = ".concat(Object.keys(r).length),t.n=9,He.cache(He.Keys.FILTERED_BATTLES,r);case 9:return"Filtered battles and stored in cache; modified ['FILTERED_BATTLES']; Applied total of <".concat(n.length+o.length,"> filters"),t.a(2,r)}},t,this,[[2,6,7,8]])})),function(t){return Yn.apply(this,arguments)}),extendBattles:(Zn=qn(Wn().m(function t(e){var r,n,o,i,a;return Wn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.BATTLES);case 1:if(i=r=t.v,!(o=null!==i)){t.n=2;break}o=void 0!==r;case 2:if(!o){t.n=3;break}a=r,t.n=4;break;case 3:a={};case 4:return n=Rn(Rn({},a),e),t.n=5,He.cache(He.Keys.BATTLES,n);case 5:return t.a(2,n)}},t)})),function(t){return Zn.apply(this,arguments)}),cacheQuery:(Qn=qn(Wn().m(function t(e,r,n){var o,i;return Wn().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return t.a(2,[]);case 1:return"Caching queried battles: ".concat(e.length," battles; modified [BATTLES];"),o=Bn(e,r,n),t.n=2,this.extendBattles(o);case 2:return i=t.v,t.a(2,i)}},t,this)})),function(t,e,r){return Qn.apply(this,arguments)}),cacheUpload:(zn=qn(Wn().m(function t(e,r){var n,o;return Wn().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return console.error("No uploaded battles provided to cacheUpload"),t.a(2,{});case 1:return n=Nn(e,r),t.n=2,He.cache(He.Keys.UPLOADED_BATTLES,n);case 2:return t.n=3,this.extendBattles(n);case 3:return o=t.v,t.a(2,o)}},t,this)})),function(t,e){return zn.apply(this,arguments)}),getStats:function(){var t=qn(Wn().m(function t(e,r,n){var o,i,a,u,c,s,f,l,h;return Wn().w(function(t){for(;;)switch(t.n){case 0:return o=r.localFilters.length+r.globalFilters.length,"Applying ".concat(o," filters"),i=Object.values(e),t.n=1,this.applyFilter(r);case 1:return a=t.v,u=Object.values(a),t.n=2,yr.getPrebanStats(u,n);case 2:return c=t.v,t.n=3,yr.getFirstPickStats(u,n);case 3:return s=t.v,t.n=4,yr.getGeneralStats(u,n);case 4:return f=t.v,t.n=5,yr.getHeroStats(u,n);case 5:return l=t.v,t.n=6,yr.getServerStats(u);case 6:return h=t.v,t.a(2,{battles:i,filteredBattlesObj:a,prebanStats:c,generalStats:f,firstPickStats:s,playerHeroStats:l.playerHeroStats,enemyHeroStats:l.enemyHeroStats,serverStats:h,numFilters:o})}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()};const no=ro;function oo(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return io(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(io(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,io(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,io(l,"constructor",s),io(s,"constructor",c),c.displayName="GeneratorFunction",io(s,o,"GeneratorFunction"),io(l),io(l,o,"Generator"),io(l,n,function(){return this}),io(l,"toString",function(){return"[object Generator]"}),(oo=function(){return{w:i,m:h}})()}function io(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}io=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){io(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},io(t,e,r,n)}function ao(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function uo(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){ao(i,n,o,a,u,"next",t)}function u(t){ao(i,n,o,a,u,"throw",t)}a(void 0)})}}var co,so,fo,lo={fetchAndCacheSeasonDetails:(fo=uo(oo().m(function t(){var e,r,n,o,i,a,u;return oo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,It.fetchSeasonDetails();case 1:if(!(e=t.v).error){t.n=2;break}throw new Error("Could not fetch season details: ".concat(e.error));case 2:return(r=e.seasonDetails).forEach(function(t){t.range=[t.Start,t.End].map(function(t){return new Date("".concat(t.split(" ")[0],"T00:00:00"))}),t["Season Number"]=String(t["Season Number"])}),r.sort(function(t,e){return parseInt(t["Season Number"])-parseInt(e["Season Number"])}),n=[r[0]],o=r[0],r.slice(1).forEach(function(t){var e=new Date(+o.range[1]+f),r=new Date(+t.range[0]-f),i=o["Season Number"]+"f",a={"Season Number":i,Code:"pvp_rta_ss"+i,Season:"Pre ".concat(t.Season),Start:e.toISOString().slice(0,10),End:r.toISOString().slice(0,10),Status:"Complete",range:[e,r]};n.push(a),n.push(t),o=t}),o.range[1]<new Date&&(i=new Date(+n.at(-1).range[1]+f),a=o["Season Number"]+"f",u={"Season Number":a,Code:"pvp_rta_ss"+a,Season:"Active Pre-Season",Start:i.toISOString().slice(0,10),End:"N/A",Status:"Active",range:[i,new Date]},n.push(u)),n.reverse(),t.n=3,He.cache(He.Keys.SEASON_DETAILS,n);case 3:return t.a(2,n)}},t)})),function(){return fo.apply(this,arguments)}),getSeasonDetails:(so=uo(oo().m(function t(){var e,r,n,o;return oo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.SEASON_DETAILS);case 1:if(n=e=t.v,!(r=null!==n)){t.n=2;break}r=void 0!==e;case 2:if(!r){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,lo.fetchAndCacheSeasonDetails();case 4:o=t.v;case 5:return t.a(2,o)}},t)})),function(){return so.apply(this,arguments)}),clearSeasonDetails:(co=uo(oo().m(function t(){return oo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.delete(He.Keys.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t)})),function(){return co.apply(this,arguments)})};const ho=lo;function po(t){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(t)}function yo(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return vo(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(vo(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,vo(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,vo(l,"constructor",s),vo(s,"constructor",c),c.displayName="GeneratorFunction",vo(s,o,"GeneratorFunction"),vo(l),vo(l,o,"Generator"),vo(l,n,function(){return this}),vo(l,"toString",function(){return"[object Generator]"}),(yo=function(){return{w:i,m:h}})()}function vo(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}vo=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){vo(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},vo(t,e,r,n)}function mo(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function go(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){mo(i,n,o,a,u,"next",t)}function u(t){mo(i,n,o,a,u,"throw",t)}a(void 0)})}}function bo(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=po(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==po(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var So=bo(bo(bo(bo(bo({},n,He.Keys.GLOBAL_USERS),u,He.Keys.EU_USERS),a,He.Keys.ASIA_USERS),i,He.Keys.JPN_USERS),o,He.Keys.KOR_USERS);function wo(t,e){return{id:t.nick_no,name:t.nick_nm,code:t.code,rank:t.rank,world_code:e}}function Ao(t){return Eo.apply(this,arguments)}function Eo(){return(Eo=go(yo().m(function t(e){var r;return yo().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code from E7 server: ".concat(e),t.n=1,Ot.fetchUserJSON(e);case 1:if(r=t.v){t.n=2;break}return"Could not get user map from E7 server for world code: ".concat(e),t.a(2,null);case 2:return"Got user map from E7 server for world code: ".concat(e),t.a(2,Object.fromEntries(r.users.map(function(t){return[t.nick_no,wo(t,e)]})))}},t)}))).apply(this,arguments)}function _o(t){return Oo.apply(this,arguments)}function Oo(){return(Oo=go(yo().m(function t(e){var r,n;return yo().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code: ".concat(e),t.n=1,He.get(So[e]);case 1:if(null===(r=t.v)){t.n=2;break}return t.a(2,r);case 2:return t.n=3,Ao(e);case 3:return n=t.v,t.n=4,He.cache(So[e],n);case 4:return t.a(2,n)}},t)}))).apply(this,arguments)}var jo=function(t){return c[t]};function To(t,e,r){var n=e.find(function(e){return r(e)===t});return n?("Found user: ".concat(JSON.stringify(n)),{user:n,ok:!0}):{user:null,ok:!0}}function Co(t,e){return ko.apply(this,arguments)}function ko(){return(ko=go(yo().m(function t(e,r){var n,o,i,a;return yo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,_o(r);case 1:if(n=t.v,(o=Object.values(n))&&0!==o.length){t.n=2;break}return"User map had no users, falling back to flask server for world code: ".concat(jo(r)),t.a(2,{user:null,ok:!1});case 2:if(i=null,a=null,!e.id){t.n=3;break}i=e.id,a=function(t){return t.id},t.n=5;break;case 3:if(!e.name){t.n=4;break}i=e.name.toLowerCase(),a=function(t){return t.name.toLowerCase()},t.n=5;break;case 4:throw new Error("Must pass a user object with either user.name or user.id to find user");case 5:return t.a(2,To(i,o,a))}},t)}))).apply(this,arguments)}var Po,Mo,Do,Fo,Bo={getUserMap:_o,findUser:(Fo=go(yo().m(function t(e){var r,n,o;return yo().w(function(t){for(;;)switch(t.n){case 0:if("Attempting to find user: ".concat(JSON.stringify(e)),(e.name||e.id)&&e.world_code){t.n=1;break}throw new Error("Must pass a user object with either user.name or user.id, and user.world_code to find user");case 1:return r=e.id?"ID: ".concat(e.id):"Name: '".concat(e.name,"'"),n=null,t.n=2,Co(e,e.world_code);case 2:if((n=t.v).ok){t.n=4;break}return t.n=3,It.fetchUser(e);case 3:n=t.v;case 4:if(!n.ok){t.n=6;break}if(null!==(o=n.user)){t.n=5;break}throw new Error("Could not find user with ".concat(r," in Server: ").concat(jo(e.world_code)));case 5:return t.a(2,o);case 6:throw new Error("Function did not properly terminate: ".concat(JSON.stringify(n)));case 7:return t.a(2)}},t)})),function(t){return Fo.apply(this,arguments)}),setUser:(Do=go(yo().m(function t(e){return yo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.cache(He.Keys.USER,e);case 1:return t.a(2)}},t)})),function(t){return Do.apply(this,arguments)}),getUser:(Mo=go(yo().m(function t(){return yo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.get(He.Keys.USER);case 1:return t.a(2,t.v)}},t)})),function(){return Mo.apply(this,arguments)}),clearUserData:function(){var t=go(yo().m(function t(){return yo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.clearUserData();case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),clearUserDataLists:(Po=go(yo().m(function t(){return yo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,He.clearUserLists();case 1:return t.a(2)}},t)})),function(){return Po.apply(this,arguments)})};const No=Bo;var Io={HeroManager:tr,BattleManager:no,SeasonManager:ho,UserManager:No,ClientCache:He,ArtifactManager:Pr};function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function Ro(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return Lo(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Lo(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Lo(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,Lo(l,"constructor",s),Lo(s,"constructor",c),c.displayName="GeneratorFunction",Lo(s,o,"GeneratorFunction"),Lo(l),Lo(l,o,"Generator"),Lo(l,n,function(){return this}),Lo(l,"toString",function(){return"[object Generator]"}),(Ro=function(){return{w:i,m:h}})()}function Lo(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Lo=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){Lo(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},Lo(t,e,r,n)}function Go(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Ho(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Go(i,n,o,a,u,"next",t)}function u(t){Go(i,n,o,a,u,"throw",t)}a(void 0)})}}function Uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$o(n.key),n)}}function Ko(t,e,r){return(e=$o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $o(t){var e=function(t,e){if("object"!=xo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xo(e)?e:e+""}var Wo={GLOBAL_SERVER:"Global Server",KOR_SERVER:"Korea Server",JPN_SERVER:"Japan Server",ASIA_SERVER:"Asia Server",EU_SERVER:"Europe Server",HEROES:"Heroes",ARTIFACTS:"Artifacts"},Jo={keys:["name"],threshold:.2},Vo={keys:["name"],threshold:.2},qo={keys:["name"],threshold:.2};function zo(t,e){return Tn(t,e,null,Jo)}function Qo(t,e){return Tn(t,e,null,Vo)}function Zo(t,e){return Tn(t,e,null,qo)}var Yo=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ko(this,"DOMAIN_CACHE",{})},e=[{key:"get_domain",value:(s=Ho(Ro().m(function t(e){var r,c;return Ro().w(function(t){for(;;)switch(t.n){case 0:if(this.DOMAIN_CACHE[e]){t.n=10;break}c=e,t.n=c===Wo.GLOBAL_SERVER?1:c===Wo.KOR_SERVER?2:c===Wo.JPN_SERVER?3:c===Wo.ASIA_SERVER?4:c===Wo.EU_SERVER?5:c===Wo.HEROES?6:c===Wo.ARTIFACTS?7:8;break;case 1:return this.DOMAIN_CACHE[e]=No.getUserMap(n),t.a(3,8);case 2:return this.DOMAIN_CACHE[e]=No.getUserMap(o),t.a(3,8);case 3:return this.DOMAIN_CACHE[e]=No.getUserMap(i),t.a(3,8);case 4:return this.DOMAIN_CACHE[e]=No.getUserMap(a),t.a(3,8);case 5:return this.DOMAIN_CACHE[e]=No.getUserMap(u),t.a(3,8);case 6:return this.DOMAIN_CACHE[e]=tr.getHeroManager(),t.a(3,8);case 7:return this.DOMAIN_CACHE[e]=Pr.getArtifactObjectList(),t.a(3,8);case 8:return t.n=9,this.DOMAIN_CACHE[e];case 9:r=t.v,Array.isArray(r)||(this.DOMAIN_CACHE[e]=e===Wo.HEROES?r.heroes:Object.values(r));case 10:return t.n=11,this.DOMAIN_CACHE[e];case 11:return t.a(2,t.v)}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"search",value:(c=Ho(Ro().m(function t(e,r){var n,o;return Ro().w(function(t){for(;;)switch(t.n){case 0:"Searching ".concat(e," for ").concat(r),o=e,t.n=o===Wo.GLOBAL_SERVER?1:o===Wo.KOR_SERVER?3:o===Wo.JPN_SERVER?5:o===Wo.ASIA_SERVER?7:o===Wo.EU_SERVER?9:o===Wo.HEROES?11:o===Wo.ARTIFACTS?13:15;break;case 1:return t.n=2,this.get_domain(e);case 2:case 4:case 6:case 8:case 10:return n=t.v,t.a(2,Qo(r,n));case 3:return t.n=4,this.get_domain(e);case 5:return t.n=6,this.get_domain(e);case 7:return t.n=8,this.get_domain(e);case 9:return t.n=10,this.get_domain(e);case 11:return t.n=12,this.get_domain(e);case 12:return n=t.v,t.a(2,zo(r,n));case 13:return t.n=14,this.get_domain(e);case 14:return n=t.v,t.a(2,Zo(r,n));case 15:throw new Error("Unknown domain: ".concat(e));case 16:return t.a(2)}},t,this)})),function(t,e){return c.apply(this,arguments)})}],e&&Uo(t.prototype,e),r&&Uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,c,s}();function Xo(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return ti(s,"_invoke",function(r,n,o){var i,u,c,s=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return i=e,u=0,c=t,h.n=r,a}};function p(r,n){for(u=r,c=n,e=0;!l&&s&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];r>3?(o=d===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,h.v=n,h.n=i[1]):p<d&&(o=r<3||i[0]>n||n>d)&&(i[4]=r,i[5]=n,h.n=d,u=0))}if(o||r>1)return a;throw l=!0,n}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,c=d;(e=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,c)):h.n=c:h.v=c);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?c:r.call(n,h))!==a)break}catch(e){i=t,u=1,c=e}finally{s=1}}return{value:e,done:l}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(ti(e={},n,function(){return this}),e),l=s.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,ti(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=s,ti(l,"constructor",s),ti(s,"constructor",c),c.displayName="GeneratorFunction",ti(s,o,"GeneratorFunction"),ti(l),ti(l,o,"Generator"),ti(l,n,function(){return this}),ti(l,"toString",function(){return"[object Generator]"}),(Xo=function(){return{w:i,m:h}})()}function ti(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ti=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var i=function(e,r){ti(t,e,function(t){return this._invoke(e,r,t)})};i("next",0),i("throw",1),i("return",2)}},ti(t,e,r,n)}function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function ni(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){ri(i,n,o,a,u,"next",t)}function u(t){ri(i,n,o,a,u,"throw",t)}a(void 0)})}}Ko(Yo,"DOMAINS",Wo),document.addEventListener("DOMContentLoaded",ni(Xo().m(function t(){var e,r,n,o,i;return Xo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Io.ClientCache.clearData();case 1:return t.n=2,Io.UserManager.getUserMap("world_global");case 2:return e=t.v,t.n=3,ho.getSeasonDetails();case 3:return ei(r=t.v),r.length,t.n=4,Io.HeroManager.getHeroManager();case 4:return t.v,t.n=5,Io.ArtifactManager.getArtifacts();case 5:return ei(n=t.v),n.length,Tn("wolf",Object.values(e),10,{keys:["name"],distance:4}),o=new Yo,t.n=6,o.search("Global Server","wolf");case 6:return i=t.v,t.n=7,Pr.getArtifactObjectList();case 7:return t.v,t.n=8,o.search(Yo.DOMAINS.ARTIFACTS,"elbris");case 8:t.v,i.map(function(t){return[t.item.name,t.item.id]});case 9:return t.a(2)}},t)})))})();
//# sourceMappingURL=test.0c1cac04dfead01c3121.bundle.js.map