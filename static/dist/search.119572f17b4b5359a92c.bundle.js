/*! For license information please see search.119572f17b4b5359a92c.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,r,o,i={32:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(e instanceof Set)return e.has(t);if("object"===r(e)&&null!==e&&!Array.isArray(e)&&["start","end","endInclusive","type"].every(function(t){return e.hasOwnProperty(t)}))return t>=e.start&&(e.endInclusive?t<=e.end:t<e.end);if(Array.isArray(e))return e.includes(t);throw new Error("Invalid match pattern for 'in' operators; got: '".concat(t,"' and '").concat(JSON.stringify(e),"}' (").concat(e.constructor.name,")"))}n.d(e,{A:()=>i});var i={">":function(t,e){return t>e},"<":function(t,e){return t<e},"=":function(t,e){return t===e},in:function(t,e){return o(t,e)},">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e},"!=":function(t,e){return t!==e},"!in":function(t,e){return!o(t,e)}}},48:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(93);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var s=function(){return c(function t(){i(this,t)},[{key:"SELECT_DATA_MSG",get:function(){return this._SELECT_DATA_MSG||(this._SELECT_DATA_MSG=r.KU.unwrapHtmlElt("select-data-msg"))}},{key:"FILTER_MSG",get:function(){return this._FILTER_MSG||(this._FILTER_MSG=r.KU.unwrapHtmlElt("filterMSG"))}},{key:"SELECT_DATA_BODY",get:function(){return this._SELECT_DATA_BODY||(this._SELECT_DATA_BODY=r.KU.unwrapHtmlElt("select-data-body"))}},{key:"SHOW_STATS_BODY",get:function(){return this._SHOW_STATS_BODY||(this._SHOW_STATS_BODY=r.KU.unwrapHtmlElt("show-stats-body"))}},{key:"LOAD_DATA_BODY",get:function(){return this._LOAD_DATA_BODY||(this._LOAD_DATA_BODY=r.KU.unwrapHtmlElt("load-data-body"))}},{key:"CLEAR_DATA_BTN",get:function(){return this._CLEAR_DATA_BTN||(this._CLEAR_DATA_BTN=r.KU.unwrapHtmlElt("clear-data-btn"))}},{key:"UPLOAD_FORM",get:function(){return this._UPLOAD_FORM||(this._UPLOAD_FORM=r.KU.unwrapHtmlElt("uploadForm"))}},{key:"CSV_FILE",get:function(){return this._CSV_FILE||(this._CSV_FILE=r.KU.unwrapHtmlElt("csvFile"))}},{key:"USER_QUERY_FORM_NAME",get:function(){return this._USER_QUERY_FORM_NAME||(this._USER_QUERY_FORM_NAME=r.KU.unwrapHtmlElt("user-query-form-name"))}},{key:"USER_QUERY_FORM_SERVER",get:function(){return this._USER_QUERY_FORM_SERVER||(this._USER_QUERY_FORM_SERVER=r.KU.unwrapHtmlElt("user-query-form-server"))}},{key:"BATTLES_TABLE",get:function(){return this._BATTLES_TABLE||(this._BATTLES_TABLE=r.KU.unwrapHtmlElt("BattlesTable"))}},{key:"AUTO_ZOOM_FLAG",get:function(){return this._AUTO_ZOOM_FLAG||(this._AUTO_ZOOM_FLAG=r.KU.unwrapHtmlElt("auto-zoom-flag"))}},{key:"FOOTER_BODY",get:function(){return this._FOOTER||(this._FOOTER=r.KU.unwrapHtmlElt("footer-body"))}},{key:"USER_NAME",get:function(){return this._USER_NAME||(this._USER_NAME=r.KU.unwrapHtmlElt("user-name"))}},{key:"USER_ID",get:function(){return this._USER_ID||(this._USER_ID=r.KU.unwrapHtmlElt("user-id"))}},{key:"USER_SERVER",get:function(){return this._USER_SERVER||(this._USER_SERVER=r.KU.unwrapHtmlElt("user-server"))}},{key:"BATTLE_FILTER_TOGGLE",get:function(){return this._BATTLE_FILTER_TOGGLER||(this._BATTLE_FILTER_TOGGLER=r.KU.unwrapHtmlElt("filter-battle-table"))}},{key:"ID_SEARCH_FLAG",get:function(){return this._ID_SEARCH_FLAG||(this._ID_SEARCH_FLAG=r.KU.unwrapHtmlElt("id-search-flag"))}},{key:"ESCAPE_BTN",get:function(){return this._ESCAPE_BTN||(this._ESCAPE_BTN=r.KU.unwrapHtmlElt("escape-btn"))}},{key:"MESSAGE_ELEMENTS_LIST",get:function(){return[this.SELECT_DATA_MSG,this.FILTER_MSG]}}])}(),l=function(){return c(function t(){i(this,t)},[{key:"SIDEBAR_HIDE_BTN",get:function(){return this._SIDEBAR_HIDE_BTN||(this._SIDEBAR_HIDE_BTN=r.KU.unwrapHtmlElt("sidebar-hide"))}},{key:"CLEAR_DATA_BTN",get:function(){return this._CLEAR_DATA_BTN||(this._CLEAR_DATA_BTN=r.KU.unwrapHtmlElt("clear-data-btn"))}},{key:"USER_NAME",get:function(){return this._USER_NAME||(this._USER_NAME=r.KU.unwrapHtmlElt("user-name"))}},{key:"USER_ID",get:function(){return this._USER_ID||(this._USER_ID=r.KU.unwrapHtmlElt("user-id"))}},{key:"USER_SERVER",get:function(){return this._USER_SERVER||(this._USER_SERVER=r.KU.unwrapHtmlElt("user-server"))}},{key:"SIDEBAR_CONTROL",get:function(){return this._SIDEBAR_CONTROL||(this._SIDEBAR_CONTROL=r.KU.unwrapHtmlElt("sidebar-control"))}}])}(),f=function(){return c(function t(){i(this,t)},[{key:"SEARCH_DOMAINS",get:function(){return this._SEARCH_DOMAINS||(this._SEARCH_DOMAINS=r.KU.unwrapHtmlElt("search-domains"))}},{key:"SEARCH_SUBMIT_BTN",get:function(){return this._SEARCH_SUBMIT_BTN||(this._SEARCH_SUBMIT_BTN=r.KU.unwrapHtmlElt("search-submit-btn"))}},{key:"SEARCH_FORM",get:function(){return this._SEARCH_FORM||(this._SEARCH_FORM=r.KU.unwrapHtmlElt("searchForm"))}},{key:"SEARCH_TABLE_CONTAINER",get:function(){return this._SEARCH_TABLE_CONTAINER||(this._SEARCH_TABLE_CONTAINER=r.KU.unwrapHtmlElt("search-table-container"))}}])}();const h={HOME_PAGE:new s,NAV_BAR:new l,SEARCH_PAGE:new f}},84:(t,e,n)=>{n.d(e,{$V:()=>w,eP:()=>I,k2:()=>P,yq:()=>N});var r=n(92),o=n(876),i=n(523),a=n(382),c=n(179),u=n(93);function s(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e,n){return e=d(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function b(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}var _=function(){return b(function t(){E(this,t)},[{key:"call",value:function(t){throw new Error("Base class ".concat(this.constructor.name," does not implement the 'call' method. Implement this method in a subclass."))}}])}(),w=function(t){function e(t){var n;if(E(this,e),(n=p(this,e)).name="last-N",1!==t.length)throw new i.A.SyntaxException("".concat(n.name," expects 1 argument, got ").concat(t.length));var r=Number(t[0]);if(!Number.isInteger(r))throw new i.A.TypeException("".concat(n.name," expects an integer argument, could not parse '").concat(t[0],"' as integer"));return n.str="".concat(n.name,"(").concat(r,")"),n.n=r,n}return v(e,t),b(e,[{key:"call",value:function(t){return t.sort(function(t,e){return t["Seq Num"]-e["Seq Num"]}),t.slice(-this.n)}}])}(function(t){function e(){return E(this,e),p(this,e)}return v(e,t),b(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(_)),T=function(t){function e(t){var n;return E(this,e),(n=p(this,e)).fns=t,n}return v(e,t),b(e,[{key:"asString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="",n=t+o.RG;return this.fns.localFilters.forEach(function(t){return e+="".concat(t.asString(n),",\n")}),"".concat(t).concat(this.str,"(\n").concat(e.trimEnd(),"\n").concat(t,")")}}])}(_),R=function(t){function e(t){var n;return E(this,e),(n=p(this,e,[t])).str="AND",n}return v(e,t),b(e,[{key:"call",value:function(t){return this.fns.localFilters.every(function(e){return e.call(t)})}}])}(T),O=function(t){function e(t){var n;return E(this,e),(n=p(this,e,[t])).str="OR",n}return v(e,t),b(e,[{key:"call",value:function(t){return this.fns.localFilters.some(function(e){return e.call(t)})}}])}(T),I=function(t){function e(t){var n;return E(this,e),(n=p(this,e,[t])).str="XOR",n}return v(e,t),b(e,[{key:"call",value:function(t){var e,n=!1,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(this.fns.localFilters);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=!n&&o.call(t)||n&&!o.call(t)}}catch(t){r.e(t)}finally{r.f()}return n}}])}(T),P=function(t){function e(t){var n;return E(this,e),(n=p(this,e,[t])).str="NOT",n}return v(e,t),b(e,[{key:"call",value:function(t){return!this.fns.localFilters[0].call(t)}}])}(T),L=function(t){function e(){return E(this,e),p(this,e,arguments)}return v(e,t),b(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(_);var D=function(t){function e(t,n,r){var o;return E(this,e),(o=p(this,e)).hero=t.data,o.equipmentCounts=(0,u.JS)(n.list),o.str=(r?"p1":"p2")+".equipment(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return v(e,t),b(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Equipment"]:t["P2 Equipment"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);if(!r)return!1;var o=(0,u.JS)(r);return Object.entries(this.equipmentCounts).every(function(t){var e=l(t,2),n=e[0],r=e[1];return o[n]===r})}}],[{key:"fromFilterStr",value:function(t,n){var o=i.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new i.A.SyntaxException("Invalid equipment function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!a.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new i.A.TypeException("Invalid equipment function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));var c=/^\{[",'a-z\s]*\}$/i.test(o[1])?o[1]:"{".concat(o[1],"}"),u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Set(c,n,{types:["equipment"]})}catch(e){throw new i.A.TypeException("Invalid type in equipment function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return new e(u,s,l)}}])}(L);var C=function(t){function e(t,n,r){var o;return E(this,e),(o=p(this,e)).hero=t.data,o.artifactArr=s(n.data),o.str=(r?"p1":"p2")+".artifact(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return v(e,t),b(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Artifacts"]:t["P2 Artifacts"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);return"Got equipped Artifact: ".concat(r,", hero: ").concat(this.hero,", picks: ").concat(JSON.stringify(n),", artifacts: ").concat(JSON.stringify(e)),!!r&&this.artifactArr.some(function(t){return r.toLowerCase()===t.toLowerCase()})}}],[{key:"fromFilterStr",value:function(t,n){var o=i.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new i.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!a.L.anchorExp(a.L.VALID_STRING_LITERAL_RE).test(o[0]))throw new i.A.TypeException("Invalid artifact function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));var c=a.L.VALID_SET_RE.test(o[1])?o[1]:"{".concat(o[1],"}"),u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Set(c,n,{types:["artifact"]})}catch(e){throw console.error(e),new i.A.TypeException("Invalid type in artifact function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return new e(u,s,l)}}])}(L),x=function(t){function e(t,n,r){var o;return E(this,e),t.asString(),n.asString(),(o=p(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-GEQ(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return v(e,t),b(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]>=e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P1_PICKS])}):t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P2_PICKS])});return"Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold),!!r}}],[{key:"fromFilterStr",value:function(t,n){var o=i.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new i.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!a.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new i.A.TypeException("Invalid CR-GEQ function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));if(!a.L.VALID_INT_LITERAL_RE.test(o[1]))throw new i.A.TypeException("Invalid CR-GEQ function call ; second argument must be a valid integer literal ; got: '".concat(o[1],"' from str: ").concat(t));var c=o[1],u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Int(c)}catch(e){throw new i.A.TypeException("Invalid type in CR-GEQ function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return new e(u,s,l)}}])}(L),k=function(t){function e(t,n,r){var o;return E(this,e),t.asString(),n.asString(),(o=p(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-LT(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return v(e,t),b(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]<e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P1_PICKS])}):t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P2_PICKS])});return"Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold),!!r}}],[{key:"fromFilterStr",value:function(t,n){var o=i.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new i.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!a.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new i.A.TypeException("Invalid CR-LT function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));if(!a.L.VALID_INT_LITERAL_RE.test(o[1]))throw new i.A.TypeException("Invalid CR-LT function call ; second argument must be a valid integer literal ; got: '".concat(o[1],"' from str: ").concat(t));var c=o[1],u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Int(c)}catch(e){throw new i.A.TypeException("Invalid type in CR-LT function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return new e(u,s,l)}}])}(L),N={and:R,or:O,xor:I,not:P,"last-n":w,"p1.equipment":D,"p2.equipment":D,"p1.artifact":C,"p2.artifact":C,"p1.cr-geq":x,"p2.cr-geq":x,"p1.cr-lt":k,"p2.cr-lt":k}},92:(t,e,n)=>{n.d(e,{QE:()=>k,pe:()=>T,yI:()=>x});var r=n(523),o=n(382),i=n(93),a=n(763),c=n(876),u=n(179);function s(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){return e=v(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function S(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function w(t,e){var n=t.split("-")[1],r=e.find(function(t){return t["Season Number"]===n});if(!r)throw new Error("Invalid season specified; ".concat(n," is not a valid season number; failed on str: '").concat(t,"'"));return r}var T=function(){return S(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;A(this,t),this.rawString=e,this.data=this.getData(e,n,r)},[{key:"asString",value:function(){return"".concat(this.data)}}])}(),R=["hero","league","server","equipment","artifact","season-code"],O=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n=null!=n?n:{types:R},t=(t=r.A.trimSurroundingQuotes(t)).trim(),"Parsing string: [".concat(t,"] with types: [").concat(n.types,"]"),!o.L.VALID_STRING_RE.test(t))throw new r.A.SyntaxException("Invalid string; all string content must start with a letter followed by either num, hyphen or period ( case insensitive regex: ".concat(o.L.VALID_STRING_LITERAL_RE.source," ); got: [").concat(t,"]"));function s(t,n){var r,o;switch(t){case"hero":return null===(r=a.A.getHeroByName(n,e.HM))||void 0===r?void 0:r.name;case"league":return u.pc[n]?(0,i.Sn)(n):null;case"server":return Object.values(u.DB).find(function(t){return t.toLowerCase()===n});case"equipment":return c.Nk[n];case"artifact":return e.ARTIFACT_LOWERCASE_STRINGS_MAP[n];case"season-code":return null===(o=e.SeasonDetails.find(function(t){return t.Code===n}))||void 0===o?void 0:o.Code}}var l,h=f(n.types);try{for(h.s();!(l=h.n()).done;){var p=l.value,y=s(p,t);if(y)return"Parsed string: [".concat(t,"] to [").concat(y,"] with type: [").concat(p,"]"),y}}catch(t){h.e(t)}finally{h.f()}throw new r.A.SyntaxException("Invalid string; All strings must either be a valid [".concat(n.types.join(", "),"]; got: [").concat(t,"]"))}},{key:"asString",value:function(){return'"'.concat(this.data,'"')}}])}(T),I=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getData",value:function(t){return r.A.parseDate(t)}},{key:"asString",value:function(){return"".concat(this.rawString)}}])}(T),P=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getData",value:function(t){if(!o.L.VALID_INT_LITERAL_RE.test(t))throw new r.A.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));var e=parseInt(t);if(isNaN(e))throw new r.A.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));return e}},{key:"asString",value:function(){return"".concat(this.data)}}])}(T),L=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getData",value:function(t){if(!o.L.VALID_BOOL_LITERAL_RE.test(t))throw new r.A.SyntaxException("Invalid boolean; must be 'true' or 'false'; got: '".concat(t,"'"));return"true"===t?1:0}},{key:"asString",value:function(){return"".concat(this.data?"true":"false")}}])}(T),D=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getData",value:function(t){var e=t.split("...");if(2!==e.length)throw new r.A.SyntaxException("Invalid range; ranges must be of the format x...y or x...=y ; got more than two values when splitting string: '".concat(t,"'"));var n=l(e,2),i=n[0],a=n[1],c=!1;a.includes("=")&&(a=a.replace("=",""),c=!0);var u={start:null,end:null,endInclusive:c};if(o.L.VALID_DATE_LITERAL_RE.test(i)){if(u.start=r.A.tryConvert(r.A.parseDate,"Date",i,"Could not convert '".concat(i,"' to Date in declared range: '").concat(t,"'")),u.end=r.A.tryConvert(r.A.parseDate,"Date",a,"Could not convert '".concat(a,"' to Date in declared range: '").concat(t,"' ; Ranges must have homogenous types")),u.start>u.end)throw new r.A.SyntaxException("Invalid range; start date must be on or before end date; ".concat(u.start," > ").concat(u.end));u.type="Date"}else{if(!o.L.VALID_INT_LITERAL_RE.test(i))throw new r.A.SyntaxException("Invalid range; must be of the format x...y or x...=y ; got: '".concat(t,"'"));if(u.start=r.A.tryConvert(function(t){return new P(t)},"Int",i,"Could not convert '".concat(i,"' to Int in declared range: '").concat(t,"'")).data,u.end=r.A.tryConvert(function(t){return new P(t)},"Int",a,"Could not convert '".concat(a,"' to Int in declared range: '").concat(t,"' ; Ranges must have homogenous types")).data,u.start>u.end)throw new r.A.SyntaxException("Invalid range; start integer must be equal to or less than end integer; ".concat(u.start," > ").concat(u.end));u.type="Int"}return"Built Range: ".concat(JSON.stringify(u)),u}},{key:"asString",value:function(){var t=this.data.endInclusive?"...=":"...";return"Date"===this.data.type?"".concat(this.data.start.toISOString().slice(0,10)).concat(t).concat(this.data.end.toISOString().slice(0,10)):"Int"===this.data.type?"".concat(this.data.start).concat(t).concat(this.data.end):"Error Converting Range to String => < ".concat(this.data.start).concat(t).concat(this.data.end," >")}}])}(T),C=function(t){function e(){return A(this,e),y(this,e,arguments)}return m(e,t),S(e,[{key:"getType",value:function(t){var e,n=new Set,o=f(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;n.add(i.constructor.name)}}catch(t){o.e(t)}finally{o.f()}if((n=s(n)).length>1)throw new r.A.SyntaxException("Invalid set; all set elements must have the same data type; \n                got: types: [".concat(n.join(", "),"]"));return n[0]}},{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!o.L.VALID_SET_RE.test(t))throw new r.A.SyntaxException("Invalid set; must be in the format: { element1, element2,... }, where elements have either string format or date format; ( case insensitive regex: ".concat(o.L.VALID_SET_RE.source," ) (Just chat gpt this one bro); got: '").concat(t,"'"));var i=r.A.tokenizeWithNestedEnclosures(t,",",1,!0).map(function(t){if(o.L.VALID_SEASON_LITERAL_RE.test(t)){var i=w(t,e.SeasonDetails);return new O(i.Code,e,{types:["season-code"]})}if(o.L.VALID_DATE_LITERAL_RE.test(t))return new I(t);if(o.L.VALID_STRING_RE.test(t))return new O(t,e,n);throw new r.A.SyntaxException("Invalid set element; must be a string or date; got: '".concat(t,"'"))});return this.type=this.getType(i),this.str="{".concat(i.map(function(t){return t.asString()}).join(", "),"}"),this.list=i.map(function(t){return t.data}),new Set(this.list)}},{key:"asString",value:function(){return this.str}}])}(T);function x(t,e){if("Trying to Parse DataType: ".concat(t),o.L.VALID_STRING_LITERAL_RE.test(t))return new O(t,e);if(o.L.VALID_DATE_LITERAL_RE.test(t))return new I(t);if(o.L.VALID_INT_LITERAL_RE.test(t))return new P(t);if(o.L.VALID_BOOL_LITERAL_RE.test(t))return new L(t);if(/\{.*\}/.test(t))return new C(t,e);if(o.L.VALID_RANGE_LITERAL_RE.test(t))return new D(t);if(o.L.VALID_DATA_WORD_LITERAL_RE.test(t))return function(t,e){if(o.L.VALID_SEASON_LITERAL_RE.test(t)){if(e.SeasonDetails.length<1)throw new Error("Did not recieve any season details; failed on: '".concat(t,"'"));if("current-season"===t){var n=e.SeasonDetails.find(function(t){return"Active"===t.Status}).Code;return new O(n,e,{types:["season-code"]})}var r=w(t,e.SeasonDetails);return new O(r.Code,e,{types:["season-code"]})}throw new Error("Unrecognized keyword: '".concat(t,"'"))}(t,e);if(o.L.VALID_STRING_LITERAL_RE.test("'".concat(t,"'")))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you forget to wrap string literals in double or single quotes?"));if(t.includes("'")&&t.includes('"'))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you encase in mismatching quote types?"));if(t.includes(".=")||t.includes(".."))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; were you trying to use a range? Ranges must be of the format x...y or x...=y and may only be int-int or date-date"));throw new r.A.SyntaxException("Invalid DataType declaration; could not parse to valid Field or Declared Data Type; got: '".concat(t,"'"))}var k={Date:I,String:O,Int:P,Bool:L,Set:C,Range:D}},93:(t,e,n)=>{n.d(e,{JS:()=>s,KU:()=>f,L8:()=>l,Sn:()=>u});var r=n(929);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function s(t){return t.reduce(function(t,e){return t[e]=(t[e]||0)+1,t},{})}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={includeScore:!0,threshold:.3},c=(o?new r.A(e,a(a({},i),o)):new r.A(e,i)).search(t);return null!==n?c.slice(0,n):c}var f={unwrapHtmlElt:function(t){var e=document.getElementById(t);if(null===e)throw new Error("Could not find element with ID ".concat(t));return e},setText:function(t,e){this.unwrapHtmlElt(t).textContent=e}}},103:(t,e,n)=>{n.d(e,{A:()=>r});const r={destroyDataTable:function(t){var e=$("#".concat(t));$.fn.dataTable.isDataTable(e)&&e.DataTable().clear().destroy()},replaceData:function(t,e){$("#".concat(t)).DataTable().clear().rows.add(e).draw()}}},114:(t,e,n)=>{n.d(e,{D:()=>r});var r={SELECT_DATA:"select-data",SHOW_STATS:"show-stats",LOAD_DATA:"load-data"}},116:(t,e,n)=>{n.d(e,{DG:()=>o.D,qD:()=>y});var r=n(720),o=(n(48),n(163),n(114));n(828),n(179);function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return a(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,a(p,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:c,m:y}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){a(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},a(t,e,n,r)}function c(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)})}}var s=new Set(Object.values(o.D));function l(t){return!!s.has(t)||(console.error("Invalid page state: ".concat(t)),!1)}var f,h,p,y={getState:(p=u(i().m(function t(){var e,n,a,c;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.HOME_PAGE_STATE);case 1:if(a=e=t.v,!(n=null!==a)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}c=e,t.n=4;break;case 3:c=o.D.SELECT_DATA;case 4:return t.a(2,c)}},t)})),function(){return p.apply(this,arguments)}),setState:(h=u(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:if(l(e)){t.n=1;break}return t.a(2);case 1:return t.n=2,r.A.cache(r.A.Keys.HOME_PAGE_STATE,e);case 2:return t.a(2)}},t)})),function(t){return h.apply(this,arguments)}),resetState:(f=u(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.delete(r.A.Keys.HOME_PAGE_STATE);case 1:return t.a(2)}},t)})),function(){return f.apply(this,arguments)})}},163:(t,e,n)=>{n.d(e,{A:()=>f});var r,o,i=n(763),a=n(823),c=n(687);function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return s(l,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),p=f.prototype=c.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,s(p,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:y}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){s(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},s(t,e,n,r)}function l(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}const f={addStrParam:function(t,e,n){var r=encodeURIComponent(n);return t="".concat(t,"?").concat(e,"=").concat(r)},addStrParams:function(t,e){for(var n in e)t=this.addStrParam(t,n,e[n]);return t},validateFilterSyntax:(r=u().m(function t(e){var n,r,o;return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i.A.getHeroManager();case 1:return n=t.v,r=document.getElementById("filterMSG"),t.p=2,t.n=3,a.A.createAndParse(e,n);case 3:return c.GF.write(new c.ev("Validation Passed",r,[c.GF.STYLES.GREEN])),t.a(2,!0);case 4:return t.p=4,o=t.v,console.error(o),c.GF.write(new c.ev("Validation Failed: ".concat(o.message),r,[c.GF.STYLES.RED])),t.a(2,!1)}},t,null,[[2,4]])}),o=function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(t){l(i,n,o,a,c,"next",t)}function c(t){l(i,n,o,a,c,"throw",t)}a(void 0)})},function(t){return o.apply(this,arguments)}),setScrollPercent:function(t){"Scrolling to ".concat(t,"%");var e=t/100*(document.documentElement.scrollHeight-window.innerHeight),n=document.documentElement,r=n.style.scrollBehavior;n.style.scrollBehavior="auto",window.scrollTo({top:e}),n.style.scrollBehavior=r},getScrollPercent:function(){var t=window.scrollY||document.documentElement.scrollTop,e=document.documentElement.scrollHeight-window.innerHeight;return 0===e?0:t/e*100},setVisibility:function(t,e){e?t.classList.remove("d-none"):t.classList.add("d-none")}}},179:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{CZ:()=>s,DB:()=>c,F7:()=>a,Lx:()=>f,WB:()=>i,bh:()=>h,pc:()=>l,pg:()=>u});var i=new Set(["world_kor","world_global","world_jpn","world_asia","world_eu"]),a={GLOBAL:"world_global",KOR:"world_kor",JPN:"world_jpn",ASIA:"world_asia",EU:"world_eu"},c=o(o(o(o(o({},a.GLOBAL,"Global"),a.KOR,"Korea"),a.JPN,"Japan"),a.ASIA,"Asia"),a.EU,"Europe"),u=(o(o(o(o(o({},c.world_global,a.GLOBAL),c.world_kor,a.KOR),c.world_jpn,a.JPN),c.world_asia,a.ASIA),c.world_eu,a.EU),{set_speed:"Speed",set_acc:"Hit",set_cri:"Critical",set_res:"Resist",set_def:"Defense",set_att:"Attack",set_max_hp:"Health",set_cri_dmg:"Destruction",set_coop:"Unity",set_immune:"Immunity",set_rage:"Rage",set_vampire:"Lifesteal",set_shield:"Protection",set_revenge:"Revenge",set_penetrate:"Penetration",set_torrent:"Torrent",set_counter:"Counter",set_scar:"Injury"}),s=864e5,l={bronze:0,silver:1,gold:2,master:3,challenger:4,champion:5,warlord:6,emperor:7,legend:8},f={SEASON:"Season",SEASON_CODE:"Season Code",DATE_TIME:"Date/Time",SECONDS:"Seconds",TURNS:"Turns",SEQ_NUM:"Seq Num",P1_ID:"P1 ID",P1_SERVER:"P1 Server",P2_ID:"P2 ID",P2_SERVER:"P2 Server",P1_LEAGUE:"P1 League",P2_LEAGUE:"P2 League",P1_POINTS:"P1 Points",POINT_GAIN:"Point Gain",WIN:"Win",FIRST_PICK:"First Pick",FIRST_TURN:"First Turn",FIRST_TURN_HERO:"First Turn Hero",CR_BAR:"CR Bar",P1_PREBANS:"P1 Prebans",P2_PREBANS:"P2 Prebans",P1_PICKS:"P1 Picks",P2_PICKS:"P2 Picks",P1_POSTBAN:"P1 Postban",P2_POSTBAN:"P2 Postban",P1_EQUIPMENT:"P1 Equipment",P2_EQUIPMENT:"P2 Equipment",P1_ARTIFACTS:"P1 Artifacts",P2_ARTIFACTS:"P2 Artifacts",P1_MVP:"P1 MVP",P2_MVP:"P2 MVP",P1_PICKS_PRIMES:"P1 Picks Primes",P1_PICKS_PRIME_PRODUCT:"P1 Picks Prime Product",P2_PICKS_PRIMES:"P2 Picks Primes",P2_PICKS_PRIME_PRODUCT:"P2 Picks Prime Product",P1_PREBANS_PRIMES:"P1 Prebans Primes",P1_PREBANS_PRIME_PRODUCT:"P1 Prebans Prime Product",P2_PREBANS_PRIMES:"P2 Prebans Primes",P2_PREBANS_PRIME_PRODUCT:"P2 Prebans Prime Product"};f.P1_EQUIPMENT,f.P2_EQUIPMENT,f.P1_ARTIFACTS,f.P2_ARTIFACTS,f.CR_BAR,f.P1_PREBANS,f.P2_PREBANS,f.P1_PICKS,f.P2_PICKS,f.FIRST_PICK,f.FIRST_TURN,f.WIN,f.SECONDS,f.TURNS,f.P1_POINTS,f.POINT_GAIN,f.P1_LEAGUE,f.P2_LEAGUE;var h=function(t){for(var e=new Uint8Array(t+1),n=[],r=2;r<=t;r++)if(!e[r]){n.push(r);for(var o=r*r;o<=t;o+=r)e[o]=1}return n}(3e4)},194:(t,e,n)=>{n.d(e,{PU:()=>d,p_:()=>y,wS:()=>p});var r=n(523),o=n(179);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}var l,f,h,p=new Set(["victory-points","point-gain"]),y=new Set(["prebans","p1.picks","p2.picks","p1.prebans","p2.prebans"]),d=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=t.FIELD_EXTRACT_FN_MAP[e];if(!n)throw new r.A.ValidationError("Invalid field type: '".concat(e,"'; valid types are: ").concat(Object.keys(t.FIELD_EXTRACT_FN_MAP).join(", ")));this.str=e,this.extractData=n},(e=[{key:"asString",value:function(){return this.str}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();l=d,h={date:function(t){var e;return t[o.Lx.DATE_TIME]?new Date("".concat(null===(e=t[o.Lx.DATE_TIME])||void 0===e?void 0:e.slice(0,10),"T00:00:00")):"N/A"},season:function(t){return t[o.Lx.SEASON_CODE]},"is-first-pick":function(t){return t[o.Lx.FIRST_PICK]?1:0},"is-win":function(t){return t[o.Lx.WIN]?1:0},"victory-points":function(t){return t[o.Lx.P1_POINTS]},"p1.picks":function(t){return t[o.Lx.P1_PICKS]},"p2.picks":function(t){return t[o.Lx.P2_PICKS]},"p1.prebans":function(t){return t[o.Lx.P1_PREBANS]},"p2.prebans":function(t){return t[o.Lx.P2_PREBANS]},"p1.postban":function(t){return t[o.Lx.P1_POSTBAN]},"p2.postban":function(t){return t[o.Lx.P2_POSTBAN]},prebans:function(t){return[].concat(i(t[o.Lx.P1_PREBANS]),i(t[o.Lx.P2_PREBANS]))},"p1.pick1":function(t){return t[o.Lx.P1_PICKS][0]},"p1.pick2":function(t){return t[o.Lx.P1_PICKS][1]},"p1.pick3":function(t){return t[o.Lx.P1_PICKS][2]},"p1.pick4":function(t){return t[o.Lx.P1_PICKS][3]},"p1.pick5":function(t){return t[o.Lx.P1_PICKS][4]},"p2.pick1":function(t){return t[o.Lx.P2_PICKS][0]},"p2.pick2":function(t){return t[o.Lx.P2_PICKS][1]},"p2.pick3":function(t){return t[o.Lx.P2_PICKS][2]},"p2.pick4":function(t){return t[o.Lx.P2_PICKS][3]},"p2.pick5":function(t){return t[o.Lx.P2_PICKS][4]},"p1.league":function(t){return t[o.Lx.P1_LEAGUE]},"p2.league":function(t){return t[o.Lx.P2_LEAGUE]},"p1.server":function(t){return t[o.Lx.P1_SERVER]},"p2.server":function(t){return t[o.Lx.P2_SERVER]},"p1.id":function(t){return Number(t[o.Lx.P1_ID])},"p2.id":function(t){return Number(t[o.Lx.P2_ID])},"p1.mvp":function(t){return t[o.Lx.P1_MVP]},"p2.mvp":function(t){return t[o.Lx.P2_MVP]},"is-first-turn":function(t){return t[o.Lx.FIRST_TURN]},"first-turn-hero":function(t){return t[o.Lx.FIRST_TURN_HERO]},turns:function(t){return t[o.Lx.TURNS]},seconds:function(t){return t[o.Lx.SECONDS]},"point-gain":function(t){return t[o.Lx.POINT_GAIN]}},(f=s(f="FIELD_EXTRACT_FN_MAP"))in l?Object.defineProperty(l,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[f]=h},321:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(720);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(p),c(p,o,"Generator"),c(p,r,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:y}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)})}}var l,f,h,p;const y={ACTIONS:{CLEAR_USER:"CLEAR_USER",SHOW_NO_USER_MSG:"SHOW_NO_USER_MSG",SHOW_DATA_ALREADY_CLEARED_MSG:"SHOW_DATA_ALREADY_CLEARED_MSG",QUERY_USER:"QUERY_USER"},getState:(p=s(a().m(function t(){var e,n,o,i;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.INTER_PAGE_MANAGER);case 1:if(o=e=t.v,!(n=null!==o)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}i=e,t.n=4;break;case 3:i={actions:[]};case 4:return t.a(2,i)}},t)})),function(){return p.apply(this,arguments)}),setState:(h=s(a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.cache(r.A.Keys.INTER_PAGE_MANAGER,e);case 1:return t.a(2)}},t)})),function(t){return h.apply(this,arguments)}),pushActions:(f=s(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return r=t.v,(n=r.actions).push.apply(n,o(e)),t.n=2,this.setState(r);case 2:return t.a(2)}},t,this)})),function(t){return f.apply(this,arguments)}),flushState:(l=s(a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return e=t.v,t.n=2,r.A.delete(r.A.Keys.INTER_PAGE_MANAGER);case 2:return t.a(2,e)}},t,this)})),function(){return l.apply(this,arguments)})}},382:(t,e,n)=>{n.d(e,{L:()=>N});var r=n(194);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")(?=[,)\\s;]|$)"),e)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")$"),e)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";if(t.length<1)throw new Error("orRegex must have at least one pattern");for(var n="(?:".concat(t[0].source,")"),r=1;r<t.length;r++)n+="|(?:".concat(t[r].source,")");return new RegExp(n,e)}var c=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},u=Object.keys(r.PU.FIELD_EXTRACT_FN_MAP),s=new RegExp("^(?:".concat(u.map(c).join("|"),")"),"i"),l=new RegExp("(?:".concat(["and","or","xor","not"].map(c).join("|"),")(?=\\()"),"i"),f=new RegExp("(?:".concat(["last-n"].map(c).join("|"),")(?=\\()"),"i"),h=new RegExp("(?:".concat(["p1.equipment","p2.equipment","p1.artifact","p2.artifact","p1.cr-geq","p2.cr-geq","p1.cr-lt","p2.cr-lt"].map(c).join("|"),")(?=\\()"),"i"),p=a([l,f,h]),y=/.*/i,d=/\d{4}-\d{2}-\d{2}/,v=/\{\s*\}/,m=/-?\d+/,g=/season-[1-9]+[0-9]*f?|current-season/i,E=new RegExp("^".concat(d.source,"$"),"i"),A=new RegExp("(?:".concat(g.source,")"),"i"),b=y.source,S=m.source,_=d.source,w=s.source,T=A.source,R=new RegExp('"('.concat(b,")\"|'(").concat(b,")'"),"i"),O=new RegExp(i(R),"i"),I=R.source,P=new RegExp("(?:".concat(I,"|").concat(b,"|").concat(_,")"),"i"),L=new RegExp("(?:".concat(w,"|").concat(T,")"),"i"),D=P.source,C=new RegExp("\\{\\s*(?:".concat(D,"\\s*)(?:,\\s*").concat(D,"\\s*)*,?\\s*\\}|").concat(v.source),"i"),x=new RegExp("".concat(S,"\\.\\.\\.").concat(S,"|").concat(_,"\\.\\.\\.").concat(_,"|").concat(S,"\\.\\.\\.=").concat(S,"|").concat(_,"\\.\\.\\.=").concat(_)),k=new RegExp("^".concat(x.source,"$"));var N={VALID_STRING_RE:y,VALID_DATE_RE:d,VALID_INT_RE:m,EMPTY_SET_RE:v,SET_ELEMENT_RE:P,VALID_SET_RE:C,VALID_STRING_LITERAL_RE:O,VALID_DATE_LITERAL_RE:E,VALID_INT_LITERAL_RE:/^-?\d+$/,VALID_BOOL_LITERAL_RE:/^(true|false)$/i,VALID_RANGE_RE:x,VALID_RANGE_LITERAL_RE:k,VALID_SEASON_RE:g,VALID_SEASON_LITERAL_RE:i(g),VALID_DATA_WORD_RE:A,VALID_DATA_WORD_LITERAL_RE:i(A),VALID_FIELD_WORD_RE:s,VALID_DATAFIELD_RE:L,VALID_GLOBAL_FILTER_RE:/last-n\(\d+\)/i,ANCHORED_STR_LITERAL_RE:i(O),VALID_CLAUSE_FUNCTIONS_RE:l,VALID_DIRECT_FUNCTIONS_RE:h,VALID_GLOBAL_FUNCTIONS_RE:f,VALID_FUNCTIONS_RE:p,padRegex:o,anchorExp:i,tokenMatch:function(t){return t.match(p)?"keyword":t.match(/\s+(?:!=|<|>|=|>=|<=|in|!in)(?=\s+)/i)?"operator":t.match(new RegExp("[a-z0-9.\"'}=)-]".concat(L.source,"(?=[,)\\s;]|$)"),"i"))?null:t.match(o(s))?"field":t.match(o(A))?"declared-data":t.match(o(R))?"string":t.match(o(C))?"set":t.match(o(x))?"range":t.match(/[^(,\s;.=0-9\-]+\d+/i)?null:t.match(o(m))||t.match(o(d))||t.match(/(?:^|\s)(?:true|false)(?=[,)\s;]|$)/i)?"declared-data":t.match(/[\(\)\{\}\;\,]/)?"bracket":(t.next(),null)},orRegex:a,escapeRegex:c}},523:(t,e,n)=>{n.d(e,{A:()=>O});var r=n(382);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e,n){return e=E(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,n||[],E(t).constructor):e.apply(t,n))}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function v(t){var e="function"==typeof Map?new Map:void 0;return v=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(m())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&g(o,n.prototype),o}(t,arguments,E(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,t)},v(t)}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var A=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Syntax Exception",n}return d(e,t),f(e)}(v(Error)),b=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Type Exception",n}return d(e,t),f(e)}(v(Error)),S=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Validation Error",n}return d(e,t),f(e)}(v(Error));var _={"(":")","{":"}",'"':'"',"'":"'"},w={"'":'"','"':"'"},T=Object.fromEntries(Object.entries(_).filter(function(t){var e=i(t,2);return e[0]!==e[1]}).map(function(t){var e=i(t,2),n=e[0];return[e[1],n]}));function R(t){var e,n={},r=c(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o]=(n[o]||0)+1}}catch(t){r.e(t)}finally{r.f()}return n}const O={SyntaxException:A,TypeException:b,ValidationError:S,retrieveEnclosure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:")";if(e===n)throw new Error("Enclosure characters must be different: ".concat(e," = ").concat(n));var r,o=!1,u=0,s="",l=c(a(t).entries());try{for(l.s();!(r=l.n()).done;){var f=i(r.value,2),h=f[0],p=f[1];if(p===e){if(u+=1,!o){o=!0;continue}}else p===n&&(u-=1);if(0===u&&o){if(h!=t.length-1)throw new A("Enclosure should not be resolved before end of string; resolved at index: ".concat(h,"; input string: ").concat(t));return s}if(u<0)throw new A("Unbalanced enclosure at index: ".concat(h," of input string: ").concat(t,'; balance of "').concat(e,"...").concat(n,'" enclosures became negative.'));o&&(s+=p)}}catch(t){l.e(t)}finally{l.f()}if(!o)throw new A("Enclosure of type ".concat(e,"...").concat(n," not found in string; input string: ").concat(t));if(u>0)throw new A("Enclosure could not be resolved; too many '".concat(n,"'; balance = +{count}; input string {string}"))},retrieveArgs:function(t){var e,n=0,r=[],o="",i=c(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if("("===a){if(1===(n+=1))continue}else")"===a&&(n-=1);1===n&&","===a?(r.push(o.trim()),o=""):n>=1&&(o+=a)}}catch(t){i.e(t)}finally{i.f()}return o.trim()&&r.push(o.trim()),r},getCharCounts:R,tokenizeWithNestedEnclosures:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],i="",a=[],c=0;c<t.length;c++){var u=t[c];if(e.includes(u)&&a.length===n)i&&(o.push(r?i.trim():i),i="");else if(T[u]){var s=T[u];if(a.length>n&&(i+=u),a[a.length-1]!==s){var l=R(t);throw(l["'"]||0)%2!=0||(l['"']||0)%2!=0?new A("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"' ; if a str type has quote characters in it, wrap it in the opposite quote character.")):new A("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"'"))}a.pop()}else a.length>=n&&(i+=u),!_[u]||w[u]&&a[a.length-1]===w[u]||(a[a.length-1]===_[u]&&u===_[u]?a.pop():a.push(u))}if(a.length>0)throw new Error("Unbalanced enclosures in input string; unresolved characters from enclosure stack: [ ".concat(a.join(", ")," ]"));return i&&o.push(r?i.trim():i),o},parseDate:function(t){if(!r.L.VALID_DATE_LITERAL_RE.test(t))throw new A("Invalid date; must be in the format: YYYY-MM-DD ( regex: ".concat(r.L.VALID_DATE_LITERAL_RE.source," ); got: '").concat(t,"'"));var e=t.split(" ")[0],n=new Date("".concat(e,"T00:00:00"));if(isNaN(n.getTime()))throw new A("Invalid date; could not be parsed as a valid date; got: '".concat(t,"'"));var o=i(n.toISOString().split("T")[0].split("-").map(Number),3),a=o[0],c=o[1],u=o[2];if(n.getFullYear()!==a||n.getMonth()+1!==c||n.getDate()!==u)throw new A("Invalid date; parsed date: ".concat(n.toISOString()," does not match passed in string: ").concat(e));return"Parsed date: ".concat(n.toISOString()," ; ").concat(n.constructor.name),n},tryConvert:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===r&&(r="Could not convert ".concat(n," to ").concat(e));try{return t(n)}catch(t){throw new b("".concat(r,": ").concat(t.message))}},trimSurroundingQuotes:function(t){return t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}}},583:(t,e,n)=>{n.d(e,{S:()=>m});var r=n(116),o=n(179),i=n(828),a=n(48),c=n(321);function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return s(l,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),p=f.prototype=c.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,s(p,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:y}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){s(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},s(t,e,n,r)}function l(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,c,"next",t)}function c(t){l(i,r,o,a,c,"throw",t)}a(void 0)})}}function h(){window.location.href=URL_UTILS.HOME_PAGE_URL}function p(){document.querySelectorAll(".nav-link").forEach(function(t){t.addEventListener("click",function(){var t=f(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:if(n=this.dataset.nav,!Object.values(r.DG).includes(n)){t.n=9;break}if(n!==r.DG.SELECT_DATA){t.n=2;break}return t.n=1,r.qD.setState(r.DG.SELECT_DATA);case 1:h(),t.n=8;break;case 2:if(n!==r.DG.SHOW_STATS){t.n=8;break}return t.n=3,i.A.getUser();case 3:if(t.v){t.n=6;break}return t.n=4,r.qD.setState(r.DG.SELECT_DATA);case 4:return t.n=5,c.A.pushActions([c.A.ACTIONS.SHOW_NO_USER_MSG]);case 5:h(),t.n=8;break;case 6:return t.n=7,r.qD.setState(r.DG.SHOW_STATS);case 7:h();case 8:t.n=10;break;case 9:"Navigating to: ".concat(this.href);case 10:return t.a(2)}},t,this)}));return function(e){return t.apply(this,arguments)}}())})}function y(){a.A.NAV_BAR.CLEAR_DATA_BTN.addEventListener("click",function(){var t=f(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i.A.getUser();case 1:if(!t.v){t.n=4;break}return t.n=2,r.qD.setState(r.DG.SELECT_DATA);case 2:return t.n=3,c.A.pushActions([c.A.ACTIONS.CLEAR_USER]);case 3:t.n=6;break;case 4:return t.n=5,r.qD.setState(r.DG.SELECT_DATA);case 5:return t.n=6,c.A.pushActions([c.A.ACTIONS.SHOW_DATA_ALREADY_CLEARED_MSG]);case 6:h();case 7:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}function d(t){t?(a.A.NAV_BAR.USER_NAME.innerText=t.name,a.A.NAV_BAR.USER_ID.innerText=t.id,a.A.NAV_BAR.USER_SERVER.innerText=o.DB[t.world_code]):(a.A.NAV_BAR.USER_NAME.innerText="(None)",a.A.NAV_BAR.USER_ID.innerText="(None)",a.A.NAV_BAR.USER_SERVER.innerText="(None)")}function v(){return(v=f(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i.A.getUser();case 1:d(t.v),p(),y();case 2:return t.a(2)}},t)}))).apply(this,arguments)}var m={addNavListeners:p,addClearDataBtnListener:y,writeUserInfo:d,initialize:function(){return v.apply(this,arguments)},navToHome:h}},602:(t,e,n)=>{n.d(e,{P2:()=>d});const r=(t,e)=>e.some(e=>t instanceof e);let o,i;const a=new WeakMap,c=new WeakMap,u=new WeakMap;let s={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return a.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function l(t){s=t(s)}function f(t){return(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(y(this),e),p(this.request)}:function(...e){return p(t.apply(y(this),e))}}function h(t){return"function"==typeof t?f(t):(t instanceof IDBTransaction&&function(t){if(a.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});a.set(t,e)}(t),r(t,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,s):t)}function p(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(p(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)});return u.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=h(t);return e!==t&&(c.set(t,e),u.set(e,t)),e}const y=t=>u.get(t);function d(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),c=p(a);return r&&a.addEventListener("upgradeneeded",t=>{r(p(a.result),t.oldVersion,t.newVersion,p(a.transaction),t)}),n&&a.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),c.then(t=>{i&&t.addEventListener("close",()=>i()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),c}const v=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],g=new Map;function E(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(g.get(e))return g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=m.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!v.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),o&&i.done]))[0]};return g.set(e,i),i}l(t=>({...t,get:(e,n,r)=>E(e,n)||t.get(e,n,r),has:(e,n)=>!!E(e,n)||t.has(e,n)}));const A=["continue","continuePrimaryKey","advance"],b={},S=new WeakMap,_=new WeakMap,w={get(t,e){if(!A.includes(e))return t[e];let n=b[e];return n||(n=b[e]=function(...t){S.set(this,_.get(this)[e](...t))}),n}};async function*T(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const n=new Proxy(e,w);for(_.set(n,e),u.set(n,y(e));e;)yield n,e=await(S.get(n)||e.continue()),S.delete(n)}function R(t,e){return e===Symbol.asyncIterator&&r(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&r(t,[IDBIndex,IDBObjectStore])}l(t=>({...t,get:(e,n,r)=>R(e,n)?T:t.get(e,n,r),has:(e,n)=>R(e,n)||t.has(e,n)}))},687:(t,e,n)=>{n.d(e,{GF:()=>h,ev:()=>l});n(48);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var s={RED:"text-danger",GREEN:"text-safe"},l=c(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.docElement=n,this.classList=r});function f(t){if(!t instanceof l)throw new Error("Only instances of TextPacket can be passed to this function")}var h={queue:[],autoClearElements:[],TextPacket:l,STYLES:s,clearStyles:function(t){for(var e=0,n=Object.values(s);e<n.length;e++){var r=n[e];t.classList.remove(r)}},write:function(t){f(t),t.docElement.textContent=t.text,this.clearStyles(t.docElement),t.classList.forEach(function(e){t.docElement.classList.add(e)})},push:function(t){f(t),this.queue.push(t)},pushFromObj:function(t){var e=t.text,n=t.docElement,r=t.classList;this.push(new l(e,n,r))},bindAutoClear:function(t){var e,n=o(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.autoClearElements.push(r)}}catch(t){n.e(t)}finally{n.f()}},processQueue:function(){var t=this;this.queue.forEach(function(e){t.write(e)}),this.queue=[]},clearMessages:function(){var t,e=o(this.autoClearElements);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.textContent="",this.clearStyles(n)}}catch(t){e.e(t)}finally{e.f()}}}},693:(t,e,n)=>{n.d(e,{Ck:()=>r});n(179);function r(t){var e={};for(var n in t)Array.isArray(t[n])&&t[n].length>0?e[n]=[t[n][0],"Length: ".concat(t[n].length)]:e[n]=t[n]}},720:(t,e,n)=>{n.d(e,{A:()=>M});var r=n(602);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return a(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,a(p,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:c,m:y}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){a(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},a(t,e,n,r)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,c,"next",t)}function c(t){l(i,r,o,a,c,"throw",t)}a(void 0)})}}function h(t,e){return p.apply(this,arguments)}function p(){return(p=f(i().m(function t(e,n){var r;return i().w(function(t){for(;;)switch(t.n){case 0:return r=e.transaction(n,"readwrite"),r.objectStore(n).clear(),t.n=1,r.done;case 1:return t.a(2)}},t)}))).apply(this,arguments)}var y,d,v,m,g,E,A,b,S,_,w,T,R,O,I,P,L,D,C,x={USER:"current-user",BATTLES:"battles",RAW_UPLOAD:"raw-upload",UPLOADED_BATTLES:"uploaded-battles",FILTERED_BATTLES:"filtered-battles",STATS:"stats",FILTER_STR:"filter-str"},k={GLOBAL_USERS:"global-users",EU_USERS:"eu-users",ASIA_USERS:"asia-users",JPN_USERS:"jpn-users",KOR_USERS:"kor-users"},N=u(u(u({},x),k),{},{HERO_MANAGER:"hero-manager",SEASON_DETAILS:"season-details",AUTO_ZOOM_FLAG:"auto-zoom",AUTO_QUERY_FLAG:"auto-query",ID_SEARCH_FLAG:"id-search",ARTIFACTS:"artifacts",ARTIFACTS_LOWERCASE_NAMES_MAP:"artifacts-lowercase-names-map",ARTIFACT_OBJECT_LIST:"artifact-object-list",HOME_PAGE_STATE:"home-page-state",INTER_PAGE_MANAGER:"inter-page-manager"}),F={autoZoom:N.AUTO_ZOOM_FLAG,autoQuery:N.AUTO_QUERY_FLAG,idSearch:N.ID_SEARCH_FLAG},j={consts:{DB_NAME:"E7ArenaStatsClientDB",DB_VERSION:1,STORE_NAME:"DataStore",META_STORE_NAME:"MetaStore",CACHE_TIMEOUT:1728e5},Keys:u({},N),MetaKeys:{TIMESTAMP:"timestamp"},loaded_UM:new Set,openDB:(C=f(i().m(function t(){return i().w(function(t){for(;;)if(0===t.n)return t.a(2,(0,r.P2)(j.consts.DB_NAME,j.consts.DB_VERSION,{upgrade:function(t){t.objectStoreNames.contains(j.consts.STORE_NAME)&&t.deleteObjectStore(j.consts.STORE_NAME),t.objectStoreNames.contains(j.consts.STORE_NAME)||t.createObjectStore(j.consts.STORE_NAME),t.objectStoreNames.contains(j.consts.META_STORE_NAME)||t.createObjectStore(j.consts.META_STORE_NAME)}}))},t)})),function(){return C.apply(this,arguments)}),get:(D=f(i().m(function t(e){var n,r;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.get(this.consts.STORE_NAME,e);case 2:if(null===(r=t.v)){t.n=3;break}"Found ".concat(e," in cache"),t.n=4;break;case 3:return"".concat(e," not found in cache; returning null"),t.a(2,null);case 4:return t.n=5,this.checkCacheTimeout(e);case 5:if(!t.v){t.n=6;break}return t.a(2,r);case 6:return t.a(2,null);case 7:return t.a(2)}},t,this)})),function(t){return D.apply(this,arguments)}),cache:(L=f(i().m(function t(e,n){var r;return i().w(function(t){for(;;)switch(t.n){case 0:return"Caching ".concat(e," with data: ").concat(n),t.n=1,this.openDB();case 1:return r=t.v,t.n=2,r.put(this.consts.STORE_NAME,n,e);case 2:return t.n=3,this.setTimestamp(e,Date.now());case 3:return t.a(2)}},t,this)})),function(t,e){return L.apply(this,arguments)}),delete:(P=f(i().m(function t(e){var n;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.delete(this.consts.STORE_NAME,e);case 2:return t.n=3,this.deleteTimestamp(e);case 3:return t.a(2)}},t,this)})),function(t){return P.apply(this,arguments)}),deleteDB:(I=f(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,indexedDB.deleteDatabase(this.consts.DB_NAME);case 1:case 2:return t.a(2)}},t,this)})),function(){return I.apply(this,arguments)}),getTimestamp:(O=f(i().m(function t(e){var n,r,o;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.get(this.consts.META_STORE_NAME,r);case 2:return o=t.v,t.a(2,null!=o?o:null)}},t,this)})),function(t){return O.apply(this,arguments)}),setTimestamp:(R=f(i().m(function t(e,n){var r,o;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,o="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,r.put(this.consts.META_STORE_NAME,n,o);case 2:return t.n=3,r.get(this.consts.META_STORE_NAME,o);case 3:t.v;case 4:return t.a(2)}},t,this)})),function(t,e){return R.apply(this,arguments)}),deleteTimestamp:(T=f(i().m(function t(e){var n,r;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.delete(this.consts.META_STORE_NAME,r);case 2:return t.a(2)}},t,this)})),function(t){return T.apply(this,arguments)}),clearData:(w=f(i().m(function t(){var e;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return e=t.v,t.n=2,h(e,this.consts.STORE_NAME);case 2:return t.n=3,h(e,this.consts.META_STORE_NAME);case 3:case 4:return t.a(2)}},t,this)})),function(){return w.apply(this,arguments)}),clearUserData:(_=f(i().m(function t(){var e,n=this;return i().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(x),t.n=1,Promise.all(e.map(function(t){return n.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return _.apply(this,arguments)}),clearUserLists:(S=f(i().m(function t(){var e,n=this;return i().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(k),t.n=1,Promise.all(e.map(function(t){return n.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return S.apply(this,arguments)}),clearSeasonData:(b=f(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.delete(N.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t,this)})),function(){return b.apply(this,arguments)}),checkCacheTimeout:(A=f(i().m(function t(e){var n,r;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getTimestamp(e);case 1:if(n=t.v,r=Date.now(),n&&!(r-n>j.consts.CACHE_TIMEOUT)){t.n=3;break}return"Cache timeout for ".concat(e),t.n=2,this.delete(e);case 2:return t.a(2,!1);case 3:return t.a(2,!0)}},t,this)})),function(t){return A.apply(this,arguments)}),getFilterStr:(E=f(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(j.Keys.FILTER_STR);case 1:return t.a(2,t.v)}},t,this)})),function(){return E.apply(this,arguments)}),setFilterStr:(g=f(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(j.Keys.FILTER_STR,e);case 1:return t.a(2)}},t,this)})),function(t){return g.apply(this,arguments)}),getStats:(m=f(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(j.Keys.STATS);case 1:return t.a(2,t.v)}},t,this)})),function(){return m.apply(this,arguments)}),setStats:(v=f(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(N.STATS,e);case 1:return t.a(2)}},t,this)})),function(t){return v.apply(this,arguments)}),getFlag:(d=f(i().m(function t(e){var n;return i().w(function(t){for(;;)switch(t.n){case 0:if(n=F[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.get(n);case 2:return t.a(2,t.v)}},t,this)})),function(t){return d.apply(this,arguments)}),setFlag:(y=f(i().m(function t(e,n){var r;return i().w(function(t){for(;;)switch(t.n){case 0:if(r=F[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.cache(r,n);case 2:return t.a(2)}},t,this)})),function(t,e){return y.apply(this,arguments)})};const M=j},758:(t,e,n)=>{n.d(e,{W:()=>_});var r=n(93),o=n(763),i=n(865),a=n(828),c=n(179);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return l(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(l(e={},r,function(){return this}),e),p=f.prototype=c.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=f,l(p,"constructor",f),l(f,"constructor",u),u.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(p),l(p,o,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:y}})()}function l(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){l(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},l(t,e,n,r)}function f(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,c,"next",t)}function c(t){f(i,r,o,a,c,"throw",t)}a(void 0)})}}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function y(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var v={GLOBAL_SERVER:"Global Server",KOR_SERVER:"Korea Server",JPN_SERVER:"Japan Server",ASIA_SERVER:"Asia Server",EU_SERVER:"Europe Server",HEROES:"Heroes",ARTIFACTS:"Artifacts"},m={keys:["name"],threshold:.2},g={keys:["name"],threshold:.2},E={keys:["name"],threshold:.2};function A(t,e){return(0,r.L8)(t,e,null,m)}function b(t,e){return(0,r.L8)(t,e,null,g)}function S(t,e){return(0,r.L8)(t,e,null,E)}var _=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"DOMAIN_CACHE",{})},e=[{key:"get_domain",value:(u=h(s().m(function t(e){var n,r;return s().w(function(t){for(;;)switch(t.n){case 0:if(this.DOMAIN_CACHE[e]){t.n=10;break}r=e,t.n=r===v.GLOBAL_SERVER?1:r===v.KOR_SERVER?2:r===v.JPN_SERVER?3:r===v.ASIA_SERVER?4:r===v.EU_SERVER?5:r===v.HEROES?6:r===v.ARTIFACTS?7:8;break;case 1:return this.DOMAIN_CACHE[e]=a.A.getUserMap(c.F7.GLOBAL),t.a(3,8);case 2:return this.DOMAIN_CACHE[e]=a.A.getUserMap(c.F7.KOR),t.a(3,8);case 3:return this.DOMAIN_CACHE[e]=a.A.getUserMap(c.F7.JPN),t.a(3,8);case 4:return this.DOMAIN_CACHE[e]=a.A.getUserMap(c.F7.ASIA),t.a(3,8);case 5:return this.DOMAIN_CACHE[e]=a.A.getUserMap(c.F7.EU),t.a(3,8);case 6:return this.DOMAIN_CACHE[e]=o.A.getHeroManager(),t.a(3,8);case 7:return this.DOMAIN_CACHE[e]=i.A.getArtifactObjectList(),t.a(3,8);case 8:return t.n=9,this.DOMAIN_CACHE[e];case 9:n=t.v,Array.isArray(n)||(this.DOMAIN_CACHE[e]=e===v.HEROES?n.heroes:Object.values(n));case 10:return t.n=11,this.DOMAIN_CACHE[e];case 11:return t.a(2,t.v)}},t,this)})),function(t){return u.apply(this,arguments)})},{key:"search",value:(r=h(s().m(function t(e,n){var r,o;return s().w(function(t){for(;;)switch(t.n){case 0:"Searching ".concat(e," for ").concat(n),o=e,t.n=o===v.GLOBAL_SERVER?1:o===v.KOR_SERVER?3:o===v.JPN_SERVER?5:o===v.ASIA_SERVER?7:o===v.EU_SERVER?9:o===v.HEROES?11:o===v.ARTIFACTS?13:15;break;case 1:return t.n=2,this.get_domain(e);case 2:case 4:case 6:case 8:case 10:return r=t.v,t.a(2,b(n,r));case 3:return t.n=4,this.get_domain(e);case 5:return t.n=6,this.get_domain(e);case 7:return t.n=8,this.get_domain(e);case 9:return t.n=10,this.get_domain(e);case 11:return t.n=12,this.get_domain(e);case 12:return r=t.v,t.a(2,A(n,r));case 13:return t.n=14,this.get_domain(e);case 14:return r=t.v,t.a(2,S(n,r));case 15:throw new Error("Unknown domain: ".concat(e));case 16:return t.a(2)}},t,this)})),function(t,e){return r.apply(this,arguments)})}],e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,u}();y(_,"DOMAINS",v)},763:(t,e,n)=>{n.d(e,{A:()=>E});var r=n(720),o=n(693),i=n(179),a=n(836),c=n(967);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return h(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(h(e={},r,function(){return this}),e),p=s.prototype=c.prototype=Object.create(l);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,h(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=s,h(p,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,o,"GeneratorFunction"),h(p),h(p,o,"Generator"),h(p,r,function(){return this}),h(p,"toString",function(){return"[object Generator]"}),(f=function(){return{w:i,m:y}})()}function h(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}h=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){h(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},h(t,e,n,r)}function p(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,c,"next",t)}function c(t){p(i,r,o,a,c,"throw",t)}a(void 0)})}}var d,v,m,g;const E={getHeroManager:(g=y(f().m(function t(){var e,n,o,i;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.HERO_MANAGER);case 1:if(o=e=t.v,!(n=null!==o)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}i=e,t.n=4;break;case 3:i=this.fetchAndCacheHeroManager();case 4:return t.a(2,i)}},t,this)})),function(){return g.apply(this,arguments)}),createHeroManager:function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.entries());try{for(n.s();!(e=n.n()).done;){var r=u(e.value,2),o=r[0],a=r[1],c=i.bh[o];a.prime=c}}catch(t){n.e(t)}finally{n.f()}var l={heroes:t};return l=function(t){t.name_lookup=t.heroes.reduce(function(t,e){return t[e.name.toLowerCase().replace(/\s+/g,"")]=e,t},{}),t.prime_lookup=t.heroes.reduce(function(t,e){return t[e.prime]=e,t},{}),t.code_lookup=t.heroes.reduce(function(t,e){return t[e.code]=e,t},{});for(var e=t.heroes.reduce(function(t,e){return t[e.prime]=e.name,t},{}),n=Object.keys(t.prime_lookup).length-1,r=0;r<n-1;r++)for(var o=i.bh[r],a=r+1;a<n;a++){var c=i.bh[a],u=o*c,s=t.prime_lookup[o].name,l=t.prime_lookup[c].name;e[u]=[s,l].sort().join(", ")}return e[t.Fodder.prime*t.Fodder.prime]=[t.Fodder.name,t.Fodder.prime],t.prime_pair_lookup=e,t}(l=function(t){var e=t.heroes.length,n={attribute_cd:"N/A",code:"N/A",grade:"N/A",job_cd:"N/A",name:"Empty",prime:1},r={attribute_cd:"N/A",code:"N/A",grade:"2/3",job_cd:"N/A",name:"Fodder",prime:i.bh[e]};return t.heroes.push(n),t.heroes.push(r),t.Fodder=r,t.Empty=n,t}(l)),l},fetchHeroManager:(m=y(f().m(function t(){var e,n,r,o,i,u;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.fetchHeroJSON();case 1:if(i=e=t.v,!(o=null!==i)){t.n=2;break}o=void 0!==e;case 2:if(!o){t.n=3;break}u=e,t.n=5;break;case 3:return t.n=4,a.A.fetchHeroData();case 4:u=t.v;case 5:return n=u.en,r=this.createHeroManager(n),t.a(2,r)}},t,this)})),function(){return m.apply(this,arguments)}),fetchAndCacheHeroManager:(v=y(f().m(function t(){var e;return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchHeroManager();case 1:return e=t.v,t.n=2,r.A.cache(r.A.Keys.HERO_MANAGER,e);case 2:return(0,o.Ck)(e),t.a(2,e)}},t,this)})),function(){return v.apply(this,arguments)}),deleteHeroManager:(d=y(f().m(function t(){return f().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.delete(r.A.Keys.HERO_MANAGER);case 1:case 2:return t.a(2)}},t)})),function(){return d.apply(this,arguments)}),getHeroByName:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");if(!t)return e.Empty;var r=t.toLowerCase().replace(/\s+/g,"");return null!==(n=e.name_lookup[r])&&void 0!==n?n:null},getHeroByPrime:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_lookup[t]},getHeroByCode:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return t?null!==(n=e.code_lookup[t])&&void 0!==n?n:null:e.Empty},getPairNamesByProduct:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_pair_lookup[t]}}},823:(t,e,n)=>{n.d(e,{A:()=>x});var r=n(763),o=n(523),i=n(382),a=n(862),c=n(865),u=n(720),s=n(876),l=n(194),f=n(92),h=n(84),p=n(32);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||R(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||R(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return g(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(g(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,g(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,g(f,"constructor",s),g(s,"constructor",u),u.displayName="GeneratorFunction",g(s,o,"GeneratorFunction"),g(f),g(f,o,"Generator"),g(f,r,function(){return this}),g(f,"toString",function(){return"[object Generator]"}),(m=function(){return{w:i,m:h}})()}function g(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}g=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){g(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},g(t,e,n,r)}function E(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function A(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){E(i,r,o,a,c,"next",t)}function c(t){E(i,r,o,a,c,"throw",t)}a(void 0)})}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function _(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}function T(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=R(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function R(t,e){if(t){if("string"==typeof t)return O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(t){return function(t,e,n){var r,i=T(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!e.has(a))throw new o.A.SyntaxException("Invalid character within <".concat(n,"> ; ' ").concat(a," ' is not allowed; got string: '").concat(t,"'"))}}catch(t){i.e(t)}finally{i.f()}}(t=t.replace(/[\n\t\r]/g," ").replace(/\s+/g," "),s.yL,"Main Filter String"),t=t.toLowerCase()}var P=function(){return _(function t(e,n){b(this,t),this.str=e,this.fn=n},[{key:"call",value:function(t){return this.fn(t)}},{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}();function L(t,e,n,r){var i=null;try{i=e in l.PU.FIELD_EXTRACT_FN_MAP?new l.PU(e):(0,f.yI)(e,r)}catch(r){throw console.error(r),new o.A.SyntaxException("Could not parse ".concat(t,' side of filter; got: "').concat(e,'" from filter: [').concat(n,"]; error: ").concat(r.message))}return i}var D=function(){function t(e){if(b(this,t),e!==C._)throw new Error("Cannot instantiate FilterSyntaxParser directly; use createAndParse method instead.")}return _(t,[{key:"addReferences",value:(y=A(m().m(function t(){var e,n,o,i,u=arguments;return m().w(function(t){for(;;)switch(t.n){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:null,o=e=u.length>0&&void 0!==u[0]?u[0]:null){t.n=2;break}return t.n=1,r.A.getHeroManager();case 1:o=t.v;case 2:if(e=o,i=n){t.n=4;break}return t.n=3,a.A.getSeasonDetails();case 3:i=t.v;case 4:return n=i,this.HM=e,t.n=5,c.A.getArtifactLowercaseNameMap();case 5:this.ARTIFACT_LOWERCASE_STRINGS_MAP=t.v,this.ARTIFACT_LOWERCASE_STRINGS_MAP,this.ARTIFACT_LOWERCASE_STRINGS_MAP,this.SeasonDetails=n,this.REFS={HM:this.HM,ARTIFACT_LOWERCASE_STRINGS_MAP:this.ARTIFACT_LOWERCASE_STRINGS_MAP,SeasonDetails:this.SeasonDetails};case 6:return t.a(2)}},t,this)})),function(){return y.apply(this,arguments)})},{key:"asString",value:function(){var t=[].concat(v(this.filters.globalFilters),v(this.filters.localFilters));return"[\n".concat(t.map(function(t){return t.asString(s.RG)}).join(";\n"),"\n]")}},{key:"parseGlobalFilterFn",value:function(t,e){var n=i.L.anchorExp(i.L.VALID_GLOBAL_FILTER_RE);if(!n.test(e))throw new o.A.SyntaxException('Invalid global filter format; must follow the case insensitive regex format "'.concat(n.source,"\" ; got: '").concat(e,"'"));var r=o.A.tokenizeWithNestedEnclosures(e,",",1);if(t===h.$V)return{localFilters:[],globalFilters:[new h.$V(r)]};throw new o.A.SyntaxException("Global filter function ".concat(t.str," not mapped in parseGlobalFilterFn"))}},{key:"parseClauseFn",value:function(e,n){var r=this;e.str;var i=o.A.tokenizeWithNestedEnclosures(n,",",1).filter(function(t){return t.length>0});if(e===h.eP&&i.length<2)throw new o.A.SyntaxException("XOR clause must have at least two arguments; got: ".concat(i.length,' arguments from string: "').concat(n,'"'));if(e===h.k2&&1!==i.length)throw new o.A.SyntaxException("NOT clause must have exactly one argument; got: ".concat(i.length,' arguments from string: "').concat(n,'"'));var a=i.reduce(function(t,e){var n,o;return(n=t.localFilters).push.apply(n,v(r.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,v(r.parseFilters(e).globalFilters)),t},t.getEmptyFilters());if(a.globalFilters.length>0)throw new o.A.SyntaxException("Global filters not allowed in clause functions; got: ".concat(a.globalFilters,' from string: "').concat(n,'"'));if(e===h.k2&&1!==a.localFilters.length)throw new o.A.SyntaxException("NOT clause must have exactly one argument; got: ".concat(a.length,' arguments from string: "').concat(n,'"'));return{localFilters:[new e(a)],globalFilters:[]}}},{key:"parseDirectFn",value:function(t,e){return{localFilters:[t.fromFilterStr(e,this.REFS)],globalFilters:[]}}},{key:"parseBaseFilter",value:function(t){var e=o.A.tokenizeWithNestedEnclosures(t," ",0,!0);if("; Length: ".concat(e.length),3!==e.length)throw new o.A.SyntaxException("Invalid base filter format; all filters must be of the form: ['X', operator, 'Y']; got tokens: [".concat(e.join(", "),"]"));var n=d(e,3),r=n[0],i=n[1],a=n[2];if(!p.A[i])throw new o.A.SyntaxException('Invalid operator in base filter; got: "'.concat(i,'" as the operator in filter: [').concat(t,"]"));var c=p.A[i];r=L("left",r,t,this.REFS,this.SeasonDetails),a=L("right",a,t,this.REFS,this.SeasonDetails),function(t,e,n,r){if(("in"===e||"!in"===e)&&!(n instanceof f.QE.Set||n instanceof f.QE.Range||n instanceof l.PU&&l.p_.has(n.str)))throw new o.A.TypeException("When using any 'in' or '!in' operator, the right side of the operator must be a Set, Range, or a Field composed of a set (i.e. p1.picks, p2.prebans, etc.); error found in filter: '".concat(r,"'"));if(n instanceof f.QE.Range)if("Date"===n.data.type){if(!t.str.includes("date"))throw new o.A.TypeException("When using a Date Range, the left side of the operator must be a date field; ".concat(t.str," is not a date field; error found in filter: '").concat(r,"'"))}else if("Int"===n.data.type&&!l.wS.has(t.str))throw new o.A.TypeException("When using an Int Range, the left side of the operator must be an integer field; ".concat(t.str," is not an integer field; error found in filter: '").concat(r,"'"));if(n instanceof f.pe&&t instanceof f.pe)throw new o.A.SyntaxException("Either left or right side of filter must be a data field (a property of a battle); both ".concat(t," and ").concat(n,' are user declared data types in filter: "').concat(r,'"'))}(r,i,a,t);var u=null;u=r instanceof f.pe?function(t){return c(r.data,a.extractData(t))}:a instanceof f.pe?function(t){return c(r.extractData(t),a.data)}:function(t){return c(r.extractData(t),a.extractData(t))};var s="".concat(r.asString()," ").concat(i," ").concat(a.asString()),h=new P(s,u);return h.asString(),{localFilters:[h],globalFilters:[]}}},{key:"parseFilters",value:function(e){var n=this;if('Parsing filter string: "'.concat(e||this.preParsedString,'"'),""===e)return t.getEmptyFilters();var r,a=(e=e.trim()).split(";").filter(function(t){return t.length>0}),c=T(a);try{for(c.s();!(r=c.n()).done;){var u=r.value,s=o.A.getCharCounts(u);if(s["("]!==s[")"])throw new o.A.SyntaxException('Imbalanced parentheses in following string: "'.concat(u,'"'));if(s["{"]!==s["}"])throw new o.A.SyntaxException("Imbalanced braces ('{', '}') in following string: \"".concat(u,'"'))}}catch(t){c.e(t)}finally{c.f()}if(a.length>1)return"Processing <".concat(a.length,"> filters; filters: ").concat(a),a.reduce(function(t,e){var r,o;return(r=t.localFilters).push.apply(r,v(n.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,v(n.parseFilters(e).globalFilters)),t},t.getEmptyFilters());var l=a[0].trim();if(l.length<4)throw new o.A.SyntaxException("Filter string cannot be valid (less than 4 characters); got filter string: [".concat(l,"]"));var f=l.split("("),p=h.yq[f[0]];if(p){if(i.L.VALID_CLAUSE_FUNCTIONS_RE.test(l))return this.parseClauseFn(p,l);if(i.L.VALID_GLOBAL_FUNCTIONS_RE.test(l))return this.parseGlobalFilterFn(p,l);if(i.L.VALID_DIRECT_FUNCTIONS_RE.test(l))return this.parseDirectFn(p,l);throw new Error('could not parse filter string as Fn: "'.concat(e,'" ; did not map to any known function ; check filter-syntax page'))}return this.parseBaseFilter(l)}}],[{key:"getEmptyFilters",value:function(){return{localFilters:[],globalFilters:[]}}},{key:"getFiltersFromCache",value:(n=A(m().m(function e(n){var r,o,i;return m().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u.A.getFilterStr();case 1:if(r=e.v){e.n=2;break}return e.a(2,t.getEmptyFilters());case 2:return e.n=3,a.A.getSeasonDetails();case 3:return o=e.v,e.n=4,t.createAndParse(r,n,o);case 4:return i=e.v,e.a(2,i.filters)}},e)})),function(t){return n.apply(this,arguments)})},{key:"createAndParse",value:(e=A(m().m(function e(n){var r,o,i,a=arguments;return m().w(function(e){for(;;)switch(e.n){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:null,o=a.length>2&&void 0!==a[2]?a[2]:null,(i=new t(C._)).rawString=n,e.n=1,i.addReferences(r,o);case 1:return i.preParsedString=I(n),i.globalFilters=[],i.filters=i.parseFilters(i.preParsedString),i.asString(),e.a(2,i)}},e)})),function(t){return e.apply(this,arguments)})}]);var e,n,y}(),C={_:Symbol("internal")};const x=D},828:(t,e,n)=>{n.d(e,{A:()=>I});var r=n(179),o=n(720),i=n(967),a=n(836);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return s(l,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),p=f.prototype=c.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,s(p,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:y}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){s(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},s(t,e,n,r)}function l(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,c,"next",t)}function c(t){l(i,r,o,a,c,"throw",t)}a(void 0)})}}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=h(h(h(h(h({},r.F7.GLOBAL,o.A.Keys.GLOBAL_USERS),r.F7.EU,o.A.Keys.EU_USERS),r.F7.ASIA,o.A.Keys.ASIA_USERS),r.F7.JPN,o.A.Keys.JPN_USERS),r.F7.KOR,o.A.Keys.KOR_USERS);function y(t,e){return{id:t.nick_no,name:t.nick_nm,code:t.code,rank:t.rank,world_code:e}}function d(t){return v.apply(this,arguments)}function v(){return(v=f(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code from E7 server: ".concat(e),t.n=1,i.A.fetchUserJSON(e);case 1:if(n=t.v){t.n=2;break}return"Could not get user map from E7 server for world code: ".concat(e),t.a(2,null);case 2:return"Got user map from E7 server for world code: ".concat(e),t.a(2,Object.fromEntries(n.users.map(function(t){return[t.nick_no,y(t,e)]})))}},t)}))).apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return(g=f(u().m(function t(e){var n,r;return u().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code: ".concat(e),t.n=1,o.A.get(p[e]);case 1:if(null===(n=t.v)){t.n=2;break}return t.a(2,n);case 2:return t.n=3,d(e);case 3:return r=t.v,t.n=4,o.A.cache(p[e],r);case 4:return t.a(2,r)}},t)}))).apply(this,arguments)}var E,A,b,S,_,w=function(t){return r.DB[t]};function T(t,e,n){var r=e.find(function(e){return n(e)===t});return r?("Found user: ".concat(JSON.stringify(r)),{user:r,ok:!0}):{user:null,ok:!0}}function R(t,e){return O.apply(this,arguments)}function O(){return(O=f(u().m(function t(e,n){var r,o,i,a;return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,m(n);case 1:if(r=t.v,(o=Object.values(r))&&0!==o.length){t.n=2;break}return"User map had no users, falling back to flask server for world code: ".concat(w(n)),t.a(2,{user:null,ok:!1});case 2:if(i=null,a=null,!e.id){t.n=3;break}i=e.id,a=function(t){return t.id},t.n=5;break;case 3:if(!e.name){t.n=4;break}i=e.name.toLowerCase(),a=function(t){return t.name.toLowerCase()},t.n=5;break;case 4:throw new Error("Must pass a user object with either user.name or user.id to find user");case 5:return t.a(2,T(i,o,a))}},t)}))).apply(this,arguments)}const I={getUserMap:m,findUser:(_=f(u().m(function t(e){var n,r,o;return u().w(function(t){for(;;)switch(t.n){case 0:if("Attempting to find user: ".concat(JSON.stringify(e)),(e.name||e.id)&&e.world_code){t.n=1;break}throw new Error("Must pass a user object with either user.name or user.id, and user.world_code to find user");case 1:return n=e.id?"ID: ".concat(e.id):"Name: '".concat(e.name,"'"),r=null,t.n=2,R(e,e.world_code);case 2:if((r=t.v).ok){t.n=4;break}return t.n=3,a.A.fetchUser(e);case 3:r=t.v;case 4:if(!r.ok){t.n=6;break}if(null!==(o=r.user)){t.n=5;break}throw new Error("Could not find user with ".concat(n," in Server: ").concat(w(e.world_code)));case 5:return t.a(2,o);case 6:throw new Error("Function did not properly terminate: ".concat(JSON.stringify(r)));case 7:return t.a(2)}},t)})),function(t){return _.apply(this,arguments)}),setUser:(S=f(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.cache(o.A.Keys.USER,e);case 1:return t.a(2)}},t)})),function(t){return S.apply(this,arguments)}),getUser:(b=f(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.get(o.A.Keys.USER);case 1:return t.a(2,t.v)}},t)})),function(){return b.apply(this,arguments)}),clearUserData:(A=f(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.clearUserData();case 1:return t.a(2)}},t)})),function(){return A.apply(this,arguments)}),clearUserDataLists:(E=f(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.clearUserLists();case 1:return t.a(2)}},t)})),function(){return E.apply(this,arguments)})}},836:(t,e,n)=>{function r(){var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,i,a){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return o(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][i]?e(e([][i]())):(o(e={},i,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,o(p,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(p),o(p,a,"Generator"),o(p,i,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:y}})()}function o(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){o(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},o(t,e,n,r)}function i(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,u,"next",t)}function u(t){i(a,r,o,c,u,"throw",t)}c(void 0)})}}n.d(e,{A:()=>p});var c,u,s,l,f,h;const p={test:function(t){t.rank_plot},fetchFromPython:(h=a(r().m(function t(e){var n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=3;break}return t.n=2,fetch(e);case 2:n=t.v;case 3:return t.n=4,n.json();case 4:return o=t.v,t.a(2,o||null)}},t)})),function(t){return h.apply(this,arguments)}),fetchHeroData:(f=a(r().m(function t(){return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchFromPython("/api/get_hero_data");case 1:return t.a(2,t.v)}},t,this)})),function(){return f.apply(this,arguments)}),rsFetchBattleData:(l=a(r().m(function t(e){return r().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Must pass user to fetch battles data");case 1:return t.n=2,fetch("/api/rs_get_battle_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})});case 2:return t.a(2,t.v)}},t)})),function(t){return l.apply(this,arguments)}),fetchSeasonDetails:(s=a(r().m(function t(){var e,n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_season_details");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return o=JSON.parse(n.seasonDetails),t.a(2,{seasonDetails:o,error:!1});case 3:return t.a(2,{seasonDetails:null,error:n.error});case 4:return t.a(2)}},t)})),function(){return s.apply(this,arguments)}),fetchArtifactJson:(u=a(r().m(function t(){var e,n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_artifact_json");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return o=JSON.parse(n.artifactJson),t.a(2,o);case 3:return t.a(2,null);case 4:return t.a(2)}},t)})),function(){return u.apply(this,arguments)}),fetchUser:(c=a(r().m(function t(e){var n,o,i;return r().w(function(t){for(;;)switch(t.n){case 0:if(e.name&&e.world_code||e.id){t.n=1;break}throw new Error("Must pass a user object with either user.name and user.world_code or user.id to fetch user");case 1:return t.n=2,fetch("/api/get_user_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userData:e})});case 2:return n=t.v,t.n=3,n.json();case 3:if(o=t.v,n.ok){t.n=4;break}throw new Error("Flask server error: ".concat(o.error));case 4:if(o.foundUser){t.n=6;break}if(e.world_code){t.n=5;break}return t.a(2,{user:null,ok:!0});case 5:return t.a(2,{user:null,ok:!0});case 6:return i=o.user,"Found user: ".concat(JSON.stringify(i)),t.a(2,{user:i,ok:!0})}},t)})),function(t){return c.apply(this,arguments)})}},862:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(720),o=n(836),i=n(179);function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(p),c(p,o,"Generator"),c(p,r,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:y}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)})}}var l,f,h,p={fetchAndCacheSeasonDetails:(h=s(a().m(function t(){var e,n,c,u,s,l,f;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.fetchSeasonDetails();case 1:if(!(e=t.v).error){t.n=2;break}throw new Error("Could not fetch season details: ".concat(e.error));case 2:return(n=e.seasonDetails).forEach(function(t){t.range=[t.Start,t.End].map(function(t){return new Date("".concat(t.split(" ")[0],"T00:00:00"))}),t["Season Number"]=String(t["Season Number"])}),n.sort(function(t,e){return parseInt(t["Season Number"])-parseInt(e["Season Number"])}),c=[n[0]],u=n[0],n.slice(1).forEach(function(t){var e=new Date(+u.range[1]+i.CZ),n=new Date(+t.range[0]-i.CZ),r=u["Season Number"]+"f",o={"Season Number":r,Code:"pvp_rta_ss"+r,Season:"Pre ".concat(t.Season),Start:e.toISOString().slice(0,10),End:n.toISOString().slice(0,10),Status:"Complete",range:[e,n]};c.push(o),c.push(t),u=t}),u.range[1]<new Date&&(s=new Date(+c.at(-1).range[1]+i.CZ),l=u["Season Number"]+"f",f={"Season Number":l,Code:"pvp_rta_ss"+l,Season:"Active Pre-Season",Start:s.toISOString().slice(0,10),End:"N/A",Status:"Active",range:[s,new Date]},c.push(f)),c.reverse(),t.n=3,r.A.cache(r.A.Keys.SEASON_DETAILS,c);case 3:return t.a(2,c)}},t)})),function(){return h.apply(this,arguments)}),getSeasonDetails:(f=s(a().m(function t(){var e,n,o,i;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.SEASON_DETAILS);case 1:if(o=e=t.v,!(n=null!==o)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}i=e,t.n=5;break;case 3:return t.n=4,p.fetchAndCacheSeasonDetails();case 4:i=t.v;case 5:return t.a(2,i)}},t)})),function(){return f.apply(this,arguments)}),clearSeasonDetails:(l=s(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.delete(r.A.Keys.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t)})),function(){return l.apply(this,arguments)})};const y=p},865:(t,e,n)=>{n.d(e,{A:()=>A});var r,o,i,a,c,u=n(720),s=n(967),l=n(836);function f(t){throw new TypeError('"'+t+'" is read-only')}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return d(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,d(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,d(f,"constructor",s),d(s,"constructor",u),u.displayName="GeneratorFunction",d(s,o,"GeneratorFunction"),d(f),d(f,o,"Generator"),d(f,r,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(y=function(){return{w:i,m:h}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){d(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},d(t,e,n,r)}function v(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,c,"next",t)}function c(t){v(i,r,o,a,c,"throw",t)}a(void 0)})}}function g(){return E.apply(this,arguments)}function E(){return(E=m(y().m(function t(){var e;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,s.A.fetchArtifactJSON("en");case 1:if(null!==(e=t.v)){t.n=3;break}return t.n=2,l.A.fetchArtifactJson();case 2:f("rawJSON");case 3:if(null!==e){t.n=4;break}return console.error("Could not get artifact Json map from E7 server or flask server"),t.a(2,null);case 4:return t.a(2,Object.fromEntries(e.filter(function(t){return null!==t.name}).map(function(t){return[t.code,t.name]})))}},t)}))).apply(this,arguments)}const A={getArtifacts:(c=m(y().m(function t(){var e,n,r,o;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACTS);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,this.fetchAndCacheArtifacts();case 4:o=t.v;case 5:return t.a(2,o)}},t,this)})),function(){return c.apply(this,arguments)}),getArtifactLowercaseNameMap:(a=m(y().m(function t(){var e,n;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=Object.fromEntries(Object.values(n).filter(function(t){return null!==t}).map(function(t){return[t.toLowerCase(),t]})),t.n=4,u.A.cache(u.A.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP,e);case 4:return t.a(2,e)}},t,this)})),function(){return a.apply(this,arguments)}),getArtifactObjectList:(i=m(y().m(function t(){var e,n;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACT_OBJECT_LIST);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=Object.entries(n).map(function(t){var e=h(t,2);return{id:e[0],name:e[1]}}),t.n=4,u.A.cache(u.A.Keys.ARTIFACT_OBJECT_LIST,e);case 4:return t.a(2,e)}},t,this)})),function(){return i.apply(this,arguments)}),fetchAndCacheArtifacts:(o=m(y().m(function t(){var e;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,g();case 1:return e=t.v,t.n=2,u.A.cache(u.A.Keys.ARTIFACTS,e);case 2:return t.a(2,e)}},t)})),function(){return o.apply(this,arguments)}),clearArtifactData:(r=m(y().m(function t(){return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.delete(u.A.Keys.ARTIFACTS);case 1:return t.a(2)}},t)})),function(){return r.apply(this,arguments)}),convertCodeToName:function(t,e){return e[t]||t}}},876:(t,e,n)=>{n.d(e,{Nk:()=>a,RG:()=>i,yL:()=>o});var r=n(179),o=new Set("'\"(),_-.=; ><!1234567890{}abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),i="   ",a=Object.fromEntries(Object.values(r.pg).map(function(t){return[t.toLowerCase(),t]}))},895:(t,e,n)=>{n.a(t,async(t,e)=>{try{var r=n(758),o=n(103),i=n(163),a=n(583),c=n(48),u=n(828),s=n(321);function p(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return y(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,u=t,h.n=n,a}};function p(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),c=l,u=y;(e=c<2?t:u)||!f;){i||(c?c<3?(c>1&&(h.n=-1),p(c,u)):h.n=u:h.v=u);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=h.n<0)?u:n.call(r,h))!==a)break}catch(e){i=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(y(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,y(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,y(f,"constructor",s),y(s,"constructor",u),u.displayName="GeneratorFunction",y(s,o,"GeneratorFunction"),y(f),y(f,o,"Generator"),y(f,r,function(){return this}),y(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:h}})()}function y(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}y=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){y(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},y(t,e,n,r)}function d(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,c,"next",t)}function c(t){d(i,r,o,a,c,"throw",t)}a(void 0)})}}var l="search-table",f=new r.W,h=["Name","ID","Search Score","Raw Search Result"];function m(t){return g.apply(this,arguments)}function g(){return(g=v(p().m(function t(e){var n,r;return p().w(function(t){for(;;)switch(t.n){case 0:if((n=JSON.parse(e["Raw Search Result"])).world_code){t.n=1;break}return t.a(2);case 1:return t.n=2,u.A.findUser({id:n.id,world_code:n.world_code});case 2:if(null!==(r=t.v)){t.n=3;break}throw new Error("User not found:",n);case 3:return t.n=4,u.A.clearUserData();case 4:return t.n=5,u.A.setUser(r);case 5:s.A.pushActions([s.A.ACTIONS.QUERY_USER]),a.S.navToHome();case 6:return t.a(2)}},t)}))).apply(this,arguments)}function E(){var t=$("#".concat(l)).DataTable({layout:{},language:{},searching:!1,order:[[2,"asc"]],columnDefs:[{targets:"_all",className:"nowrap"}],buttons:{},pageLength:50,scrollY:"300px",deferRender:!0,scroller:!0,scrollCollapse:!1,columns:Object.values(h).map(function(t){return{data:t}})});$("#".concat(l," tbody")).on("click","tr",v(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.n){case 0:return n=t.row(this).data(),e.n=1,m(n);case 1:return e.a(2)}},e,this)})))}function A(t){return{Name:t.item.name,ID:t.item.id||t.item.code,"Search Score":t.score.toFixed(4),"Raw Search Result":JSON.stringify(t.item)}}function b(){var t=c.A.SEARCH_PAGE.SEARCH_FORM;t.addEventListener("submit",function(){var e=v(p().m(function e(n){var r,i,a,c,u;return p().w(function(e){for(;;)switch(e.n){case 0:return n.preventDefault(),r=new FormData(t),i=r.get("searchTerm"),a=r.get("searchDomain"),e.n=1,f.search(a,i);case 1:c=e.v,u=(u=c.map(A)).slice(0,5e3),o.A.replaceData(l,u);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}function S(){return _.apply(this,arguments)}function _(){return(_=v(p().m(function t(){return p().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a.S.initialize();case 1:E(),b(),i.A.setVisibility(c.A.SEARCH_PAGE.SEARCH_TABLE_CONTAINER,!0);case 2:return t.a(2)}},t)}))).apply(this,arguments)}await S(),e()}catch(w){e(w)}},1)},929:(t,e,n)=>{function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===l(t)}n.d(e,{A:()=>W});function o(t){return"string"==typeof t}function i(t){return"number"==typeof t}function a(t){return!0===t||!1===t||function(t){return c(t)&&null!==t}(t)&&"[object Boolean]"==l(t)}function c(t){return"object"==typeof t}function u(t){return null!=t}function s(t){return!t.trim().length}function l(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const f=Object.prototype.hasOwnProperty;class h{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=p(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function p(t){let e=null,n=null,i=null,a=1,c=null;if(o(t)||r(t))i=t,e=y(t),n=d(t);else{if(!f.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const r=t.name;if(i=r,f.call(t,"weight")&&(a=t.weight,a<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(r));e=y(r),n=d(r),c=t.getFn}return{path:e,id:n,weight:a,src:i,getFn:c}}function y(t){return r(t)?t:t.split(".")}function d(t){return r(t)?t.join("."):t}var v={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],c=!1;const s=(t,e,l)=>{if(u(t))if(e[l]){const f=t[e[l]];if(!u(f))return;if(l===e.length-1&&(o(f)||i(f)||a(f)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(f));else if(r(f)){c=!0;for(let t=0,n=f.length;t<n;t+=1)s(f[t],e,l+1)}else e.length&&s(f,e,l+1)}else n.push(t)};return s(t,o(e)?e.split("."):e,0),c?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const m=/[^ ]+/g;class g{constructor({getFn:t=v.getFn,fieldNormWeight:e=v.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(e){const o=e.match(m).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*t),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();o(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!u(t)||s(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,i)=>{let a=e.getFn?e.getFn(t):this.getFn(t,e.path);if(u(a))if(r(a)){let t=[];const e=[{nestedArrIndex:-1,value:a}];for(;e.length;){const{nestedArrIndex:n,value:i}=e.pop();if(u(i))if(o(i)&&!s(i)){let e={v:i,i:n,n:this.norm.get(i)};t.push(e)}else r(i)&&i.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[i]=t}else if(o(a)&&!s(a)){let t={v:a,n:this.norm.get(a)};n.$[i]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function E(t,e,{getFn:n=v.getFn,fieldNormWeight:r=v.fieldNormWeight}={}){const o=new g({getFn:n,fieldNormWeight:r});return o.setKeys(t.map(p)),o.setSources(e),o.create(),o}function A(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=v.distance,ignoreLocation:i=v.ignoreLocation}={}){const a=e/t.length;if(i)return a;const c=Math.abs(r-n);return o?a+c/o:c?1:a}const b=32;function S(t,e,n,{location:r=v.location,distance:o=v.distance,threshold:i=v.threshold,findAllMatches:a=v.findAllMatches,minMatchCharLength:c=v.minMatchCharLength,includeMatches:u=v.includeMatches,ignoreLocation:s=v.ignoreLocation}={}){if(e.length>b)throw new Error(`Pattern length exceeds max of ${b}.`);const l=e.length,f=t.length,h=Math.max(0,Math.min(r,f));let p=i,y=h;const d=c>1||u,m=d?Array(f):[];let g;for(;(g=t.indexOf(e,y))>-1;){let t=A(e,{currentLocation:g,expectedLocation:h,distance:o,ignoreLocation:s});if(p=Math.min(t,p),y=g+l,d){let t=0;for(;t<l;)m[g+t]=1,t+=1}}y=-1;let E=[],S=1,_=l+f;const w=1<<l-1;for(let r=0;r<l;r+=1){let i=0,c=_;for(;i<c;){A(e,{errors:r,currentLocation:h+c,expectedLocation:h,distance:o,ignoreLocation:s})<=p?i=c:_=c,c=Math.floor((_-i)/2+i)}_=c;let u=Math.max(1,h-c+1),v=a?f:Math.min(h+c,f)+l,g=Array(v+2);g[v+1]=(1<<r)-1;for(let i=v;i>=u;i-=1){let a=i-1,c=n[t.charAt(a)];if(d&&(m[a]=+!!c),g[i]=(g[i+1]<<1|1)&c,r&&(g[i]|=(E[i+1]|E[i])<<1|1|E[i+1]),g[i]&w&&(S=A(e,{errors:r,currentLocation:a,expectedLocation:h,distance:o,ignoreLocation:s}),S<=p)){if(p=S,y=a,y<=h)break;u=Math.max(1,2*h-y)}}if(A(e,{errors:r+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:s})>p)break;E=g}const T={isMatch:y>=0,score:Math.max(.001,S)};if(d){const t=function(t=[],e=v.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=t.length;i<a;i+=1){let a=t[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}(m,c);t.length?u&&(T.indices=t):T.isMatch=!1}return T}function _(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}const w=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class T{constructor(t,{location:e=v.location,threshold:n=v.threshold,distance:r=v.distance,includeMatches:o=v.includeMatches,findAllMatches:i=v.findAllMatches,minMatchCharLength:a=v.minMatchCharLength,isCaseSensitive:c=v.isCaseSensitive,ignoreDiacritics:u=v.ignoreDiacritics,ignoreLocation:s=v.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:s},t=c?t:t.toLowerCase(),t=u?w(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:_(t),startIndex:e})},f=this.pattern.length;if(f>b){let t=0;const e=f%b,n=f-e;for(;t<n;)l(this.pattern.substr(t,b),t),t+=b;if(e){const t=f-b;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r}=this.options;if(t=e?t:t.toLowerCase(),t=n?w(t):t,this.pattern===t){let e={isMatch:!0,score:0};return r&&(e.indices=[[0,t.length-1]]),e}const{location:o,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:u,ignoreLocation:s}=this.options;let l=[],f=0,h=!1;this.chunks.forEach(({pattern:e,alphabet:n,startIndex:p})=>{const{isMatch:y,score:d,indices:v}=S(t,e,n,{location:o+p,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:u,includeMatches:r,ignoreLocation:s});y&&(h=!0),f+=d,y&&v&&(l=[...l,...v])});let p={isMatch:h,score:h?f/this.chunks.length:1};return h&&r&&(p.indices=l),p}}class R{constructor(t){this.pattern=t}static isMultiMatch(t){return O(t,this.multiRegex)}static isSingleMatch(t){return O(t,this.singleRegex)}search(){}}function O(t,e){const n=t.match(e);return n?n[1]:null}class I extends R{constructor(t,{location:e=v.location,threshold:n=v.threshold,distance:r=v.distance,includeMatches:o=v.includeMatches,findAllMatches:i=v.findAllMatches,minMatchCharLength:a=v.minMatchCharLength,isCaseSensitive:c=v.isCaseSensitive,ignoreDiacritics:u=v.ignoreDiacritics,ignoreLocation:s=v.ignoreLocation}={}){super(t),this._bitapSearch=new T(t,{location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class P extends R{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+o,r.push([e,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const L=[class extends R{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},P,class extends R{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends R{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends R{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends R{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends R{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},I],D=L.length,C=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const x=new Set([I.type,P.type]);class k{constructor(t,{isCaseSensitive:e=v.isCaseSensitive,ignoreDiacritics:n=v.ignoreDiacritics,includeMatches:r=v.includeMatches,minMatchCharLength:o=v.minMatchCharLength,ignoreLocation:i=v.ignoreLocation,findAllMatches:a=v.findAllMatches,location:c=v.location,threshold:u=v.threshold,distance:s=v.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:c,threshold:u,distance:s},t=e?t:t.toLowerCase(),t=n?w(t):t,this.pattern=t,this.query=function(t,e={}){return t.split("|").map(t=>{let n=t.trim().split(C).filter(t=>t&&!!t.trim()),r=[];for(let t=0,o=n.length;t<o;t+=1){const o=n[t];let i=!1,a=-1;for(;!i&&++a<D;){const t=L[a];let n=t.isMultiMatch(o);n&&(r.push(new t(n,e)),i=!0)}if(!i)for(a=-1;++a<D;){const t=L[a];let n=t.isSingleMatch(o);if(n){r.push(new t(n,e));break}}}return r})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:o}=this.options;t=r?t:t.toLowerCase(),t=o?w(t):t;let i=0,a=[],c=0;for(let r=0,o=e.length;r<o;r+=1){const o=e[r];a.length=0,i=0;for(let e=0,r=o.length;e<r;e+=1){const r=o[e],{isMatch:u,indices:s,score:l}=r.search(t);if(!u){c=0,i=0,a.length=0;break}if(i+=1,c+=l,n){const t=r.constructor.type;x.has(t)?a=[...a,...s]:a.push(s)}}if(i){let t={isMatch:!0,score:c/i};return n&&(t.indices=a),t}}return{isMatch:!1,score:1}}}const N=[];function F(t,e){for(let n=0,r=N.length;n<r;n+=1){let r=N[n];if(r.condition(t,e))return new r(t,e)}return new T(t,e)}const j="$and",M="$or",B="$path",G="$val",U=t=>!(!t[j]&&!t[M]),H=t=>({[j]:Object.keys(t).map(e=>({[e]:t[e]}))});function V(t,e,{auto:n=!0}={}){const i=t=>{let a=Object.keys(t);const u=(t=>!!t[B])(t);if(!u&&a.length>1&&!U(t))return i(H(t));if((t=>!r(t)&&c(t)&&!U(t))(t)){const r=u?t[B]:a[0],i=u?t[G]:t[r];if(!o(i))throw new Error((t=>`Invalid value for key ${t}`)(r));const c={keyId:d(r),pattern:i};return n&&(c.searcher=F(i,e)),c}let s={children:[],operator:a[0]};return a.forEach(e=>{const n=t[e];r(n)&&n.forEach(t=>{s.children.push(i(t))})}),s};return U(t)||(t=H(t)),i(t)}function K(t,e){const n=t.matches;e.matches=[],u(n)&&n.forEach(t=>{if(!u(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let o={indices:n,value:r};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)})}function $(t,e){e.score=t.score}class W{constructor(t,e={},n){this.options={...v,...e},this.options.useExtendedSearch,this._keyStore=new h(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof g))throw new Error("Incorrect 'index' type");this._myIndex=e||E(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){u(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,r-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:c,ignoreFieldNorm:u}=this.options;let s=o(t)?o(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=v.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:r,score:o})=>{const i=t?t.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:r))}),t.score=n})}(s,{ignoreFieldNorm:u}),a&&s.sort(c),i(e)&&e>-1&&(s=s.slice(0,e)),function(t,e,{includeMatches:n=v.includeMatches,includeScore:r=v.includeScore}={}){const o=[];return n&&o.push(K),r&&o.push($),t.map(t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return o.length&&o.forEach(e=>{e(t,r)}),r})}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=F(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:t,i:n,n:o})=>{if(!u(t))return;const{isMatch:i,score:a,indices:c}=e.searchIn(t);i&&r.push({item:t,idx:n,matches:[{score:a,value:t,norm:o,indices:c}]})}),r}_searchLogical(t){const e=V(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:o});return i&&i.length?[{idx:r,item:e,matches:i}]:[]}const o=[];for(let i=0,a=t.children.length;i<a;i+=1){const a=t.children[i],c=n(a,e,r);if(c.length)o.push(...c);else if(t.operator===j)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach(({$:t,i:r})=>{if(u(t)){let a=n(e,t,r);a.length&&(o[r]||(o[r]={idx:r,item:t,matches:[]},i.push(o[r])),a.forEach(({matches:t})=>{o[r].matches.push(...t)}))}}),i}_searchObjectList(t){const e=F(t,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:t,i:r})=>{if(!u(t))return;let i=[];n.forEach((n,r)=>{i.push(...this._findMatches({key:n,value:t[r],searcher:e}))}),i.length&&o.push({idx:r,item:t,matches:i})}),o}_findMatches({key:t,value:e,searcher:n}){if(!u(e))return[];let o=[];if(r(e))e.forEach(({v:e,i:r,n:i})=>{if(!u(e))return;const{isMatch:a,score:c,indices:s}=n.searchIn(e);a&&o.push({score:c,key:t,value:e,idx:r,norm:i,indices:s})});else{const{v:r,n:i}=e,{isMatch:a,score:c,indices:u}=n.searchIn(r);a&&o.push({score:c,key:t,value:r,norm:i,indices:u})}return o}}W.version="7.1.0",W.createIndex=E,W.parseIndex=function(t,{getFn:e=v.getFn,fieldNormWeight:n=v.fieldNormWeight}={}){const{keys:r,records:o}=t,i=new g({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},W.config=v,W.parseQuery=V,function(...t){N.push(...t)}(k)},967:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(179);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,h.n=n,u}};function p(n,r){for(a=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),a=l,c=y;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,c)):h.n=c:h.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=h.n<0)?c:n.call(r,h))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(p),c(p,o,"Generator"),c(p,r,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:y}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)})}}function l(t){return f.apply(this,arguments)}function f(){return(f=s(a().m(function t(e){var n,r,o;return a().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=2;break}throw new Error("HTTP error: status: ".concat(n.status));case 2:return t.n=3,n.json();case 3:return r=t.v,Object.keys(r),t.a(2,r);case 4:return t.p=4,o=t.v,console.error("Error fetching global user data:",o),t.a(2,null)}},t,null,[[0,4]])}))).apply(this,arguments)}function h(){return h=s(a().m(function t(){var e,n,r=arguments;return a().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=r.length>0&&void 0!==r[0]?r[0]:null)?e:"all",") from E7 Server..."),t.n=1,l("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_hero.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find hero data for language:",e),n=null),t.a(2,n)}},t)})),h.apply(this,arguments)}function p(){return p=s(a().m(function t(){var e,n,r=arguments;return a().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=r.length>0&&void 0!==r[0]?r[0]:null)?e:"all",") from E7 Server..."),t.n=1,l("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_artifact.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find artifact data for language:",e),n=null),t.a(2,n)}},t)})),p.apply(this,arguments)}function y(){return(y=s(a().m(function t(e){var n,i;return a().w(function(t){for(;;)switch(t.n){case 0:if(e=e.replace("world_",""),o(r.WB).some(function(t){return t.replace("world_","")===e})){t.n=1;break}return console.error("Could not find world code: ".concat(e)),t.a(2,null);case 1:return"Fetching users for world code: ".concat(e," from E7 Server..."),n="https://static.smilegatemegaport.com/gameRecord/epic7/epic7_user_world_".concat(e,".json"),t.n=2,l(n);case 2:return(i=t.v)&&"Got user data for world: ".concat(e," ; Found ").concat(i.users.length," users"),t.a(2,i)}},t)}))).apply(this,arguments)}const d={fetchHeroJSON:function(){return h.apply(this,arguments)},fetchUserJSON:function(t){return y.apply(this,arguments)},fetchArtifactJSON:function(){return p.apply(this,arguments)}}}},a={};function c(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return i[t](n,n.exports,c),n.exports}t="function"==typeof Symbol,e=t?Symbol("webpack queues"):"__webpack_queues__",n=t?Symbol("webpack exports"):"__webpack_exports__",r=t?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},c.a=(t,i,a)=>{var c;a&&((c=[]).d=-1);var u,s,l,f=new Set,h=t.exports,p=new Promise((t,e)=>{l=e,s=t});p[n]=h,p[e]=t=>(c&&t(c),f.forEach(t),p.catch(t=>{})),t.exports=p,i(t=>{var i;u=(t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var i=[];i.d=0,t.then(t=>{a[n]=t,o(i)},t=>{a[r]=t,o(i)});var a={};return a[e]=t=>t(i),a}}var c={};return c[e]=t=>{},c[n]=t,c}))(t);var a=()=>u.map(t=>{if(t[r])throw t[r];return t[n]}),s=new Promise(t=>{(i=()=>t(a)).r=0;var n=t=>t!==c&&!f.has(t)&&(f.add(t),t&&!t.d&&(i.r++,t.push(i)));u.map(t=>t[e](n))});return i.r?s:a()},t=>(t?l(p[r]=t):s(h),o(c))),c&&c.d<0&&(c.d=0)},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);c(895)})();
//# sourceMappingURL=search.119572f17b4b5359a92c.bundle.js.map