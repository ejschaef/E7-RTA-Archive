/*! For license information please see filter-syntax.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,r,o,a={32:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(e instanceof Set)return e.has(t);if("object"===r(e)&&null!==e&&!Array.isArray(e)&&["start","end","endInclusive","type"].every(function(t){return e.hasOwnProperty(t)}))return t>=e.start&&(e.endInclusive?t<=e.end:t<e.end);if(Array.isArray(e))return e.includes(t);throw new Error("Invalid match pattern for 'in' operators; got: '".concat(t,"' and '").concat(JSON.stringify(e),"}' (").concat(e.constructor.name,")"))}n.d(e,{A:()=>a});var a={">":function(t,e){return t>e},"<":function(t,e){return t<e},"=":function(t,e){return t===e},in:function(t,e){return o(t,e)},">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e},"!=":function(t,e){return t!==e},"!in":function(t,e){return!o(t,e)}}},48:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.d(e,{A:()=>f});var u=function(){return i(function t(){o(this,t)},[{key:"SELECT_DATA_MSG",get:function(){return this._SELECT_DATA_MSG||(this._SELECT_DATA_MSG=document.getElementById("select-data-msg"))}},{key:"FILTER_MSG",get:function(){return this._FILTER_MSG||(this._FILTER_MSG=document.getElementById("filterMSG"))}},{key:"SELECT_DATA_BODY",get:function(){return this._SELECT_DATA_BODY||(this._SELECT_DATA_BODY=document.getElementById("select-data-body"))}},{key:"SHOW_STATS_BODY",get:function(){return this._SHOW_STATS_BODY||(this._SHOW_STATS_BODY=document.getElementById("show-stats-body"))}},{key:"LOAD_DATA_BODY",get:function(){return this._LOAD_DATA_BODY||(this._LOAD_DATA_BODY=document.getElementById("load-data-body"))}},{key:"CLEAR_DATA_BTN",get:function(){return this._CLEAR_DATA_BTN||(this._CLEAR_DATA_BTN=document.getElementById("clear-data-btn"))}},{key:"UPLOAD_FORM",get:function(){return this._UPLOAD_FORM||(this._UPLOAD_FORM=document.getElementById("uploadForm"))}},{key:"CSV_FILE",get:function(){return this._CSV_FILE||(this._CSV_FILE=document.getElementById("csvFile"))}},{key:"USER_QUERY_FORM_NAME",get:function(){return this._USER_QUERY_FORM_NAME||(this._USER_QUERY_FORM_NAME=document.getElementById("user-query-form-name"))}},{key:"USER_QUERY_FORM_SERVER",get:function(){return this._USER_QUERY_FORM_SERVER||(this._USER_QUERY_FORM_SERVER=document.getElementById("user-query-form-server"))}},{key:"BATTLES_TABLE",get:function(){return this._BATTLES_TABLE||(this._BATTLES_TABLE=document.getElementById("BattlesTable"))}},{key:"AUTO_ZOOM_FLAG",get:function(){return this._AUTO_ZOOM_FLAG||(this._AUTO_ZOOM_FLAG=document.getElementById("auto-zoom-flag"))}},{key:"FOOTER_BODY",get:function(){return this._FOOTER||(this._FOOTER=document.getElementById("footer-body"))}},{key:"USER_NAME",get:function(){return this._USER_NAME||(this._USER_NAME=document.getElementById("user-name"))}},{key:"USER_ID",get:function(){return this._USER_ID||(this._USER_ID=document.getElementById("user-id"))}},{key:"USER_SERVER",get:function(){return this._USER_SERVER||(this._USER_SERVER=document.getElementById("user-server"))}},{key:"BATTLE_FILTER_TOGGLE",get:function(){return this._BATTLE_FILTER_TOGGLER||(this._BATTLE_FILTER_TOGGLER=document.getElementById("filter-battle-table"))}},{key:"ID_SEARCH_FLAG",get:function(){return this._ID_SEARCH_FLAG||(this._ID_SEARCH_FLAG=document.getElementById("id-search-flag"))}},{key:"ESCAPE_BTN",get:function(){return this._ESCAPE_BTN||(this._ESCAPE_BTN=document.getElementById("escape-btn"))}}])}(),s=function(){return i(function t(){o(this,t)},[{key:"SIDEBAR_HIDE_BTN",get:function(){return this._SIDEBAR_HIDE_BTN||(this._SIDEBAR_HIDE_BTN=document.getElementById("sidebar-hide"))}}])}(),l=function(){return i(function t(){o(this,t)},[{key:"SEARCH_DOMAINS",get:function(){return this._SEARCH_DOMAINS||(this._SEARCH_DOMAINS=document.getElementById("search-domains"))}},{key:"SEARCH_SUBMIT_BTN",get:function(){return this._SEARCH_SUBMIT_BTN||(this._SEARCH_SUBMIT_BTN=document.getElementById("search-submit-btn"))}},{key:"SEARCH_FORM",get:function(){return this._SEARCH_FORM||(this._SEARCH_FORM=document.getElementById("searchForm"))}},{key:"SEARCH_TABLE_CONTAINER",get:function(){return this._SEARCH_TABLE_CONTAINER||(this._SEARCH_TABLE_CONTAINER=document.getElementById("search-table-container"))}}])}();const f={HOME_PAGE:new u,NAV_BAR:new s,SEARCH_PAGE:new l}},84:(t,e,n)=>{n.d(e,{$V:()=>E,eP:()=>P,k2:()=>R,yq:()=>k});var r=n(92),o=n(876),a=n(523),i=n(382),c=n(179),u=n(93);function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e,n){return e=y(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function S(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}var _=function(){return S(function t(){m(this,t)},[{key:"call",value:function(t){throw new Error("Base class ".concat(this.constructor.name," does not implement the 'call' method. Implement this method in a subclass."))}}])}(),E=function(t){function e(t){var n;if(m(this,e),(n=f(this,e)).name="last-N",1!==t.length)throw new a.A.SyntaxException("".concat(n.name," expects 1 argument, got ").concat(t.length));var r=Number(t[0]);if(!Number.isInteger(r))throw new a.A.TypeException("".concat(n.name," expects an integer argument, could not parse '").concat(t[0],"' as integer"));return n.str="".concat(n.name,"(").concat(r,")"),n.n=r,n}return d(e,t),S(e,[{key:"call",value:function(t){return t.sort(function(t,e){return t["Seq Num"]-e["Seq Num"]}),t.slice(-this.n)}}])}(function(t){function e(){return m(this,e),f(this,e)}return d(e,t),S(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(_)),A=function(t){function e(t){var n;return m(this,e),(n=f(this,e)).fns=t,console.log("Clause Fn constructor got fns:",t),n}return d(e,t),S(e,[{key:"asString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="",n=t+o.RG;return this.fns.localFilters.forEach(function(t){return e+="".concat(t.asString(n),",\n")}),console.log("Clause Fn asString got output:",e),"".concat(t).concat(this.str,"(\n").concat(e.trimEnd(),"\n").concat(t,")")}}])}(_),w=function(t){function e(t){var n;return m(this,e),(n=f(this,e,[t])).str="AND",n}return d(e,t),S(e,[{key:"call",value:function(t){return this.fns.localFilters.every(function(e){return e.call(t)})}}])}(A),T=function(t){function e(t){var n;return m(this,e),(n=f(this,e,[t])).str="OR",n}return d(e,t),S(e,[{key:"call",value:function(t){return this.fns.localFilters.some(function(e){return e.call(t)})}}])}(A),P=function(t){function e(t){var n;return m(this,e),(n=f(this,e,[t])).str="XOR",n}return d(e,t),S(e,[{key:"call",value:function(t){var e,n=!1,r=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=s(t))){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw o}}}}(this.fns.localFilters);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=!n&&o.call(t)||n&&!o.call(t)}}catch(t){r.e(t)}finally{r.f()}return n}}])}(A),R=function(t){function e(t){var n;return m(this,e),(n=f(this,e,[t])).str="NOT",n}return d(e,t),S(e,[{key:"call",value:function(t){return!this.fns.localFilters[0].call(t)}}])}(A),O=function(t){function e(){return m(this,e),f(this,e,arguments)}return d(e,t),S(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(_),I=function(t){function e(t,n,r){var o;return m(this,e),console.log("Received equipment fn args",t,n,r),(o=f(this,e)).hero=t.data,o.equipmentCounts=(0,u.JS)(n.list),o.str=(r?"p1":"p2")+".equipment(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return d(e,t),S(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Equipment"]:t["P2 Equipment"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);if(!r)return!1;var o=(0,u.JS)(r);return Object.entries(this.equipmentCounts).every(function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return o[a]===i})}}],[{key:"fromFilterStr",value:function(t,n){var o=a.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new a.A.SyntaxException("Invalid equipment function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!i.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new a.A.TypeException("Invalid equipment function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));var c=/^\{[",'a-z\s]*\}$/i.test(o[1])?o[1]:"{".concat(o[1],"}"),u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Set(c,n,{types:["equipment"]})}catch(e){throw new a.A.TypeException("Invalid type in equipment function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return console.log("Sending equipment fn args",u,s,l),new e(u,s,l)}}])}(O),L=function(t){function e(t,n,r){var o,a;return m(this,e),console.log("Received artifact fn args",t,n,r),(o=f(this,e)).hero=t.data,o.artifactArr=function(t){if(Array.isArray(t))return l(t)}(a=n.data)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(a)||s(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o.str=(r?"p1":"p2")+".artifact(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return d(e,t),S(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Artifacts"]:t["P2 Artifacts"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);return console.log("Got equipped Artifact: ".concat(r,", hero: ").concat(this.hero,", picks: ").concat(JSON.stringify(n),", artifacts: ").concat(JSON.stringify(e))),!!r&&this.artifactArr.some(function(t){return r.toLowerCase()===t.toLowerCase()})}}],[{key:"fromFilterStr",value:function(t,n){var o=a.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new a.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!i.L.anchorExp(i.L.VALID_STRING_LITERAL_RE).test(o[0]))throw new a.A.TypeException("Invalid artifact function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));var c=i.L.VALID_SET_RE.test(o[1])?o[1]:"{".concat(o[1],"}"),u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Set(c,n,{types:["artifact"]})}catch(e){throw console.error(e),new a.A.TypeException("Invalid type in artifact function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return console.log("Sending artifact fn args",u,s,l),new e(u,s,l)}}])}(O),D=function(t){function e(t,n,r){var o;return m(this,e),console.log("Received CR-GEQ fn args",t.asString(),n.asString(),r),(o=f(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-GEQ(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return d(e,t),S(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]>=e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P1_PICKS])}):t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P2_PICKS])});return console.log("Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold)),!!r}}],[{key:"fromFilterStr",value:function(t,n){var o=a.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new a.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!i.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new a.A.TypeException("Invalid CR-GEQ function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));if(!i.L.VALID_INT_LITERAL_RE.test(o[1]))throw new a.A.TypeException("Invalid CR-GEQ function call ; second argument must be a valid integer literal ; got: '".concat(o[1],"' from str: ").concat(t));var c=o[1],u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Int(c)}catch(e){throw new a.A.TypeException("Invalid type in CR-GEQ function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return console.log("Sending CR fn args",u,s,l),new e(u,s,l)}}])}(O),x=function(t){function e(t,n,r){var o;return m(this,e),console.log("Received CR-LT fn args",t.asString(),n.asString(),r),(o=f(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-LT(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return d(e,t),S(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]<e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P1_PICKS])}):t[c.Lx.CR_BAR].find(function(e){return n(e,t[c.Lx.P2_PICKS])});return console.log("Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold)),!!r}}],[{key:"fromFilterStr",value:function(t,n){var o=a.A.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==o.length)throw new a.A.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(o,"] from str: ").concat(t));if(!i.L.VALID_STRING_LITERAL_RE.test(o[0]))throw new a.A.TypeException("Invalid CR-LT function call ; first argument must be a valid string literal ; got: '".concat(o[0],"' from str: ").concat(t));if(!i.L.VALID_INT_LITERAL_RE.test(o[1]))throw new a.A.TypeException("Invalid CR-LT function call ; second argument must be a valid integer literal ; got: '".concat(o[1],"' from str: ").concat(t));var c=o[1],u=null,s=null;try{u=new r.QE.String(o[0],n,{types:["hero"]}),s=new r.QE.Int(c)}catch(e){throw new a.A.TypeException("Invalid type in CR-LT function call; got str: ".concat(t," ; error: ").concat(e))}var l="p1"===t.split(".")[0];return console.log("Sending CR fn args",u,s,l),new e(u,s,l)}}])}(O),k={and:w,or:T,xor:P,not:R,"last-n":E,"p1.equipment":I,"p2.equipment":I,"p1.artifact":L,"p2.artifact":L,"p1.cr-geq":D,"p2.cr-geq":D,"p1.cr-lt":x,"p2.cr-lt":x}},85:(t,e,n)=>{n.d(e,{DG:()=>o.D,qD:()=>d});var r=n(720),o=(n(48),n(163),n(114));function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,a){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return i(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,i(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,i(y,"constructor",f),i(f,"constructor",l),l.displayName="GeneratorFunction",i(f,o,"GeneratorFunction"),i(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:d}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){i(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,e,n,r)}function c(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)})}}n(828),n(179);var s=new Set(Object.values(o.D));function l(t){return!!s.has(t)||(console.error("Invalid page state: ".concat(t)),!1)}var f,p,y,d={getState:(y=u(a().m(function t(){var e,n,i,c;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.HOME_PAGE_STATE);case 1:if(i=e=t.v,!(n=null!==i)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}c=e,t.n=4;break;case 3:c=o.D.SELECT_DATA;case 4:return t.a(2,c)}},t)})),function(){return y.apply(this,arguments)}),setState:(p=u(a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:if(l(e)){t.n=1;break}return t.a(2);case 1:return t.n=2,r.A.cache(r.A.Keys.HOME_PAGE_STATE,e);case 2:return t.a(2)}},t)})),function(t){return p.apply(this,arguments)}),resetState:(f=u(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.delete(r.A.Keys.HOME_PAGE_STATE);case 1:return t.a(2)}},t)})),function(){return f.apply(this,arguments)})}},92:(t,e,n)=>{n.d(e,{QE:()=>D,pe:()=>A,yI:()=>L});var r=n(523),o=n(382),a=n(93),i=n(763),c=n(876),u=n(179);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){return e=h(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function _(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}var A=function(){return _(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;S(this,t),this.rawString=e,this.data=null===r?this.getData(e,n):this.getData(e,n,r)},[{key:"asString",value:function(){return"".concat(this.data)}}])}(),w=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{types:["hero","league","server","equipment","artifact"]};if(t=(t=r.A.trimSurroundingQuotes(t)).trim(),!o.L.VALID_STRING_RE.test(t))throw new r.A.SyntaxException("Invalid string; all string content must start with a letter followed by either num, hyphen or period ( case insensitive regex: ".concat(o.L.VALID_STRING_LITERAL_RE.source," ); got: [").concat(t,"]"));function s(t,n){var r;switch(t){case"hero":return null===(r=i.A.getHeroByName(n,e.HM))||void 0===r?void 0:r.name;case"league":return u.pc[n]?n:null;case"server":return Object.values(u.DB).find(function(t){return t.toLowerCase()===n});case"equipment":return c.Jb.has(n)?n:null;case"artifact":return e.ARTIFACT_LOWERCASE_STRINGS_SET.has(n)?n:null}}var f,p=l(n.types);try{for(p.s();!(f=p.n()).done;){var y=s(f.value,t);if(y)return console.log("Parsed string: [".concat(t,"] to [").concat(y,"]")),(0,a.Sn)(y)}}catch(t){p.e(t)}finally{p.f()}throw new r.A.SyntaxException("Invalid string; All strings must either be a valid [".concat(n.types.join(", "),"]; got: [").concat(t,"]"))}},{key:"asString",value:function(){return'"'.concat(this.data,'"')}}])}(A),T=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t){return r.A.parseDate(t)}},{key:"asString",value:function(){return"".concat(this.rawString)}}])}(A),P=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t){if(!o.L.VALID_INT_LITERAL_RE.test(t))throw new r.A.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));var e=parseInt(t);if(isNaN(e))throw new r.A.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));return e}},{key:"asString",value:function(){return"".concat(this.data)}}])}(A),R=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t){if(!o.L.VALID_BOOL_LITERAL_RE.test(t))throw new r.A.SyntaxException("Invalid boolean; must be 'true' or 'false'; got: '".concat(t,"'"));return"true"===t?1:0}},{key:"asString",value:function(){return"".concat(this.data?"true":"false")}}])}(A),O=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t){var e=t.split("...");if(2!==e.length)throw new r.A.SyntaxException("Invalid range; ranges must be of the format x...y or x...=y ; got more than two values when splitting string: '".concat(t,"'"));var n=s(e,2),a=n[0],i=n[1],c=!1;i.includes("=")&&(i=i.replace("=",""),c=!0);var u={start:null,end:null,endInclusive:c};if(o.L.VALID_DATE_LITERAL_RE.test(a)){if(u.start=r.A.tryConvert(r.A.parseDate,"Date",a,"Could not convert '".concat(a,"' to Date in declared range: '").concat(t,"'")),u.end=r.A.tryConvert(r.A.parseDate,"Date",i,"Could not convert '".concat(i,"' to Date in declared range: '").concat(t,"' ; Ranges must have homogenous types")),u.start>u.end)throw new r.A.SyntaxException("Invalid range; start date must be on or before end date; ".concat(u.start," > ").concat(u.end));u.type="Date"}else{if(!o.L.VALID_INT_LITERAL_RE.test(a))throw new r.A.SyntaxException("Invalid range; must be of the format x...y or x...=y ; got: '".concat(t,"'"));if(u.start=r.A.tryConvert(function(t){return new P(t)},"Int",a,"Could not convert '".concat(a,"' to Int in declared range: '").concat(t,"'")).data,u.end=r.A.tryConvert(function(t){return new P(t)},"Int",i,"Could not convert '".concat(i,"' to Int in declared range: '").concat(t,"' ; Ranges must have homogenous types")).data,u.start>u.end)throw new r.A.SyntaxException("Invalid range; start integer must be equal to or less than end integer; ".concat(u.start," > ").concat(u.end));u.type="Int"}return console.log("Built Range: ".concat(JSON.stringify(u))),u}},{key:"asString",value:function(){var t=this.data.endInclusive?"...=":"...";return"Date"===this.data.type?"".concat(this.data.start.toISOString().slice(0,10)).concat(t).concat(this.data.end.toISOString().slice(0,10)):"Int"===this.data.type?"".concat(this.data.start).concat(t).concat(this.data.end):"Error Converting Range to String => < ".concat(this.data.start).concat(t).concat(this.data.end," >")}}])}(A),I=function(t){function e(){return S(this,e),y(this,e,arguments)}return v(e,t),_(e,[{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{types:["hero","league","server","equipment","artifact"]};if(!o.L.VALID_SET_RE.test(t))throw new r.A.SyntaxException("Invalid set; must be in the format: { element1, element2,... }, where elements have either string format or date format; ( case insensitive regex: ".concat(o.L.VALID_SET_RE.source," ) (Just chat gpt this one bro); got: '").concat(t,"'"));var a=r.A.tokenizeWithNestedEnclosures(t,",",1,!0).map(function(t){if(o.L.VALID_STRING_RE.test(t))return new w(t,e,n);if(o.L.VALID_DATE_LITERAL_RE.test(t))return new T(t);throw new r.A.SyntaxException("Invalid set element; must be a string or date; got: '".concat(t,"'"))});console.log("GOT ELEMENTS: ",a);var i,c,u=new Set,s=l(a);try{for(s.s();!(i=s.n()).done;){var y=i.value;u.add(y.constructor.name)}}catch(t){s.e(t)}finally{s.f()}if(u=function(t){if(Array.isArray(t))return p(t)}(c=u)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(c)||f(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),console.log("GOT TYPES: ",u),u.size>1)throw new r.A.SyntaxException("Invalid set; all set elements must have the same data type; \n                got: types: [".concat(u.join(", "),"]"));return this.type=u[0],this.str="{".concat(a.map(function(t){return t.asString()}).join(", "),"}"),this.list=a.map(function(t){return t.data}),new Set(this.list)}},{key:"asString",value:function(){return this.str}}])}(A);function L(t,e){if(console.log("Trying to Parse DataType: ".concat(t)),o.L.VALID_STRING_LITERAL_RE.test(t))return console.log("Parsing as StringType"),new w(t,e);if(o.L.VALID_DATE_LITERAL_RE.test(t))return console.log("Parsing as DateType"),new T(t);if(o.L.VALID_INT_LITERAL_RE.test(t))return console.log("Parsing as IntType"),new P(t);if(o.L.VALID_BOOL_LITERAL_RE.test(t))return console.log("Parsing as BoolType"),new R(t);if(/\{.*\}/.test(t))return console.log("Parsing as SetType"),new I(t,e);if(o.L.VALID_RANGE_LITERAL_RE.test(t))return console.log("Parsing as RangeType"),new O(t);if(o.L.VALID_DATA_WORD_LITERAL_RE.test(t))return console.log("Parsing as DataWord"),function(t,e){if(o.L.VALID_SEASON_LITERAL_RE.test(t)){var n=function(t){return t.toISOString().slice(0,10)};if(e.SeasonDetails.length<1)throw new Error("Did not recieve any season details; failed on: '".concat(t,"'"));if("current-season"===t){var r=s(e.SeasonDetails.find(function(t){return"Active"===t.Status}).range,2),a=r[0],i=r[1];return new O("".concat(n(a),"...=").concat(n("N/A"===i?new Date:i)))}var c=Number(t.split("-")[1]),u=e.SeasonDetails.find(function(t){return t["Season Number"]===c});if(!u)throw new Error("Invalid season specified; ".concat(c," is not a valid season number; failed on str: '").concat(t,"'"));var l=s(u.range,2),f=l[0],p=l[1];return new O("".concat(n(f),"...=").concat(n(p)))}}(t,e);if(console.log("Failed to parse DataType"),o.L.VALID_STRING_LITERAL_RE.test("'".concat(t,"'")))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you forget to wrap string literals in double or single quotes?"));if(t.includes("'")&&t.includes('"'))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you encase in mismatching quote types?"));if(t.includes(".=")||t.includes(".."))throw new r.A.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; were you trying to use a range? Ranges must be of the format x...y or x...=y and may only be int-int or date-date"));throw new r.A.SyntaxException("Invalid DataType declaration; could not parse to valid Field or Declared Data Type; got: '".concat(t,"'"))}var D={Date:T,String:w,Int:P,Bool:R,Set:I,Range:O}},93:(t,e,n)=>{function r(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function o(t){return t.reduce(function(t,e){return t[e]=(t[e]||0)+1,t},{})}n.d(e,{JS:()=>o,Sn:()=>r})},114:(t,e,n)=>{n.d(e,{D:()=>r});var r={SELECT_DATA:"select-data",SHOW_STATS:"show-stats",LOAD_DATA:"load-data"}},163:(t,e,n)=>{n.d(e,{A:()=>v});var r,o,a=n(721),i=n(836),c=n(763),u=n(823),s=n(865),l=n(849),f=n(85);function p(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return y(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(y(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,y(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,y(f,"constructor",s),y(s,"constructor",u),u.displayName="GeneratorFunction",y(s,o,"GeneratorFunction"),y(f),y(f,o,"Generator"),y(f,r,function(){return this}),y(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:a,m:d}})()}function y(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}y=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){y(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},y(t,e,n,r)}function d(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){d(a,r,o,i,c,"next",t)}function c(t){d(a,r,o,i,c,"throw",t)}i(void 0)})}}const v={queryAndCacheBattles:(o=h(p().m(function t(e,n,r){var o,c,u,y,d,h;return p().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,s.A.getArtifacts();case 1:return o=t.v,t.n=2,i.A.rsFetchBattleData(e);case 2:if((c=t.v).ok){t.n=4;break}return t.n=3,c.json().error;case 3:u=t.v,y="Error while fetching data: ".concat(u),console.error("Error while fetching data: ".concat(u)),l.S.ERROR_MSG=y,n(f.DG.SELECT_DATA),t.n=7;break;case 4:return t.n=5,c.json();case 5:return d=t.v,h=d.battles,t.n=6,a.A.cacheQuery(h,r,o);case 6:console.log("Cached queried battles");case 7:return t.a(2)}},t)})),function(t,e,n){return o.apply(this,arguments)}),addStrParam:function(t,e,n){var r=encodeURIComponent(n);return"".concat(t,"?").concat(e,"=").concat(r)},addStrParams:function(t,e){for(var n in e)t=this.addStrParam(t,n,e[n]);return t},validateFilterSyntax:(r=h(p().m(function t(e){var n,r,o;return p().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.getHeroManager();case 1:return n=t.v,r=document.getElementById("filterMSG"),t.p=2,t.n=3,u.A.createAndParse(e,n);case 3:return r.textContent="Validation Passed",r.classList.remove("text-danger"),r.classList.add("text-safe"),t.a(2,!0);case 4:return t.p=4,o=t.v,console.error(o),r.textContent="Validation Failed: ".concat(o.message),r.classList.remove("text-safe"),r.classList.add("text-danger"),t.a(2,!1)}},t,null,[[2,4]])})),function(t){return r.apply(this,arguments)}),setScrollPercent:function(t){console.log("Scrolling to ".concat(t,"%"));var e=t/100*(document.documentElement.scrollHeight-window.innerHeight),n=document.documentElement,r=n.style.scrollBehavior;n.style.scrollBehavior="auto",window.scrollTo({top:e}),n.style.scrollBehavior=r},getScrollPercent:function(){var t=window.scrollY||document.documentElement.scrollTop,e=document.documentElement.scrollHeight-window.innerHeight;return 0===e?0:t/e*100},setTextGreen:function(t,e){t.textContent=e,t.classList.remove("text-danger"),t.classList.add("text-safe")},setTextRed:function(t,e){t.textContent=e,t.classList.remove("text-safe"),t.classList.add("text-danger")},setVisibility:function(t,e){e?t.classList.remove("d-none"):t.classList.add("d-none")}}},164:(t,e,n)=>{n.d(e,{A:()=>d});var r,o,a,i,c=n(720);function u(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return f(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,function(){return this}),e),y=s.prototype=c.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,f(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return u.prototype=s,f(y,"constructor",s),f(s,"constructor",u),u.displayName="GeneratorFunction",f(s,o,"GeneratorFunction"),f(y),f(y,o,"Generator"),f(y,r,function(){return this}),f(y,"toString",function(){return"[object Generator]"}),(l=function(){return{w:a,m:d}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){f(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},f(t,e,n,r)}function p(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){p(a,r,o,i,c,"next",t)}function c(t){p(a,r,o,i,c,"throw",t)}i(void 0)})}}const d={ACTIONS:{CLEAR_USER:"CLEAR_USER",SHOW_NO_USER_MSG:"SHOW_NO_USER_MSG",SHOW_DATA_ALREADY_CLEARED_MSG:"SHOW_DATA_ALREADY_CLEARED_MSG",QUERY_USER:"QUERY_USER"},getState:(i=y(l().m(function t(){var e,n,r,o;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.get(c.A.Keys.INTER_PAGE_MANAGER);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o={actions:[]};case 4:return t.a(2,o)}},t)})),function(){return i.apply(this,arguments)}),setState:(a=y(l().m(function t(e){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.cache(c.A.Keys.INTER_PAGE_MANAGER,e);case 1:return t.a(2)}},t)})),function(t){return a.apply(this,arguments)}),pushActions:(o=y(l().m(function t(e){var n,r;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return r=t.v,(n=r.actions).push.apply(n,u(e)),t.n=2,this.setState(r);case 2:return t.a(2)}},t,this)})),function(t){return o.apply(this,arguments)}),readAndClear:(r=y(l().m(function t(){var e;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return e=t.v,t.n=2,c.A.delete(c.A.Keys.INTER_PAGE_MANAGER);case 2:return t.a(2,e)}},t,this)})),function(){return r.apply(this,arguments)})}},179:(t,e,n)=>{n.d(e,{CZ:()=>c,D5:()=>d,DB:()=>a,E_:()=>l,F7:()=>o,GV:()=>p,Lx:()=>s,WB:()=>r,bh:()=>h,kh:()=>f,pc:()=>u,pg:()=>i,uz:()=>y});var r=new Set(["world_kor","world_global","world_jpn","world_asia","world_eu"]),o={GLOBAL:"world_global",KOR:"world_kor",JPN:"world_jpn",ASIA:"world_asia",EU:"world_eu"},a={world_global:"Global",world_kor:"Korea",world_jpn:"Japan",world_asia:"Asia",world_eu:"Europe"},i={set_speed:"Speed",set_acc:"Hit",set_cri:"Critical",set_res:"Resist",set_def:"Defense",set_att:"Attack",set_max_hp:"Health",set_cri_dmg:"Destruction",set_coop:"Unity",set_immune:"Immunity",set_rage:"Rage",set_vampire:"Lifesteal",set_shield:"Protection",set_revenge:"Revenge",set_penetrate:"Penetration",set_torrent:"Torrent",set_counter:"Counter",set_scar:"Injury"},c=864e5,u={bronze:0,silver:1,gold:2,master:3,challenger:4,champion:5,warlord:6,emperor:7,legend:8},s={SEASON:"Season",DATE_TIME:"Date/Time",SECONDS:"Seconds",TURNS:"Turns",SEQ_NUM:"Seq Num",P1_ID:"P1 ID",P1_SERVER:"P1 Server",P2_ID:"P2 ID",P2_SERVER:"P2 Server",P1_LEAGUE:"P1 League",P2_LEAGUE:"P2 League",P1_POINTS:"P1 Points",POINT_GAIN:"Point Gain",WIN:"Win",FIRST_PICK:"First Pick",FIRST_TURN:"First Turn",FIRST_TURN_HERO:"First Turn Hero",CR_BAR:"CR Bar",P1_PREBANS:"P1 Prebans",P2_PREBANS:"P2 Prebans",P1_PICKS:"P1 Picks",P2_PICKS:"P2 Picks",P1_POSTBAN:"P1 Postban",P2_POSTBAN:"P2 Postban",P1_EQUIPMENT:"P1 Equipment",P2_EQUIPMENT:"P2 Equipment",P1_ARTIFACTS:"P1 Artifacts",P2_ARTIFACTS:"P2 Artifacts",P1_MVP:"P1 MVP",P2_MVP:"P2 MVP",P1_PICKS_PRIMES:"P1 Picks Primes",P1_PICKS_PRIME_PRODUCT:"P1 Picks Prime Product",P2_PICKS_PRIMES:"P2 Picks Primes",P2_PICKS_PRIME_PRODUCT:"P2 Picks Prime Product",P1_PREBANS_PRIMES:"P1 Prebans Primes",P1_PREBANS_PRIME_PRODUCT:"P1 Prebans Prime Product",P2_PREBANS_PRIMES:"P2 Prebans Primes",P2_PREBANS_PRIME_PRODUCT:"P2 Prebans Prime Product"},l=[s.P1_EQUIPMENT,s.P2_EQUIPMENT,s.P1_ARTIFACTS,s.P2_ARTIFACTS,s.CR_BAR,s.P1_PREBANS,s.P2_PREBANS,s.P1_PICKS,s.P2_PICKS],f=[s.FIRST_PICK,s.FIRST_TURN,s.WIN],p=[s.SECONDS,s.TURNS,s.P1_POINTS,s.POINT_GAIN],y=[s.P1_LEAGUE,s.P2_LEAGUE],d={HERO_NAME:"Hero Name",BATTLES:"Battles",PICK_RATE:"Pick Rate",WINS:"Wins",WIN_RATE:"Win rate",POSTBANS:"Postbans",POSTBAN_RATE:"Postban Rate",SUCCESS_RATE:"Success Rate",PLUS_MINUS:"+/-",POINT_GAIN:"Point Gain",AVG_CR:"Avg CR",FIRST_TURNS:"First Turns",FIRST_TURN_RATE:"First Turn Rate"},h=function(t){for(var e=new Uint8Array(30001),n=[],r=2;r<=t;r++)if(!e[r]){n.push(r);for(var o=r*r;o<=t;o+=r)e[o]=1}return n}(3e4)},194:(t,e,n)=>{n.d(e,{PU:()=>h,p_:()=>d,wS:()=>y});var r=n(523),o=n(179);function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}var l,f,p,y=new Set(["victory-points","point-gain"]),d=new Set(["prebans","p1.picks","p2.picks","p1.prebans","p2.prebans"]),h=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=t.FIELD_EXTRACT_FN_MAP[e];if(!n)throw new r.A.ValidationError("Invalid field type: '".concat(e,"'; valid types are: ").concat(Object.keys(t.FIELD_EXTRACT_FN_MAP).join(", ")));console.log("Found valid field type: ",e),this.str=e,this.extractData=n},(e=[{key:"asString",value:function(){return this.str}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();l=h,p={date:function(t){var e;return t[o.Lx.DATE_TIME]?new Date("".concat(null===(e=t[o.Lx.DATE_TIME])||void 0===e?void 0:e.slice(0,10),"T00:00:00")):"N/A"},"is-first-pick":function(t){return t[o.Lx.FIRST_PICK]?1:0},"is-win":function(t){return t[o.Lx.WIN]?1:0},"victory-points":function(t){return t[o.Lx.P1_POINTS]},"p1.picks":function(t){return t[o.Lx.P1_PICKS]},"p2.picks":function(t){return t[o.Lx.P2_PICKS]},"p1.prebans":function(t){return t[o.Lx.P1_PREBANS]},"p2.prebans":function(t){return t[o.Lx.P2_PREBANS]},"p1.postban":function(t){return t[o.Lx.P1_POSTBAN]},"p2.postban":function(t){return t[o.Lx.P2_POSTBAN]},prebans:function(t){return[].concat(a(t[o.Lx.P1_PREBANS]),a(t[o.Lx.P2_PREBANS]))},"p1.pick1":function(t){return t[o.Lx.P1_PICKS][0]},"p1.pick2":function(t){return t[o.Lx.P1_PICKS][1]},"p1.pick3":function(t){return t[o.Lx.P1_PICKS][2]},"p1.pick4":function(t){return t[o.Lx.P1_PICKS][3]},"p1.pick5":function(t){return t[o.Lx.P1_PICKS][4]},"p2.pick1":function(t){return t[o.Lx.P2_PICKS][0]},"p2.pick2":function(t){return t[o.Lx.P2_PICKS][1]},"p2.pick3":function(t){return t[o.Lx.P2_PICKS][2]},"p2.pick4":function(t){return t[o.Lx.P2_PICKS][3]},"p2.pick5":function(t){return t[o.Lx.P2_PICKS][4]},"p1.league":function(t){return t[o.Lx.P1_LEAGUE]},"p2.league":function(t){return t[o.Lx.P2_LEAGUE]},"p1.server":function(t){return t[o.Lx.P1_SERVER]},"p2.server":function(t){return t[o.Lx.P2_SERVER]},"p1.id":function(t){return Number(t[o.Lx.P1_ID])},"p2.id":function(t){return Number(t[o.Lx.P2_ID])},"p1.mvp":function(t){return t[o.Lx.P1_MVP]},"p2.mvp":function(t){return t[o.Lx.P2_MVP]},"is-first-turn":function(t){return t[o.Lx.FIRST_TURN]},"first-turn-hero":function(t){return t[o.Lx.FIRST_TURN_HERO]},turns:function(t){return t[o.Lx.TURNS]},seconds:function(t){return t[o.Lx.SECONDS]},"point-gain":function(t){return t[o.Lx.POINT_GAIN]}},(f=s(f="FIELD_EXTRACT_FN_MAP"))in l?Object.defineProperty(l,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[f]=p},382:(t,e,n)=>{function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")(?=[,)\\s;]|$)"),e)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")$"),e)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";if(t.length<1)throw new Error("orRegex must have at least one pattern");for(var n="(?:".concat(t[0].source,")"),r=1;r<t.length;r++)n+="|(?:".concat(t[r].source,")");return new RegExp(n,e)}n.d(e,{L:()=>k});var i=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},c=new RegExp("^(?:".concat(["date","is-first-pick","is-win","victory-points","p1.picks","p2.picks","p1.prebans","p2.prebans","p1.postban","p2.postban","prebans","p1.id","p2.id","p1.league","p2.league","p1.server","p2.server","p1.pick1","p1.pick2","p1.pick3","p1.pick4","p1.pick5","p2.pick1","p2.pick2","p2.pick3","p2.pick4","p2.pick5","p1.mvp","p2.mvp","first-turn","first-turn-hero","turns","seconds","point-gain"].map(i).join("|"),")"),"i"),u=new RegExp("(?:".concat(["and","or","xor","not"].map(i).join("|"),")(?=\\()"),"i"),s=new RegExp("(?:".concat(["last-n"].map(i).join("|"),")(?=\\()"),"i"),l=new RegExp("(?:".concat(["p1.equipment","p2.equipment","p1.artifact","p2.artifact","p1.cr-geq","p2.cr-geq","p1.cr-lt","p2.cr-lt"].map(i).join("|"),")(?=\\()"),"i"),f=a([u,s,l]),p=/.*/i,y=/\d{4}-\d{2}-\d{2}/,d=/\{\s*\}/,h=/-?\d+/,v=/season-[1-9]+[0-9]*(\.[1-9]*)?|current-season/i,m=new RegExp("^".concat(y.source,"$"),"i"),g=new RegExp("(?:".concat(v.source,")"),"i"),S=p.source,b=h.source,_=y.source,E=c.source,A=g.source,w=new RegExp('"('.concat(S,")\"|'(").concat(S,")'"),"i"),T=new RegExp(o(w),"i"),P=w.source,R=new RegExp("(?:".concat(P,"|").concat(S,"|").concat(_,")"),"i"),O=new RegExp("(?:".concat(E,"|").concat(A,")"),"i"),I=R.source,L=new RegExp("\\{\\s*(?:".concat(I,"\\s*)(?:,\\s*").concat(I,"\\s*)*,?\\s*\\}|").concat(d.source),"i"),D=new RegExp("".concat(b,"\\.\\.\\.").concat(b,"|").concat(_,"\\.\\.\\.").concat(_,"|").concat(b,"\\.\\.\\.=").concat(b,"|").concat(_,"\\.\\.\\.=").concat(_)),x=new RegExp("^".concat(D.source,"$")),k={VALID_STRING_RE:p,VALID_DATE_RE:y,VALID_INT_RE:h,EMPTY_SET_RE:d,SET_ELEMENT_RE:R,VALID_SET_RE:L,VALID_STRING_LITERAL_RE:T,VALID_DATE_LITERAL_RE:m,VALID_INT_LITERAL_RE:/^-?\d+$/,VALID_BOOL_LITERAL_RE:/^(true|false)$/i,VALID_RANGE_RE:D,VALID_RANGE_LITERAL_RE:x,VALID_SEASON_RE:v,VALID_SEASON_LITERAL_RE:o(v),VALID_DATA_WORD_RE:g,VALID_DATA_WORD_LITERAL_RE:o(g),VALID_FIELD_WORD_RE:c,VALID_DATAFIELD_RE:O,VALID_GLOBAL_FILTER_RE:/last-n\(\d+\)/i,ANCHORED_STR_LITERAL_RE:o(T),VALID_CLAUSE_FUNCTIONS_RE:u,VALID_DIRECT_FUNCTIONS_RE:l,VALID_GLOBAL_FUNCTIONS_RE:s,VALID_FUNCTIONS_RE:f,padRegex:r,anchorExp:o,tokenMatch:function(t){return t.match(f)?(console.log("Matched stream as clause:",t),"keyword"):t.match(/\s+(?:!=|<|>|=|>=|<=|in|!in)(?=\s+)/i)?(console.log("Matched stream as operator:",t),"operator"):t.match(new RegExp("[a-z0-9.\"'}=)-]".concat(O.source,"(?=[,)\\s;]|$)"),"i"))?(console.log("Matched stream as field with preceding fragment:",t),null):t.match(r(O))?(console.log("Matched stream as Data Field:",t),"datafield"):t.match(r(w))?(console.log("Matched stream as string:",t),"string"):t.match(r(L))?(console.log("Matched stream as set:",t),"set"):t.match(r(D))?(console.log("Matched stream as range:",t),"range"):t.match(/[^(,\s;.=0-9\-]+\d+/i)?(console.log("Matched stream as non-num null",t),null):t.match(r(h))?(console.log("Matched stream as number:",t),"number"):t.match(r(y))?(console.log("Matched stream as date:",t),"date"):t.match(/(?:^|\s)(?:true|false)(?=[,)\s;]|$)/i)?(console.log("Matched stream as bool:",t),"bool"):t.match(/[\(\)\{\}\;\,]/)?(console.log("Matched stream as bracket:",t),"bracket"):(t.next(),console.log("Matched stream as null:",t),null)},orRegex:a,escapeRegex:i}},472:(t,e,n)=>{n.d(e,{A:()=>g});var r=n(763),o=n(179);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e,n){return(e=function(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var f=function(t){return t.filter(function(t){return t[o.Lx.FIRST_PICK]})};function p(t){return(100*t).toFixed(2)+"%"}function y(t,e){return p(0!==e?t/e:0)}function d(t,e){var n=t[o.Lx.CR_BAR].find(function(t){return t[0]===e});return n?n[1]:null}function h(t,e,n){var r,a,i=function(t){return t.filter(function(t){return t[o.Lx.WIN]})}(t).length,s=t.length,l=0!==e?s/e:0,f=0!==s?i/s:0,h=t.reduce(function(t,e){return t+(e[o.Lx.P1_POSTBAN]===n||e[o.Lx.P2_POSTBAN]===n)},0),v=t.reduce(function(t,e){return t+(e[o.Lx.WIN]||e[o.Lx.P1_POSTBAN]===n||e[o.Lx.P2_POSTBAN]===n)},0),m=t.reduce(function(t,e){return t+e[o.Lx.POINT_GAIN]},0),g=0,S=0,b=0,_=u(t);try{for(_.s();!(a=_.n()).done;){var E=d(a.value,n);null!==E&&0!==E&&(g+=1,S+=E,100===E&&(b+=1))}}catch(t){_.e(t)}finally{_.f()}var A=y(S/100,g);return c(c(c(c(c(c(c(c(c(c(r={},o.D5.HERO_NAME,n),o.D5.BATTLES,s),o.D5.PICK_RATE,p(l)),o.D5.WINS,i),o.D5.WIN_RATE,p(f)),o.D5.POSTBANS,h),o.D5.POSTBAN_RATE,y(h,s)),o.D5.SUCCESS_RATE,y(v,s)),o.D5.PLUS_MINUS,2*i-s),o.D5.POINT_GAIN,m),c(c(c(r,o.D5.AVG_CR,A),o.D5.FIRST_TURNS,b),o.D5.FIRST_TURN_RATE,y(b,g))}function v(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set,r=0,a=Object.values(t);r<a.length;r++){var i=a[r];(e?i[o.Lx.P1_PICKS_PRIMES]:i[o.Lx.P2_PICKS_PRIMES]).forEach(function(t){n.add(t)})}return n}function m(t){var e=Math.floor(t/60),n=(t%60).toFixed(1);return 0===e?"".concat(n," secs"):"".concat(e," : ").concat(n,"s")}const g={getHeroStats:function(t,e){if(0===t.length)return{playerHeroStats:[],enemyHeroStats:[]};var n,a=t.length,i=v(t,!0),c=v(t,!1),s=[],l=[],f=u(i);try{var p=function(){var i=n.value,c=r.A.getHeroByPrime(i,e),u=t.filter(function(t){return t[o.Lx.P1_PICKS_PRIME_PRODUCT]%i===0});u.length>0&&s.push(h(u,a,c.name))};for(f.s();!(n=f.n()).done;)p()}catch(t){f.e(t)}finally{f.f()}var y,d=u(c);try{var m=function(){var n=y.value,i=r.A.getHeroByPrime(n,e),c=t.filter(function(t){return t[o.Lx.P2_PICKS_PRIME_PRODUCT]%n===0});c.length>0&&l.push(h(c,a,i.name))};for(d.s();!(y=d.n()).done;)m()}catch(t){d.e(t)}finally{d.f()}var g=o.D5.HERO_NAME;return{playerHeroStats:s.sort(function(t,e){return t[g].localeCompare(e[g])}),enemyHeroStats:l.sort(function(t,e){return t[g].localeCompare(e[g])})}},getFirstPickStats:function(t,e){if(0===(t=f(Object.values(t))).length)return[];var n,a=t.length,i={},c=u(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;if(0!==l[o.Lx.P1_PICKS_PRIMES].length){var y=l[o.Lx.P1_PICKS_PRIMES][0];y in i||(i[y]={wins:0,appearances:0}),i[y].wins+=l[o.Lx.WIN],i[y].appearances+=1}}}catch(t){c.e(t)}finally{c.f()}var d=Object.entries(i).map(function(t){var n,o,i=(o=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,o)||s(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return{hero:r.A.getHeroByPrime(c,e).name,wins:u.wins,appearances:u.appearances,win_rate:p(u.wins/u.appearances),appearance_rate:p(u.appearances/a),"+/-":2*u.wins-u.appearances}});return d.sort(function(t,e){return e.appearances-t.appearances}),d},getPrebanStats:function(t,e){var n=r.A.getHeroByName("Empty",e).prime;if(0===t.length)return[];var a,c=function(e,r){return i(new Set(t.map(function(t){return t[e][r]}).filter(function(t){return t&&t!==n})))},s=c(o.Lx.P1_PREBANS_PRIMES,0),l=c(o.Lx.P1_PREBANS_PRIMES,1),f=new Set([].concat(i(s),i(l))),y=[],d=u(f);try{for(d.s();!(a=d.n()).done;){var h=a.value;y.push(h)}}catch(t){d.e(t)}finally{d.f()}var v,m=u(f);try{for(m.s();!(v=m.n()).done;){var g,S=v.value,b=u(f);try{for(b.s();!(g=b.n()).done;){var _=g.value;S<_&&y.push(S*_)}}catch(t){b.e(t)}finally{b.f()}}}catch(t){m.e(t)}finally{m.f()}console.log("Prebans:",y);for(var E=t.length,A=[],w=function(){var n=P[T],r=t.filter(function(t){return t["P1 Prebans Prime Product"]%n===0}),o=r.length;if(o<1)return 1;var a=r.reduce(function(t,e){return t+e.Win},0),i=E>0?o/E:0,c=o>0?a/o:0,u=2*a-o;A.push({preban:e.prime_pair_lookup[n],wins:a,appearances:o,appearance_rate:p(i),win_rate:p(c),"+/-":u})},T=0,P=y;T<P.length;T++)w();return A.sort(function(t,e){return e.appearances-t.appearances}),A},getServerStats:function(t){for(var e=[],n=t.length,r=function(){var r=i[a],o=t.filter(function(t){return t["P2 Server"]===r}),c=o.length,u=o.reduce(function(t,e){return t+e.Win},0),s=c>0?u/c:"N/A",l=n>0?c/n:"N/A",f=o.filter(function(t){return t["First Pick"]}),y=f.reduce(function(t,e){return t+e.Win},0),d=o.filter(function(t){return!t["First Pick"]}),h=d.reduce(function(t,e){return t+e.Win},0);e.push({server:r,count:c,wins:u,win_rate:"N/A"===s?"N/A":p(s),frequency:p(l),"+/-":2*u-c,fp_games:f.length,sp_games:d.length,fp_wr:f.length>0?p(y/f.length):"N/A",sp_wr:d.length>0?p(h/d.length):"N/A"})},a=0,i=Object.values(o.DB);a<i.length;a++)r();return e.sort(function(t,e){return t.server.localeCompare(e.server)}),e},getGeneralStats:function(t,e){t.sort(function(t,e){return new Date(t["Date/Time"])-new Date(e["Date/Time"])});var n,r=t.length,a=t.reduce(function(t,e){return t+e["Point Gain"]},0),c=r>0?a/r:0,s=t.reduce(function(t,e){return t+e.Turns},0),l=r>0?s/r:0,y=t.length>0?Math.max.apply(Math,i(t.map(function(t){return t.Turns}))):0,d=t.reduce(function(t,e){return t+e.Seconds},0),h=r>0?d/r:0,v=t.length>0?Math.max.apply(Math,i(t.map(function(t){return t.Seconds}))):0,g=m(h),S=m(v),b=t.reduce(function(t,e){return t+e["First Turn"]},0),_=f(t),E=function(t){return t.filter(function(t){return!t[o.Lx.FIRST_PICK]})}(t),A=_.length,w=E.length,T=_.reduce(function(t,e){return t+e.Win},0),P=E.reduce(function(t,e){return t+e.Win},0),R=r?A/r:0,O=r?w/r:0,I=A?T/A:0,L=w?P/w:0,D=r?(T+P)/r:0,x=0,k=0,N=0,j=0,C=u(t);try{for(C.s();!(n=C.n()).done;)n.value.Win?(N+=1,x=Math.max(x,N),j=0):(N=0,j+=1,k=Math.max(k,j))}catch(t){C.e(t)}finally{C.f()}var F="N/A";return{first_pick_count:A,second_pick_count:w,first_pick_rate:A?p(R):F,second_pick_rate:w?p(O):F,first_pick_winrate:A?p(I):F,second_pick_winrate:w?p(L):F,total_winrate:r?p(D):F,total_battles:r,total_wins:T+P,max_win_streak:x,max_loss_streak:k,avg_ppg:c.toFixed(2),avg_turns:l.toFixed(2),avg_time:g,max_turns:y,max_time:S,first_turn_games:b,first_turn_rate:r?p(b/r):F}}}},523:(t,e,n)=>{n.d(e,{A:()=>P});var r=n(382);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e,n){return e=g(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(v())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&m(o,n.prototype),o}(t,arguments,g(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,t)},h(t)}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var S=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Syntax Exception",n}return d(e,t),l(e)}(h(Error)),b=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Type Exception",n}return d(e,t),l(e)}(h(Error)),_=function(t){function e(t){var n;return p(this,e),(n=y(this,e,[t])).name="Filter Validation Error",n}return d(e,t),l(e)}(h(Error)),E={"(":")","{":"}",'"':'"',"'":"'"},A={"'":'"','"':"'"},w=Object.fromEntries(Object.entries(E).filter(function(t){var e=a(t,2);return e[0]!==e[1]}).map(function(t){var e=a(t,2),n=e[0];return[e[1],n]}));function T(t){var e,n={},r=i(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o]=(n[o]||0)+1}}catch(t){r.e(t)}finally{r.f()}return n}const P={SyntaxException:S,TypeException:b,ValidationError:_,retrieveEnclosure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:")";if(e===n)throw new Error("Enclosure characters must be different: ".concat(e," = ").concat(n));var r,o,s=!1,l=0,f="",p=i((o=t,function(t){if(Array.isArray(t))return u(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||c(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).entries());try{for(p.s();!(r=p.n()).done;){var y=a(r.value,2),d=y[0],h=y[1];if(h===e){if(l+=1,!s){s=!0;continue}}else h===n&&(l-=1);if(0===l&&s){if(d!=t.length-1)throw new S("Enclosure should not be resolved before end of string; resolved at index: ".concat(d,"; input string: ").concat(t));return f}if(l<0)throw new S("Unbalanced enclosure at index: ".concat(d," of input string: ").concat(t,'; balance of "').concat(e,"...").concat(n,'" enclosures became negative.'));s&&(f+=h)}}catch(t){p.e(t)}finally{p.f()}if(!s)throw new S("Enclosure of type ".concat(e,"...").concat(n," not found in string; input string: ").concat(t));if(l>0)throw new S("Enclosure could not be resolved; too many '".concat(n,"'; balance = +{count}; input string {string}"))},retrieveArgs:function(t){var e,n=0,r=[],o="",a=i(t);try{for(a.s();!(e=a.n()).done;){var c=e.value;if("("===c){if(1===(n+=1))continue}else")"===c&&(n-=1);1===n&&","===c?(r.push(o.trim()),o=""):n>=1&&(o+=c)}}catch(t){a.e(t)}finally{a.f()}return o.trim()&&r.push(o.trim()),r},getCharCounts:T,tokenizeWithNestedEnclosures:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],a="",i=[],c=0;c<t.length;c++){var u=t[c];if(e.includes(u)&&i.length===n)a&&(o.push(r?a.trim():a),a="");else if(w[u]){var s=w[u];if(i.length>n&&(a+=u),i[i.length-1]!==s){var l=T(t);throw(l["'"]||0)%2!=0||(l['"']||0)%2!=0?new S("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"' ; if a str type has quote characters in it, wrap it in the opposite quote character.")):new S("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"'"))}i.pop()}else i.length>=n&&(a+=u),!E[u]||A[u]&&i[i.length-1]===A[u]||(i[i.length-1]===E[u]&&u===E[u]?i.pop():i.push(u))}if(i.length>0)throw new Error("Unbalanced enclosures in input string; unresolved characters from enclosure stack: [ ".concat(i.join(", ")," ]"));return a&&o.push(r?a.trim():a),o},parseDate:function(t){if(!r.L.VALID_DATE_LITERAL_RE.test(t))throw new S("Invalid date; must be in the format: YYYY-MM-DD ( regex: ".concat(r.L.VALID_DATE_LITERAL_RE.source," ); got: '").concat(t,"'"));var e=t.split(" ")[0],n=new Date("".concat(e,"T00:00:00"));if(isNaN(n.getTime()))throw new S("Invalid date; could not be parsed as a valid date; got: '".concat(t,"'"));var o=a(n.toISOString().split("T")[0].split("-").map(Number),3),i=o[0],c=o[1],u=o[2];if(n.getFullYear()!==i||n.getMonth()+1!==c||n.getDate()!==u)throw new S("Invalid date; parsed date: ".concat(n.toISOString()," does not match passed in string: ").concat(e));return console.log("Parsed date: ".concat(n.toISOString()," ; ").concat(n.constructor.name)),n},tryConvert:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===r&&(r="Could not convert ".concat(n," to ").concat(e));try{return t(n)}catch(t){throw new b("".concat(r,": ").concat(t.message))}},trimSurroundingQuotes:function(t){return t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}}},583:(t,e,n)=>{n.d(e,{S:()=>m});var r=n(85),o=n(179),a=n(828),i=n(48),c=n(164);function u(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return s(l,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var i={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),y=f.prototype=c.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,s(y,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(y),s(y,o,"Generator"),s(y,r,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:d}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){s(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},s(t,e,n,r)}function l(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,c,"next",t)}function c(t){l(a,r,o,i,c,"throw",t)}i(void 0)})}}function p(){window.location.href=URL_UTILS.HOME_PAGE_URL}function y(){document.querySelectorAll(".nav-link").forEach(function(t){t.addEventListener("click",function(){var t=f(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:if(n=this.dataset.nav,console.log("Clicked nav item:",n),!Object.values(r.DG).includes(n)){t.n=9;break}if(n!==r.DG.SELECT_DATA){t.n=2;break}return t.n=1,r.qD.setState(r.DG.SELECT_DATA);case 1:p(),t.n=8;break;case 2:if(n!==r.DG.SHOW_STATS){t.n=8;break}return t.n=3,a.A.getUser();case 3:if(t.v){t.n=6;break}return t.n=4,r.qD.setState(r.DG.SELECT_DATA);case 4:return t.n=5,c.A.pushActions([c.A.ACTIONS.SHOW_NO_USER_MSG]);case 5:p(),t.n=8;break;case 6:return t.n=7,r.qD.setState(r.DG.SHOW_STATS);case 7:p();case 8:t.n=10;break;case 9:console.log("Navigating to: ".concat(this.href));case 10:return t.a(2)}},t,this)}));return function(e){return t.apply(this,arguments)}}())})}function d(){i.A.HOME_PAGE.CLEAR_DATA_BTN.addEventListener("click",function(){var t=f(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a.A.getUser();case 1:if(!t.v){t.n=4;break}return t.n=2,r.qD.setState(r.DG.SELECT_DATA);case 2:return t.n=3,c.A.pushActions([c.A.ACTIONS.CLEAR_USER]);case 3:t.n=6;break;case 4:return t.n=5,r.qD.setState(r.DG.SELECT_DATA);case 5:return t.n=6,c.A.pushActions([c.A.ACTIONS.SHOW_DATA_ALREADY_CLEARED_MSG]);case 6:p();case 7:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}function h(t){t?(i.A.HOME_PAGE.USER_NAME.innerText=t.name,i.A.HOME_PAGE.USER_ID.innerText=t.id,i.A.HOME_PAGE.USER_SERVER.innerText=o.DB[t.world_code]):(i.A.HOME_PAGE.USER_NAME.innerText="(None)",i.A.HOME_PAGE.USER_ID.innerText="(None)",i.A.HOME_PAGE.USER_SERVER.innerText="(None)")}function v(){return(v=f(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a.A.getUser();case 1:h(t.v),y(),d();case 2:return t.a(2)}},t)}))).apply(this,arguments)}var m={addNavListeners:y,addClearDataBtnListener:d,writeUserInfo:h,initialize:function(){return v.apply(this,arguments)},navToHome:p}},602:(t,e,n)=>{n.d(e,{P2:()=>d});const r=(t,e)=>e.some(e=>t instanceof e);let o,a;const i=new WeakMap,c=new WeakMap,u=new WeakMap;let s={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return i.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function l(t){s=t(s)}function f(t){return"function"==typeof t?(e=t,(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),p(this.request)}:function(...t){return p(e.apply(y(this),t))}):(t instanceof IDBTransaction&&function(t){if(i.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{e(),r()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});i.set(t,e)}(t),r(t,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,s):t);var e}function p(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{e(p(t.result)),r()},a=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return u.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=f(t);return e!==t&&(c.set(t,e),u.set(e,t)),e}const y=t=>u.get(t);function d(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(t,e),c=p(i);return r&&i.addEventListener("upgradeneeded",t=>{r(p(i.result),t.oldVersion,t.newVersion,p(i.transaction),t)}),n&&i.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),c.then(t=>{a&&t.addEventListener("close",()=>a()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),c}const h=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],m=new Map;function g(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(m.get(e))return m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!h.includes(n))return;const a=async function(t,...e){const a=this.transaction(t,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(e.shift())),(await Promise.all([i[n](...e),o&&a.done]))[0]};return m.set(e,a),a}l(t=>({...t,get:(e,n,r)=>g(e,n)||t.get(e,n,r),has:(e,n)=>!!g(e,n)||t.has(e,n)}));const S=["continue","continuePrimaryKey","advance"],b={},_=new WeakMap,E=new WeakMap,A={get(t,e){if(!S.includes(e))return t[e];let n=b[e];return n||(n=b[e]=function(...t){_.set(this,E.get(this)[e](...t))}),n}};async function*w(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const n=new Proxy(e,A);for(E.set(n,e),u.set(n,y(e));e;)yield n,e=await(_.get(n)||e.continue()),_.delete(n)}function T(t,e){return e===Symbol.asyncIterator&&r(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&r(t,[IDBIndex,IDBObjectStore])}l(t=>({...t,get:(e,n,r)=>T(e,n)?w:t.get(e,n,r),has:(e,n)=>T(e,n)||t.has(e,n)}))},666:(t,e,n)=>{n.d(e,{d:()=>d,j:()=>h});var r=n(763),o=n(865),a=n(179),i=n(93);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n){return(e=function(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=function(t){var n,o;return null!==(n=null===(o=r.A.getHeroByName(t,e))||void 0===o?void 0:o.prime)&&void 0!==n?n:e.Fodder.prime},o=function(t,e){return t*e};t[a.Lx.P1_PICKS_PRIMES]=t[a.Lx.P1_PICKS].map(n),t[a.Lx.P2_PICKS_PRIMES]=t[a.Lx.P2_PICKS].map(n),t[a.Lx.P1_PICKS_PRIME_PRODUCT]=t[a.Lx.P1_PICKS_PRIMES].reduce(o,1),t[a.Lx.P2_PICKS_PRIME_PRODUCT]=t[a.Lx.P2_PICKS_PRIMES].reduce(o,1),t[a.Lx.P1_PREBANS_PRIMES]=t[a.Lx.P1_PREBANS].map(n),t[a.Lx.P2_PREBANS_PRIMES]=t[a.Lx.P2_PREBANS].map(n),t[a.Lx.P1_PREBANS_PRIME_PRODUCT]=t[a.Lx.P1_PREBANS_PRIMES].reduce(o,1),t[a.Lx.P2_PREBANS_PRIME_PRODUCT]=t[a.Lx.P2_PREBANS_PRIMES].reduce(o,1)}var p="p1",y="p2";function d(t,e,n){return n=null!=n?n:o.A.getArtifacts(),Object.fromEntries(t.map(function(t){var c=function(t,e,n){var c,u=function(t){var n,o;return null!==(n=null===(o=r.A.getHeroByCode(t,e))||void 0===o?void 0:o.name)&&void 0!==n?n:e.Fodder.name},s=function(e,r){return r.map(function(r,a){return r?function(t){return o.A.convertCodeToName(t,n)||"None"}(r):function(e,n){return e===p?t.p2_postban===t.p1_picks[n]:t.p1_postban===t.p2_picks[n]}(e,a)?"n/a":"None"})},d=function(t){return t.map(function(t){return t.map(function(t){return a.pg[t]||t})})},h=t.cr_bar.find(function(t){return 100===t[1]}),v=!!h&&t.p1_picks.includes(h[0]),m=(l(l(l(l(l(l(l(l(l(l(c={},a.Lx.SEASON,t.season_name||"None"),a.Lx.DATE_TIME,t.date_time),a.Lx.SECONDS,t.seconds),a.Lx.TURNS,t.turns),a.Lx.SEQ_NUM,t.seq_num),a.Lx.P1_ID,t.p1_id.toString()),a.Lx.P1_SERVER,a.DB[t.p1_server]||t.p1_server||"None"),a.Lx.P2_ID,t.p2_id.toString()),a.Lx.P2_SERVER,a.DB[t.p2_server]||t.p2_server||"None"),a.Lx.P1_LEAGUE,(0,i.Sn)(t.p1_league)||"None"),l(l(l(l(l(l(l(l(l(l(c,a.Lx.P2_LEAGUE,(0,i.Sn)(t.p2_league)||"None"),a.Lx.P1_POINTS,t.p1_win_score||null),a.Lx.POINT_GAIN,t.p1_point_delta||null),a.Lx.WIN,1===t.win),a.Lx.FIRST_PICK,1===t.first_pick),a.Lx.FIRST_TURN,!!v),a.Lx.FIRST_TURN_HERO,h?u(h[0]):"n/a"),a.Lx.CR_BAR,t.cr_bar.map(function(t){return t&&2==t.length?[u(t[0]),t[1]]:["n/a",0]})),a.Lx.P1_PREBANS,t.p1_prebans.map(u)),a.Lx.P2_PREBANS,t.p2_prebans.map(u)),l(l(l(l(l(l(l(l(l(l(c,a.Lx.P1_PICKS,t.p1_picks.map(u)),a.Lx.P2_PICKS,t.p2_picks.map(u)),a.Lx.P1_POSTBAN,u(t.p1_postban)),a.Lx.P2_POSTBAN,u(t.p2_postban)),a.Lx.P1_EQUIPMENT,d(t.p1_equipment)),a.Lx.P2_EQUIPMENT,d(t.p2_equipment)),a.Lx.P1_ARTIFACTS,s(p,t.p1_artifacts)),a.Lx.P2_ARTIFACTS,s(y,t.p2_artifacts)),a.Lx.P1_MVP,u(t.p1_mvp)),a.Lx.P2_MVP,u(t.p2_mvp)));return f(m,e),m}(t,e,n);return[c["Seq Num"],c]}))}function h(t,e){var n=t.map(function(t){var n,r=u(a.E_);try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o]=JSON.parse(t[o])}}catch(t){r.e(t)}finally{r.f()}var c,s=u(a.kh);try{for(s.s();!(c=s.n()).done;){var l=c.value;t[l]="true"===t[l].toLowerCase()}}catch(t){s.e(t)}finally{s.f()}var p,y=u(a.GV);try{for(y.s();!(p=y.n()).done;){var d=p.value;t[d]=Number(t[d].replace("'",""))}}catch(t){y.e(t)}finally{y.f()}var h,v=u(a.uz);try{for(v.s();!(h=v.n()).done;){var m=h.value;t[m]=(0,i.Sn)(t[m])}}catch(t){v.e(t)}finally{v.f()}return f(t,e),t});return Object.fromEntries(n.map(function(t){return[t["Seq Num"],t]}))}},693:(t,e,n)=>{function r(t){var e={};for(var n in t)Array.isArray(t[n])&&t[n].length>0?e[n]=[t[n][0],"Length: ".concat(t[n].length)]:e[n]=t[n];console.log(e)}n.d(e,{Ck:()=>r}),n(179)},720:(t,e,n)=>{n.d(e,{A:()=>C});var r=n(602);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,a){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return i(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,i(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,i(y,"constructor",f),i(f,"constructor",l),l.displayName="GeneratorFunction",i(f,o,"GeneratorFunction"),i(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:d}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){i(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,e,n,r)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(t,e,n){return(e=function(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,c,"next",t)}function c(t){l(a,r,o,i,c,"throw",t)}i(void 0)})}}function p(t,e){return y.apply(this,arguments)}function y(){return(y=f(a().m(function t(e,n){var r;return a().w(function(t){for(;;)switch(t.n){case 0:return(r=e.transaction(n,"readwrite")).objectStore(n).clear(),t.n=1,r.done;case 1:return t.a(2)}},t)}))).apply(this,arguments)}var d,h,v,m,g,S,b,_,E,A,w,T,P,R,O,I,L,D,x={USER:"current-user",BATTLES:"battles",RAW_UPLOAD:"raw-upload",UPLOADED_BATTLES:"uploaded-battles",FILTERED_BATTLES:"filtered-battles",STATS:"stats",FILTER_STR:"filter-str"},k=u(u({},x),{},{HERO_MANAGER:"hero-manager",SEASON_DETAILS:"season-details",AUTO_ZOOM_FLAG:"auto-zoom",AUTO_QUERY_FLAG:"auto-query",ID_SEARCH_FLAG:"id-search",GLOBAL_USERS:"global-users",EU_USERS:"eu-users",ASIA_USERS:"asia-users",JPN_USERS:"jpn-users",KOR_USERS:"kor-users",ARTIFACTS:"artifacts",ARTIFACTS_LOWERCASE_NAMES_SET:"artifacts-lowercase-names-set",ARTIFACT_OBJECT_LIST:"artifact-object-list",HOME_PAGE_STATE:"home-page-state",INTER_PAGE_MANAGER:"inter-page-manager"}),N={autoZoom:k.AUTO_ZOOM_FLAG,autoQuery:k.AUTO_QUERY_FLAG,idSearch:k.ID_SEARCH_FLAG},j={consts:{DB_NAME:"E7ArenaStatsClientDB",DB_VERSION:1,STORE_NAME:"DataStore",META_STORE_NAME:"MetaStore",CACHE_TIMEOUT:1728e5},Keys:u({},k),MetaKeys:{TIMESTAMP:"timestamp"},loaded_UM:new Set,openDB:(D=f(a().m(function t(){return a().w(function(t){for(;;)if(0===t.n)return t.a(2,(0,r.P2)(j.consts.DB_NAME,j.consts.DB_VERSION,{upgrade:function(t){t.objectStoreNames.contains(j.consts.STORE_NAME)&&(t.deleteObjectStore(j.consts.STORE_NAME),console.log("Old store deleted")),t.objectStoreNames.contains(j.consts.STORE_NAME)||(console.log("Created data store"),t.createObjectStore(j.consts.STORE_NAME)),t.objectStoreNames.contains(j.consts.META_STORE_NAME)||(console.log("Created meta data store"),t.createObjectStore(j.consts.META_STORE_NAME))}}))},t)})),function(){return D.apply(this,arguments)}),get:(L=f(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.get(this.consts.STORE_NAME,e);case 2:if(null===(r=t.v)){t.n=3;break}console.log("Found ".concat(e," in cache")),t.n=4;break;case 3:return console.log("".concat(e," not found in cache; returning null")),t.a(2,null);case 4:return t.n=5,this.checkCacheTimeout(e);case 5:if(!t.v){t.n=6;break}return t.a(2,r);case 6:return t.a(2,null);case 7:return t.a(2)}},t,this)})),function(t){return L.apply(this,arguments)}),cache:(I=f(a().m(function t(e,n){var r;return a().w(function(t){for(;;)switch(t.n){case 0:return console.log("Caching ".concat(e," with data: ").concat(n)),t.n=1,this.openDB();case 1:return r=t.v,t.n=2,r.put(this.consts.STORE_NAME,n,e);case 2:return t.n=3,this.setTimestamp(e,Date.now());case 3:return t.a(2)}},t,this)})),function(t,e){return I.apply(this,arguments)}),delete:(O=f(a().m(function t(e){var n;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.delete(this.consts.STORE_NAME,e);case 2:return t.n=3,this.deleteTimestamp(e);case 3:return t.a(2)}},t,this)})),function(t){return O.apply(this,arguments)}),deleteDB:(R=f(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,indexedDB.deleteDatabase(this.consts.DB_NAME);case 1:console.log("Database deleted");case 2:return t.a(2)}},t,this)})),function(){return R.apply(this,arguments)}),getTimestamp:(P=f(a().m(function t(e){var n,r,o;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.get(this.consts.META_STORE_NAME,r);case 2:return o=t.v,t.a(2,null!=o?o:null)}},t,this)})),function(t){return P.apply(this,arguments)}),setTimestamp:(T=f(a().m(function t(e,n){var r,o;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,o="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,r.put(this.consts.META_STORE_NAME,n,o);case 2:return t.n=3,r.get(this.consts.META_STORE_NAME,o);case 3:t.v;case 4:return t.a(2)}},t,this)})),function(t,e){return T.apply(this,arguments)}),deleteTimestamp:(w=f(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.delete(this.consts.META_STORE_NAME,r);case 2:return t.a(2)}},t,this)})),function(t){return w.apply(this,arguments)}),clearData:(A=f(a().m(function t(){var e;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return e=t.v,t.n=2,p(e,this.consts.STORE_NAME);case 2:return t.n=3,p(e,this.consts.META_STORE_NAME);case 3:console.log("All data cleared from data cache and meta data cache");case 4:return t.a(2)}},t,this)})),function(){return A.apply(this,arguments)}),clearUserData:(E=f(a().m(function t(){var e,n=this;return a().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(x),t.n=1,Promise.all(e.map(function(t){return n.delete(t)}));case 1:console.log("User data cleared from data cache");case 2:return t.a(2)}},t)})),function(){return E.apply(this,arguments)}),clearSeasonData:(_=f(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.delete(k.SEASON_DETAILS);case 1:console.log("Season data cleared from data cache");case 2:return t.a(2)}},t,this)})),function(){return _.apply(this,arguments)}),checkCacheTimeout:(b=f(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getTimestamp(e);case 1:if(n=t.v,r=Date.now(),n&&!(r-n>j.consts.CACHE_TIMEOUT)){t.n=3;break}return console.log("Cache timeout for ".concat(e)),t.n=2,this.delete(e);case 2:return t.a(2,!1);case 3:return t.a(2,!0)}},t,this)})),function(t){return b.apply(this,arguments)}),getFilterStr:(S=f(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(j.Keys.FILTER_STR);case 1:return t.a(2,t.v)}},t,this)})),function(){return S.apply(this,arguments)}),setFilterStr:(g=f(a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(j.Keys.FILTER_STR,e);case 1:return t.a(2)}},t,this)})),function(t){return g.apply(this,arguments)}),getStats:(m=f(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(j.Keys.STATS);case 1:return t.a(2,t.v)}},t,this)})),function(){return m.apply(this,arguments)}),setStats:(v=f(a().m(function t(e){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(k.STATS,e);case 1:return t.a(2)}},t,this)})),function(t){return v.apply(this,arguments)}),getFlag:(h=f(a().m(function t(e){var n;return a().w(function(t){for(;;)switch(t.n){case 0:if(n=N[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.get(n);case 2:return t.a(2,t.v)}},t,this)})),function(t){return h.apply(this,arguments)}),setFlag:(d=f(a().m(function t(e,n){var r;return a().w(function(t){for(;;)switch(t.n){case 0:if(r=N[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.cache(r,n);case 2:return t.a(2)}},t,this)})),function(t,e){return d.apply(this,arguments)})};const C=j},721:(t,e,n)=>{n.d(e,{A:()=>P});var r,o,a,i,c,u,s,l,f=n(720),p=n(472),y=n(666);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return(e=function(t){var e=function(t){if("object"!=d(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(d(t)+" is not iterable")}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function b(t,e){if(t){if("string"==typeof t)return _(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return A(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(A(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,A(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,A(f,"constructor",s),A(s,"constructor",u),u.displayName="GeneratorFunction",A(s,o,"GeneratorFunction"),A(f),A(f,o,"Generator"),A(f,r,function(){return this}),A(f,"toString",function(){return"[object Generator]"}),(E=function(){return{w:a,m:p}})()}function A(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}A=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){A(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},A(t,e,n,r)}function w(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){w(a,r,o,i,c,"next",t)}function c(t){w(a,r,o,i,c,"throw",t)}i(void 0)})}}const P={loaded_servers:new Set,getBattles:(l=T(E().m(function t(){var e,n,r,o;return E().w(function(t){for(;;)switch(t.n){case 0:return console.log("Getting battles"),t.n=1,f.A.get(f.A.Keys.BATTLES);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o=null;case 4:return t.a(2,o)}},t)})),function(){return l.apply(this,arguments)}),removeBattles:(s=T(E().m(function t(){return E().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f.A.delete(f.A.Keys.BATTLES);case 1:return t.n=2,f.A.delete(f.A.Keys.UPLOADED_BATTLES);case 2:return t.n=3,f.A.delete(f.A.Keys.FILTERED_BATTLES);case 3:console.log("Removed battle data from cache; cleared ['BATTLES', 'UPLOADED_BATTLES', 'FILTERED_BATTLES']");case 4:return t.a(2)}},t)})),function(){return s.apply(this,arguments)}),removeFilteredBattles:(u=T(E().m(function t(){return E().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f.A.delete(f.A.Keys.FILTERED_BATTLES);case 1:console.log("Removed filtered battle data from cache; cleared ['FILTERED_BATTLES']");case 2:return t.a(2)}},t)})),function(){return u.apply(this,arguments)}),applyFilter:(c=T(E().m(function t(e){var n,r,o,a,i,c,u,s,l,p,y,d;return E().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getBattles();case 1:n=t.v,r=e.localFilters||[],o=e.globalFilters||[],a=Object.values(n),i=S(o);try{for(i.s();!(c=i.n()).done;)u=c.value,console.log("Applying global filter: ".concat(u)),s=a.length,a=u.call(a),n=Object.fromEntries(a.map(function(t){return[t["Seq Num"],t]})),console.log("Filtered ".concat(s-a.length," out of ").concat(s,"; new total = ").concat(a.length))}catch(t){i.e(t)}finally{i.f()}l=S(r),t.p=2,y=E().m(function t(){var e,r;return E().w(function(t){for(;;)switch(t.n){case 0:e=p.value,console.log("Applying local filter: ".concat(e)),r=Object.keys(n).length,n=Object.fromEntries(Object.entries(n).filter(function(t){var n,r,o=(r=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,r)||b(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=(o[0],o[1]);return e.call(a)})),console.log("Filtered ".concat(r-Object.keys(n).length," out of ").concat(r,"; new total = ").concat(Object.keys(n).length));case 1:return t.a(2)}},t)}),l.s();case 3:if((p=l.n()).done){t.n=5;break}return t.d(g(y()),4);case 4:t.n=3;break;case 5:t.n=7;break;case 6:t.p=6,d=t.v,l.e(d);case 7:return t.p=7,l.f(),t.f(7);case 8:return console.log("Caching filtered battles ; total = ".concat(Object.keys(n).length)),t.n=9,f.A.cache(f.A.Keys.FILTERED_BATTLES,n);case 9:return console.log("Filtered battles and stored in cache; modified ['FILTERED_BATTLES']; Applied total of <".concat(r.length+o.length,"> filters")),t.a(2,n)}},t,this,[[2,6,7,8]])})),function(t){return c.apply(this,arguments)}),extendBattles:(i=T(E().m(function t(e){var n,r,o,a,i;return E().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f.A.get(f.A.Keys.BATTLES);case 1:if(a=n=t.v,!(o=null!==a)){t.n=2;break}o=void 0!==n;case 2:if(!o){t.n=3;break}i=n,t.n=4;break;case 3:i={};case 4:return r=v(v({},i),e),t.n=5,f.A.cache(f.A.Keys.BATTLES,r);case 5:return console.log("Extended user data in cache"),t.a(2,r)}},t)})),function(t){return i.apply(this,arguments)}),cacheQuery:(a=T(E().m(function t(e,n,r){var o,a;return E().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return console.log("No query battles provided to cacheQuery"),t.a(2,[]);case 1:return console.log("Caching queried battles: ".concat(e.length," battles; modified [BATTLES]")),o=(0,y.d)(e,n,r),t.n=2,this.extendBattles(o);case 2:return a=t.v,console.log("Cached queried battles in cache; modified [BATTLES]"),t.a(2,a)}},t,this)})),function(t,e,n){return a.apply(this,arguments)}),cacheUpload:(o=T(E().m(function t(e,n){var r,o;return E().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return console.error("No uploaded battles provided to cacheUpload"),t.a(2,{});case 1:return r=(0,y.j)(e,n),t.n=2,f.A.cache(f.A.Keys.UPLOADED_BATTLES,r);case 2:return t.n=3,this.extendBattles(r);case 3:return o=t.v,console.log("Ingested uploaded battle data into cache; modified [BATTLES] and overwrote [UPLOADED_BATTLES]"),t.a(2,o)}},t,this)})),function(t,e){return o.apply(this,arguments)}),getStats:(r=T(E().m(function t(e,n,r){var o,a,i,c,u,s,l,f,y;return E().w(function(t){for(;;)switch(t.n){case 0:return console.log("Getting stats"),o=n.localFilters.length+n.globalFilters.length,console.log("Applying ".concat(o," filters")),a=Object.values(e),t.n=1,this.applyFilter(n);case 1:return i=t.v,c=Object.values(i),console.log("Getting preban stats"),t.n=2,p.A.getPrebanStats(c,r);case 2:return u=t.v,console.log("Getting first pick stats"),t.n=3,p.A.getFirstPickStats(c,r);case 3:return s=t.v,console.log("Getting general stats"),t.n=4,p.A.getGeneralStats(c,r);case 4:return l=t.v,console.log("Getting hero stats"),t.n=5,p.A.getHeroStats(c,r);case 5:return f=t.v,console.log("Getting server stats"),t.n=6,p.A.getServerStats(c);case 6:return y=t.v,console.log("Returning stats"),t.a(2,{battles:a,filteredBattlesObj:i,prebanStats:u,generalStats:l,firstPickStats:s,playerHeroStats:f.playerHeroStats,enemyHeroStats:f.enemyHeroStats,serverStats:y,numFilters:o})}},t,this)})),function(t,e,n){return r.apply(this,arguments)})}},763:(t,e,n)=>{n.d(e,{A:()=>S});var r,o,a,i,c=n(720),u=n(693),s=n(179),l=n(836),f=n(967);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return v(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(v(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,v(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,v(f,"constructor",s),v(s,"constructor",u),u.displayName="GeneratorFunction",v(s,o,"GeneratorFunction"),v(f),v(f,o,"Generator"),v(f,r,function(){return this}),v(f,"toString",function(){return"[object Generator]"}),(h=function(){return{w:a,m:p}})()}function v(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}v=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){v(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},v(t,e,n,r)}function m(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){m(a,r,o,i,c,"next",t)}function c(t){m(a,r,o,i,c,"throw",t)}i(void 0)})}}const S={getHeroManager:(i=g(h().m(function t(){var e,n,r,o;return h().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.get(c.A.Keys.HERO_MANAGER);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o=this.fetchAndCacheHeroManager();case 4:return t.a(2,o)}},t,this)})),function(){return i.apply(this,arguments)}),createHeroManager:function(t){var e,n=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=y(t))){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw o}}}}(t.entries());try{for(n.s();!(e=n.n()).done;){var r=p(e.value,2),o=r[0],a=r[1],i=s.bh[o];a.prime=i}}catch(t){n.e(t)}finally{n.f()}var c={heroes:t};return c=function(t){console.log("Adding Lookup Dicts"),console.log("\tAdding name lookup"),t.name_lookup=t.heroes.reduce(function(t,e){return t[e.name.toLowerCase().replace(/\s+/g,"")]=e,t},{}),console.log("\tAdding prime lookup"),t.prime_lookup=t.heroes.reduce(function(t,e){return t[e.prime]=e,t},{}),console.log("\tAdding code lookup"),t.code_lookup=t.heroes.reduce(function(t,e){return t[e.code]=e,t},{}),console.log("\tAdding prime pair lookup");var e=t.heroes.reduce(function(t,e){return t[e.prime]=e.name,t},{}),n=Object.keys(t.prime_lookup).length-1;console.log("\tAdding prime pair lookup; primes to process",n);for(var r=0;r<n-1;r++)for(var o=s.bh[r],a=r+1;a<n;a++){var i=s.bh[a],c=o*i,u=t.prime_lookup[o].name,l=t.prime_lookup[i].name;e[c]=[u,l].sort().join(", ")}return e[t.Fodder.prime*t.Fodder.prime]=[t.Fodder.name,t.Fodder.prime],t.prime_pair_lookup=e,t}(c=function(t){var e=t.heroes.length,n={attribute_cd:"N/A",code:"N/A",grade:"N/A",job_cd:"N/A",name:"Empty",prime:1},r={attribute_cd:"N/A",code:"N/A",grade:"2/3",job_cd:"N/A",name:"Fodder",prime:s.bh[e]};return t.heroes.push(n),t.heroes.push(r),t.Fodder=r,t.Empty=n,t}(c)),c},fetchHeroManager:(a=g(h().m(function t(){var e,n,r,o,a,i;return h().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f.A.fetchHeroJSON();case 1:if(a=e=t.v,!(o=null!==a)){t.n=2;break}o=void 0!==e;case 2:if(!o){t.n=3;break}i=e,t.n=5;break;case 3:return t.n=4,l.A.fetchHeroData();case 4:i=t.v;case 5:return n=i.en,r=this.createHeroManager(n),console.log("Created HeroManager using raw data received from server"),t.a(2,r)}},t,this)})),function(){return a.apply(this,arguments)}),fetchAndCacheHeroManager:(o=g(h().m(function t(){var e;return h().w(function(t){for(;;)switch(t.n){case 0:return console.log("HeroManager not found in cache, fetching from server and caching it"),t.n=1,this.fetchHeroManager();case 1:return e=t.v,t.n=2,c.A.cache(c.A.Keys.HERO_MANAGER,e);case 2:return console.log("Cached HeroManager using raw data recieved from server"),(0,u.Ck)(e),t.a(2,e)}},t,this)})),function(){return o.apply(this,arguments)}),deleteHeroManager:(r=g(h().m(function t(){return h().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c.A.delete(c.A.Keys.HERO_MANAGER);case 1:console.log("Removed hero manager from cache");case 2:return t.a(2)}},t)})),function(){return r.apply(this,arguments)}),getHeroByName:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");if(!t)return e.Empty;var r=t.toLowerCase().replace(/\s+/g,"");return null!==(n=e.name_lookup[r])&&void 0!==n?n:null},getHeroByPrime:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_lookup[t]},getHeroByCode:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return t?null!==(n=e.code_lookup[t])&&void 0!==n?n:null:e.Empty},getPairNamesByProduct:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_pair_lookup[t]}}},777:(t,e,n)=>{n.a(t,async(t,e)=>{try{var r=n(382),o=n(163),a=n(583);function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof s?r:s,l=Object.create(i.prototype);return c(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,c(y,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(y),c(y,o,"Generator"),c(y,r,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:d}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,c,"next",t)}function c(t){u(a,r,o,i,c,"throw",t)}i(void 0)})}}function l(t,e){var n=document.getElementById(t);n.value=e.replace(/^\n/,""),CodeMirror.fromTextArea(n,{mode:"filterSyntax",lineNumbers:!0,theme:"default",readOnly:!0}),n.classList.remove("codemirror-hidden")}function f(){CodeMirror.defineMode("filterSyntax",function(){return{token:function(t,e){return r.L.tokenMatch(t)}}}),l("exFilter1",'\ndate in current-season;\nis-first-pick = true;\np1.pick1 in {lone wolf peira, new moon luna};\nOR("harsetti" in p1.prebans, "harsetti" in p2.prebans);'),l("exFilter2",'\nlast-n(500);\ndate in 2025-04-01...2025-07-01;\nis-first-pick = false;\nOR(\n\tAND(\n\t\tp2.league in {warlord, emperor, legend},\n    \tp2.pick3 = "zio"\n    ),\n    victory-points >= 3000\n)'),l("exFilter3",'\n"Rinak" in prebans;\n"Boss Arunka" in prebans;\n"Harsetti" in p1.picks;\nNOT("Harsetti" = p2.postban);\nvictory-points in 2500...=3000;'),l("exFilter4","\ndate in season-16.5;\nis-win = true;"),l("exFilter5",'\np1.equipment("belian", {immunity, counter});\np1.artifact("belian", {3f, elbris ritual sword});\np2.cr-geq("New Moon Luna", 100);\np2.server in {global, asia, Japan};');var t=document.getElementById("codeArea"),e=CodeMirror.fromTextArea(t,{mode:"filterSyntax",lineNumbers:!0,theme:"default"});document.getElementById("filterForm").addEventListener("submit",function(){var t=s(i().m(function t(n){var r,a,c;return i().w(function(t){for(;;)switch(t.n){case 0:if(n.preventDefault(),document.getElementById("codeArea").value=e.getValue(),console.log("Processing Filter Action"),r=n.submitter,a=null==r?void 0:r.value,c=e.getValue(),"check"!==a){t.n=1;break}return console.log("Checking Str",c),t.n=1,o.A.validateFilterSyntax(c);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),e.on("change",function(){e.save()}),t.classList.remove("codemirror-hidden")}function p(){return y.apply(this,arguments)}function y(){return(y=s(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return f(),t.n=1,a.S.initialize();case 1:return t.a(2)}},t)}))).apply(this,arguments)}await p(),e()}catch(d){e(d)}},1)},823:(t,e,n)=>{n.d(e,{A:()=>L});var r=n(763),o=n(523),a=n(382),i=n(862),c=n(865),u=n(876),s=n(194),l=n(92),f=n(84),p=n(32);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return h(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(h(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,h(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,h(f,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,o,"GeneratorFunction"),h(f),h(f,o,"Generator"),h(f,r,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:a,m:p}})()}function h(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}h=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){h(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},h(t,e,n,r)}function v(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function m(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function b(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function E(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=A(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function A(t,e){if(t){if("string"==typeof t)return w(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(t){return function(t,e){var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!e.has(a))throw new o.A.SyntaxException("Invalid character within <".concat("Main Filter String","> ; ' ").concat(a," ' is not allowed; got string: '").concat(t,"'"))}}catch(t){r.e(t)}finally{r.f()}}(t=t.replace(/[\n\t\r]/g," ").replace(/\s+/g," "),u.yL),t.toLowerCase()}var P=function(){return b(function t(e,n){g(this,t),this.str=e,this.fn=n},[{key:"call",value:function(t){return this.fn(t)}},{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}();function R(t,e,n,r){var a=null;try{a=e in s.PU.FIELD_EXTRACT_FN_MAP?new s.PU(e):(0,l.yI)(e,r)}catch(r){for(var i in s.PU.FIELD_EXTRACT_FN_MAP)if(e.includes(i)||i.includes(e))throw new o.A.SyntaxException("Could not parse ".concat(t,' side of filter; got: "').concat(e,'" from filter: [').concat(n,"], did you mean to use '").concat(i,"' as a field instead?"));throw console.error(r),new o.A.SyntaxException("Could not parse ".concat(t,' side of filter; got: "').concat(e,'" from filter: [').concat(n,"]; error: ").concat(r.message))}return a}var O=function(){function t(e){if(g(this,t),e!==I._)throw new Error("Cannot instantiate FilterSyntaxParser directly; use createAndParse method instead.")}return b(t,[{key:"asString",value:function(){var t=m(this.filters.localFilters);return t.push.apply(t,m(this.filters.globalFilters)),"[\n".concat(t.map(function(t){return t.asString(u.RG)}).join(";\n"),"\n]")}},{key:"parseGlobalFilterFn",value:function(t,e){var n=a.L.anchorExp(a.L.VALID_GLOBAL_FILTER_RE);if(!n.test(e))throw new o.A.SyntaxException('Invalid global filter format; must follow the case insensitive regex format "'.concat(n.source,"\" ; got: '").concat(e,"'"));var r=o.A.tokenizeWithNestedEnclosures(e,",",1);if(t===f.$V)return{localFilters:[],globalFilters:[new f.$V(r)]};throw new o.A.SyntaxException("Global filter function ".concat(t.str," not mapped in parseGlobalFilterFn"))}},{key:"parseClauseFn",value:function(e,n){var r=this;console.log("Parsing clause fn:",e.str,n);var a=o.A.tokenizeWithNestedEnclosures(n,",",1).filter(function(t){return t.length>0});if(console.log("Got argArr:",a),e===f.eP&&a.length<2)throw new o.A.SyntaxException("XOR clause must have at least two arguments; got: ".concat(a.length,' arguments from string: "').concat(n,'"'));if(e===f.k2&&1!==a.length)throw new o.A.SyntaxException("NOT clause must have exactly one argument; got: ".concat(a.length,' arguments from string: "').concat(n,'"'));var i=a.reduce(function(t,e){var n,o;return(n=t.localFilters).push.apply(n,m(r.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,m(r.parseFilters(e).globalFilters)),t},t.getEmptyFilters());if(i.globalFilters.length>0)throw new o.A.SyntaxException("Global filters not allowed in clause functions; got: ".concat(i.globalFilters,' from string: "').concat(n,'"'));if(e===f.k2&&1!==i.localFilters.length)throw new o.A.SyntaxException("NOT clause must have exactly one argument; got: ".concat(i.length,' arguments from string: "').concat(n,'"'));return{localFilters:[new e(i)],globalFilters:[]}}},{key:"parseDirectFn",value:function(t,e){return{localFilters:[t.fromFilterStr(e,this.REFS)],globalFilters:[]}}},{key:"parseBaseFilter",value:function(t){console.log("Parsing base filter:",t);var e=o.A.tokenizeWithNestedEnclosures(t," ",0,!0);if(console.log("Got tokens: ",e,"; Length: ".concat(e.length)),3!==e.length)throw new o.A.SyntaxException("Invalid base filter format; all filters must be of the form: ['X', operator, 'Y']; got tokens: [".concat(e.join(", "),"]"));var n,r,a=(r=3,function(t){if(Array.isArray(t))return t}(n=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,r)||A(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],u=a[2];if(!p.A[c])throw new o.A.SyntaxException('Invalid operator in base filter; got: "'.concat(c,'" as the operator in filter: [').concat(t,"]"));var f=p.A[c];if(i=R("left",i,t,this.REFS,this.SeasonDetails),u=R("right",u,t,this.REFS,this.SeasonDetails),("in"===c||"!in"===c)&&!(u instanceof l.QE.Set||u instanceof l.QE.Range||u instanceof s.PU&&s.p_.has(u.str)))throw new o.A.TypeException("When using any 'in' or '!in' operator, the right side of the operator must be a Set, Range, or a Field composed of a set (i.e. p1.picks, p2.prebans, etc.); error found in filter: '".concat(t,"'"));if(u instanceof l.QE.Range)if("Date"===u.data.type){if(!i.str.includes("date"))throw new o.A.TypeException("When using a Date Range, the left side of the operator must be a date field; ".concat(i.str," is not a date field; error found in filter: '").concat(t,"'"))}else if("Int"===u.data.type&&!s.wS.has(i.str))throw new o.A.TypeException("When using an Int Range, the left side of the operator must be an integer field; ".concat(i.str," is not an integer field; error found in filter: '").concat(t,"'"));if(u instanceof l.pe&&i instanceof l.pe)throw new o.A.SyntaxException("Either left or right side of filter must be a data field (a property of a battle); both ".concat(i," and ").concat(u,' are user declared data types in filter: "').concat(t,'"'));var y;y=i instanceof l.pe?function(t){return f(i.data,u.extractData(t))}:u instanceof l.pe?function(t){return f(i.extractData(t),u.data)}:function(t){return f(i.extractData(t),u.extractData(t))};var d="".concat(i.asString()," ").concat(c," ").concat(u.asString()),h=new P(d,y);return console.log("Returning base local filter",[h.asString()]),{localFilters:[h],globalFilters:[]}}},{key:"parseFilters",value:function(e){var n=this;if(console.log('Parsing filter string: "'.concat(e||this.preParsedString,'"')),""===e)return console.log("Empty filter string; Returning empty filters"),t.getEmptyFilters();var r,i=(e=e.trim()).split(";").filter(function(t){return t.length>0}),c=E(i);try{for(c.s();!(r=c.n()).done;){var u=r.value,s=o.A.getCharCounts(u);if(s["("]!==s[")"])throw new o.A.SyntaxException('Imbalanced parentheses in following string: "'.concat(u,'"'));if(s["{"]!==s["}"])throw new o.A.SyntaxException("Imbalanced braces ('{', '}') in following string: \"".concat(u,'"'))}}catch(t){c.e(t)}finally{c.f()}if(i.length>1)return console.log("Processing <".concat(i.length,"> filters; filters: ").concat(i)),i.reduce(function(t,e){var r,o;return(r=t.localFilters).push.apply(r,m(n.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,m(n.parseFilters(e).globalFilters)),t},t.getEmptyFilters());var l=i[0].trim();if(l.length<4)throw new o.A.SyntaxException("Filter string cannot be valid (less than 4 characters); got filter string: [".concat(l,"]"));var p=l.split("("),y=f.yq[p[0]];if(console.log("Trying to look for Fn ; got string:",l),y){if(a.L.VALID_CLAUSE_FUNCTIONS_RE.test(l))return console.log("Found clause fn; dispatching to clause fn parser"),this.parseClauseFn(y,l);if(a.L.VALID_GLOBAL_FUNCTIONS_RE.test(l))return console.log("Found global filter fn; dispatching to global filter fn parser"),this.parseGlobalFilterFn(y,l);if(a.L.VALID_DIRECT_FUNCTIONS_RE.test(l))return this.parseDirectFn(y,l);throw new Error('could not parse filter string as Fn: "'.concat(e,'" ; did not map to any known function ; check filter-syntax page'))}return console.log("Did not find Fn; dispatching to base filter parser"),this.parseBaseFilter(l)}}],[{key:"getEmptyFilters",value:function(){return{localFilters:[],globalFilters:[]}}},{key:"createAndParse",value:(e=d().m(function e(n){var o,a,u,s,l,f=arguments;return d().w(function(e){for(;;)switch(e.n){case 0:if(o=f.length>1&&void 0!==f[1]?f[1]:null,a=f.length>2&&void 0!==f[2]?f[2]:null,console.log("Initialized parsing of string:",n),u=new t(I._),s=o){e.n=2;break}return e.n=1,r.A.getHeroManager();case 1:s=e.v;case 2:if(o=s,l=a){e.n=4;break}return e.n=3,i.A.getSeasonDetails();case 3:l=e.v;case 4:return a=l,u.rawString=n,u.HM=o,e.n=5,c.A.getArtifactLowercaseNameSet();case 5:return u.ARTIFACT_LOWERCASE_STRINGS_SET=e.v,console.log("Got Artifact Lowercase Strings Set"),console.log(u.ARTIFACT_LOWERCASE_STRINGS_SET),u.SeasonDetails=a,u.REFS={HM:u.HM,ARTIFACT_LOWERCASE_STRINGS_SET:u.ARTIFACT_LOWERCASE_STRINGS_SET,SeasonDetails:u.SeasonDetails},u.preParsedString=T(n),u.globalFilters=[],u.filters=u.parseFilters(u.preParsedString),console.log("Got Filters\n"),console.log(u.asString()),e.a(2,u)}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(t){v(a,r,o,i,c,"next",t)}function c(t){v(a,r,o,i,c,"throw",t)}i(void 0)})},function(t){return n.apply(this,arguments)})}]);var e,n}(),I={_:Symbol("internal")};const L=O},828:(t,e,n)=>{n.d(e,{A:()=>T});var r=n(179),o=n(720),a=n(967),i=n(836);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return f(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,function(){return this}),e),y=s.prototype=c.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,f(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return u.prototype=s,f(y,"constructor",s),f(s,"constructor",u),u.displayName="GeneratorFunction",f(s,o,"GeneratorFunction"),f(y),f(y,o,"Generator"),f(y,r,function(){return this}),f(y,"toString",function(){return"[object Generator]"}),(l=function(){return{w:a,m:d}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){f(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},f(t,e,n,r)}function p(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){p(a,r,o,i,c,"next",t)}function c(t){p(a,r,o,i,c,"throw",t)}i(void 0)})}}function d(t,e,n){return(e=function(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h,v,m,g,S,b,_=d(d(d(d(d({},r.F7.GLOBAL,o.A.Keys.GLOBAL_USERS),r.F7.EU,o.A.Keys.EU_USERS),r.F7.ASIA,o.A.Keys.ASIA_USERS),r.F7.JPN,o.A.Keys.JPN_USERS),r.F7.KOR,o.A.Keys.KOR_USERS);function E(t,e){return{id:t.nick_no,name:t.nick_nm,code:t.code,rank:t.rank,world_code:e}}function A(t){return w.apply(this,arguments)}function w(){return(w=y(l().m(function t(e){var n;return l().w(function(t){for(;;)switch(t.n){case 0:return console.log("Getting user map for world code from E7 server: ".concat(e)),t.n=1,a.A.fetchUserJSON(e);case 1:if(n=t.v){t.n=2;break}return console.log("Could not get user map from E7 server for world code: ".concat(e)),t.a(2,null);case 2:return console.log("Got user map from E7 server for world code: ".concat(e)),t.a(2,Object.fromEntries(n.users.map(function(t){return[t.nick_no,E(t,e)]})))}},t)}))).apply(this,arguments)}const T={getUserMap:(b=y(l().m(function t(e){var n,r;return l().w(function(t){for(;;)switch(t.n){case 0:return console.log("Getting user map for world code: ".concat(e)),t.n=1,o.A.get(_[e]);case 1:if(null===(n=t.v)){t.n=2;break}return console.log("Got user map from cache"),t.a(2,n);case 2:return t.n=3,A(e);case 3:return r=t.v,t.n=4,o.A.cache(_[e],r);case 4:return t.a(2,r)}},t)})),function(t){return b.apply(this,arguments)}),findUser:(S=y(l().m(function t(e){var n,o,a,c,s,f,p,y,d,h,v,m,g,S,b,_,E;return l().w(function(t){for(;;)switch(t.n){case 0:if(n=!1,o=function(t){return r.DB[t]},console.log("Attempting to find user: ".concat(JSON.stringify(e))),!e.id){t.n=12;break}a=u(r.WB),t.p=1,a.s();case 2:if((c=a.n()).done){t.n=8;break}if(s=c.value,!e.world_code||e.world_code===s){t.n=3;break}return t.a(3,7);case 3:return t.n=4,this.getUserMap(s);case 4:if(f=t.v,(p=Object.values(f))&&0!==p.length){t.n=5;break}return console.log("User map had no users, falling back to flask server for world code: ".concat(o(s))),n=!0,t.a(3,7);case 5:if(!(y=p.find(function(t){return t.id===e.id}))){t.n=6;break}return console.log("Found user: ".concat(JSON.stringify(y)," in world code: ").concat(o(s))),t.a(2,{user:y,error:!1});case 6:console.log("Could not find user with ID: ".concat(e.id," in world code: ").concat(o(s)," from client-side means"));case 7:t.n=2;break;case 8:t.n=10;break;case 9:t.p=9,E=t.v,a.e(E);case 10:return t.p=10,a.f(),t.f(10);case 11:t.n=18;break;case 12:if(!e.name||!e.world_code){t.n=17;break}return d=[e.name,e.world_code],h=d[0],v=d[1],t.n=13,this.getUserMap(v);case 13:if(m=t.v,(g=Object.values(m))&&0!==g.length){t.n=14;break}console.log("User map had no users, falling back to flask server for world code: ".concat(o(v))),n=!0,t.n=16;break;case 14:if(S=h.toLowerCase(),b=g.find(function(t){return S===t.name.toLowerCase()}),!b){t.n=15;break}return console.log("Found user: ".concat(JSON.stringify(b)," in world code: ").concat(o(v))),t.a(2,{user:b,error:!1});case 15:console.log("Could not find user with ID: ".concat(e.id," in world code: ").concat(o(v)," from client-side means"));case 16:t.n=18;break;case 17:return console.error("Must pass a user object with either user.name and user.world_code or user.id to fetch user"),t.a(2,{user:null,error:"Must pass a user object with either user.name and user.world_code or user.id to fetch user"});case 18:if(!n){t.n=21;break}return console.log("Failed to find user through client-side means; falling back to flask server"),t.n=19,i.A.fetchUser(e);case 19:if(!(_=t.v).error){t.n=20;break}return t.a(2,{user:null,error:_.error});case 20:return t.a(2,{user:_.user,error:!1});case 21:return t.a(2,{user:null,error:"Could not find user"});case 22:return t.a(2)}},t,this,[[1,9,10,11]])})),function(t){return S.apply(this,arguments)}),setUser:(g=y(l().m(function t(e){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.cache(o.A.Keys.USER,e);case 1:return t.a(2)}},t)})),function(t){return g.apply(this,arguments)}),getUser:(m=y(l().m(function t(){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.get(o.A.Keys.USER);case 1:return t.a(2,t.v)}},t)})),function(){return m.apply(this,arguments)}),clearUserData:(v=y(l().m(function t(){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.clearUserData();case 1:return t.a(2)}},t)})),function(){return v.apply(this,arguments)}),clearUserDataLists:(h=y(l().m(function t(){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.delete(o.A.Keys.GLOBAL_USERS);case 1:return t.n=2,o.A.delete(o.A.Keys.EU_USERS);case 2:return t.n=3,o.A.delete(o.A.Keys.ASIA_USERS);case 3:return t.n=4,o.A.delete(o.A.Keys.JPN_USERS);case 4:return t.n=5,o.A.delete(o.A.Keys.KOR_USERS);case 5:return t.a(2)}},t)})),function(){return h.apply(this,arguments)})}},836:(t,e,n)=>{function r(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function c(n,r,a,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return o(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,a,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][a]?e(e([][a]())):(o(e={},a,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,o(y,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,i,"GeneratorFunction"),o(y),o(y,i,"Generator"),o(y,a,function(){return this}),o(y,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:d}})()}function o(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}o=function(t,e,n,r){if(e)a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){o(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},o(t,e,n,r)}function a(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function c(t){a(i,r,o,c,u,"next",t)}function u(t){a(i,r,o,c,u,"throw",t)}c(void 0)})}}var c,u,s,l,f,p,y;n.d(e,{A:()=>d});const d={test:function(t){console.log("Got data in test:",t.rank_plot)},fetchFromPython:(y=i(r().m(function t(e){var n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=3;break}return console.log("Retrying Fetch..."),t.n=2,fetch(e);case 2:n=t.v;case 3:return t.n=4,n.json();case 4:return o=t.v,t.a(2,o||null)}},t)})),function(t){return y.apply(this,arguments)}),fetchHeroData:(p=i(r().m(function t(){return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchFromPython("/api/get_hero_data");case 1:return t.a(2,t.v)}},t,this)})),function(){return p.apply(this,arguments)}),rsFetchBattleData:(f=i(r().m(function t(e){return r().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Must pass user to fetch battles data");case 1:return t.n=2,fetch("/api/rs_get_battle_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})});case 2:return t.a(2,t.v)}},t)})),function(t){return f.apply(this,arguments)}),fetchSeasonDetails:(l=i(r().m(function t(){var e,n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_season_details");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return o=JSON.parse(n.seasonDetails),t.a(2,{seasonDetails:o,error:!1});case 3:return t.a(2,{seasonDetails:null,error:n.error});case 4:return t.a(2)}},t)})),function(){return l.apply(this,arguments)}),fetchArtifactJson:(s=i(r().m(function t(){var e,n,o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_artifact_json");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return o=JSON.parse(n.artifactJson),t.a(2,o);case 3:return t.a(2,null);case 4:return t.a(2)}},t)})),function(){return s.apply(this,arguments)}),fetchUser:(u=i(r().m(function t(e){var n,o,a,i,c;return r().w(function(t){for(;;)switch(t.n){case 0:if(e.name&&e.world_code||e.id){t.n=1;break}throw new Error("Must pass a user object with either user.name and user.world_code or user.id to fetch user");case 1:return t.n=2,fetch("/api/get_user_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userData:e})});case 2:return n=t.v,t.n=3,n.json();case 3:if(o=t.v,t.p=4,!n.ok){t.n=9;break}if(o.foundUser){t.n=7;break}if(!e.name){t.n=5;break}return a=e.world_code.replace("world_",""),t.a(2,{user:null,error:'Could not find user: "'.concat(e.name,'" in world_code: ').concat(a)});case 5:if(!e.id){t.n=6;break}return t.a(2,{user:null,error:"Could not find user with ID: ".concat(e.id)});case 6:t.n=8;break;case 7:return i=o.user,console.log("Server communication successful; received response data for user"),console.log("Found user: ".concat(JSON.stringify(i))),t.a(2,{user:i,error:!1});case 8:t.n=10;break;case 9:return console.log("Server communication unsuccessful"),t.a(2,{user:null,error:o.error});case 10:t.n=12;break;case 11:return t.p=11,c=t.v,console.error("Error fetching and caching user: ".concat(c)),t.a(2,{user:null,error:c.message});case 12:return t.a(2)}},t,null,[[4,11]])})),function(t){return u.apply(this,arguments)}),fetchDataFromID:(c=i(r().m(function t(e){return r().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Must pass ID to fetch user");case 1:return t.n=2,fetch("/api/get_battle_data_from_id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});case 2:return t.a(2,t.v)}},t)})),function(t){return c.apply(this,arguments)})}},849:(t,e,n)=>{n.d(e,{S:()=>u});var r=n(114);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e,n){return(e=function(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=a(a(a({},r.D.SELECT_DATA,0),r.D.SHOW_STATS,0),r.D.LOAD_DATA,0),c={SOURCE:"SOURCE",ERROR_MSG:"ERROR_MSG",AUTO_ZOOM:"AUTO_ZOOM",AUTO_QUERY:"AUTO_QUERY",STATS_POST_RENDER_COMPLETED:"STATS_POST_RENDER_COMPLETED",STATS_PRE_RENDER_COMPLETED:"STATS_PRE_RENDER_COMPLETED",HOME_PAGE_STATE:"STATE",SCROLL_PERCENTS:"SCROLL_PERCENTS"},u={KEYS:c,VALUES:{SOURCE:{QUERY:"query",UPLOAD:"upload",STATS:"stats"}},ERROR_MSG:null,SOURCE:null,AUTO_QUERY:null,AUTO_ZOOM:!1,STATS_POST_RENDER_COMPLETED:!1,STATS_PRE_RENDER_COMPLETED:!1,HOME_PAGE_STATE:null,SCROLL_PERCENTS:i,popKey:function(t){var e=this[t];return this[t]=this._getDefault(t),e},readKey:function(t){return this[t]},_getDefault:function(t){switch(t){case c.AUTO_ZOOM:return!1;case c.ERROR_MSG:case c.SOURCE:case c.AUTO_QUERY:return null;case c.STATS_POST_RENDER_COMPLETED:case c.STATS_PRE_RENDER_COMPLETED:return!1;case c.HOME_PAGE_STATE:return null;case c.SCROLL_PERCENTS:return i;default:return null}}}},862:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(720),o=n(836),a=n(179);function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof s?r:s,l=Object.create(i.prototype);return c(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,c(y,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(y),c(y,o,"Generator"),c(y,r,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:d}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,c,"next",t)}function c(t){u(a,r,o,i,c,"throw",t)}i(void 0)})}}var l,f,p,y={fetchAndCacheSeasonDetails:(p=s(i().m(function t(){var e,n,c,u,s,l;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.A.fetchSeasonDetails();case 1:if(!(e=t.v).error){t.n=2;break}throw new Error("Could not fetch season details: ".concat(e.error));case 2:return(n=e.seasonDetails).forEach(function(t){t.range=[t.Start,t.End].map(function(t){return new Date("".concat(t.split(" ")[0],"T00:00:00"))})}),n.sort(function(t,e){return t["Season Number"]-e["Season Number"]}),c=[n[0]],u=n[0],n.slice(1).forEach(function(t){var e=new Date(+u.range[1]+a.CZ),n=new Date(+t.range[0]-a.CZ),r={"Season Number":u["Season Number"]+.5,Code:null,Season:"Pre ".concat(t.Season),Start:e.toISOString().slice(0,10),End:n.toISOString().slice(0,10),Status:"Complete",range:[e,n]};c.push(r),c.push(t),u=t}),u.range[1]<new Date&&(s=new Date(+c.at(-1).range[1]+a.CZ),l={"Season Number":u["Season Number"]+.5,Code:null,Season:"Active Pre-Season",Start:s.toISOString().slice(0,10),End:"N/A",Status:"Active",range:[s,new Date]},c.push(l)),c.reverse(),t.n=3,r.A.cache(r.A.Keys.SEASON_DETAILS,c);case 3:return t.a(2,c)}},t)})),function(){return p.apply(this,arguments)}),getSeasonDetails:(f=s(i().m(function t(){var e,n,o,a;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.get(r.A.Keys.SEASON_DETAILS);case 1:if(o=e=t.v,!(n=null!==o)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}a=e,t.n=5;break;case 3:return t.n=4,y.fetchAndCacheSeasonDetails();case 4:a=t.v;case 5:return t.a(2,a)}},t)})),function(){return f.apply(this,arguments)}),clearSeasonDetails:(l=s(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.A.delete(r.A.Keys.SEASON_DETAILS);case 1:console.log("Season details cleared from data cache");case 2:return t.a(2)}},t)})),function(){return l.apply(this,arguments)})};const d=y},865:(t,e,n)=>{n.d(e,{A:()=>S});var r,o,a,i,c,u=n(720),s=n(967),l=n(836);function f(t){throw new TypeError('"'+t+'" is read-only')}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return d(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function y(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(c=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,d(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,d(f,"constructor",s),d(s,"constructor",u),u.displayName="GeneratorFunction",d(s,o,"GeneratorFunction"),d(f),d(f,o,"Generator"),d(f,r,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(y=function(){return{w:a,m:p}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){d(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},d(t,e,n,r)}function h(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){h(a,r,o,i,c,"next",t)}function c(t){h(a,r,o,i,c,"throw",t)}i(void 0)})}}function m(){return g.apply(this,arguments)}function g(){return(g=v(y().m(function t(){var e;return y().w(function(t){for(;;)switch(t.n){case 0:return console.log("Getting artifact map from E7 server..."),t.n=1,s.A.fetchArtifactJSON("en");case 1:if(null!==(e=t.v)){t.n=3;break}return console.log("Getting artifact map from flask server..."),t.n=2,l.A.fetchArtifactJson();case 2:f("rawJSON");case 3:if(null!==e){t.n=4;break}return console.error("Could not get artifact Json map from E7 server or flask server"),t.a(2,null);case 4:return console.log("Got artifact Json for language: 'en'"),t.a(2,Object.fromEntries(e.filter(function(t){return null!==t.name}).map(function(t){return[t.code,t.name]})))}},t)}))).apply(this,arguments)}const S={getArtifacts:(c=v(y().m(function t(){var e,n,r,o;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACTS);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,this.fetchAndCacheArtifacts();case 4:o=t.v;case 5:return t.a(2,o)}},t,this)})),function(){return c.apply(this,arguments)}),getArtifactLowercaseNameSet:(i=v(y().m(function t(){var e,n;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACTS_LOWERCASE_NAMES_SET);case 1:if(null===(e=t.v)){t.n=2;break}return console.log("Got artifact lowercase name set from cache"),t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=new Set(Object.values(n).filter(function(t){return null!==t}).map(function(t){return t.toLowerCase()})),t.n=4,u.A.cache(u.A.Keys.ARTIFACTS_LOWERCASE_NAMES_SET,e);case 4:return t.a(2,e)}},t,this)})),function(){return i.apply(this,arguments)}),getArtifactObjectList:(a=v(y().m(function t(){var e,n;return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.get(u.A.Keys.ARTIFACT_OBJECT_LIST);case 1:if(null===(e=t.v)){t.n=2;break}return console.log("Got artifact object list from cache"),t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=Object.entries(n).map(function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{id:r[0],name:r[1]}}),t.n=4,u.A.cache(u.A.Keys.ARTIFACT_OBJECT_LIST,e);case 4:return t.a(2,e)}},t,this)})),function(){return a.apply(this,arguments)}),fetchAndCacheArtifacts:(o=v(y().m(function t(){var e;return y().w(function(t){for(;;)switch(t.n){case 0:return console.log("ArtifactManager not found in cache, fetching from server and caching it"),t.n=1,m();case 1:return e=t.v,t.n=2,u.A.cache(u.A.Keys.ARTIFACTS,e);case 2:return console.log("Cached ArtifactManager using raw data recieved from server"),t.a(2,e)}},t)})),function(){return o.apply(this,arguments)}),clearArtifactData:(r=v(y().m(function t(){return y().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u.A.delete(u.A.Keys.ARTIFACTS);case 1:return t.a(2)}},t)})),function(){return r.apply(this,arguments)}),convertCodeToName:function(t,e){return e[t]||t}}},876:(t,e,n)=>{n.d(e,{Jb:()=>i,RG:()=>a,yL:()=>o});var r=n(179),o=new Set("'\"(),-.=; ><!1234567890{}abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),a="   ",i=new Set(Object.values(r.pg).map(function(t){return t.toLowerCase()}))},967:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(179);function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof s?r:s,l=Object.create(i.prototype);return c(l,"_invoke",function(n,r,o){var a,i,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function y(n,r){for(i=n,c=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],y=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,c=d;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(s=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),y=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,c(y,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(y),c(y,o,"Generator"),c(y,r,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:d}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,c,"next",t)}function c(t){u(a,r,o,i,c,"throw",t)}i(void 0)})}}function l(t){return f.apply(this,arguments)}function f(){return(f=s(i().m(function t(e){var n,r,o;return i().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=2;break}throw new Error("HTTP error: status: ".concat(n.status));case 2:return t.n=3,n.json();case 3:return r=t.v,console.log("Fetched data from E7 Server; keys:",Object.keys(r)),t.a(2,r);case 4:return t.p=4,o=t.v,console.error("Error fetching global user data:",o),t.a(2,null)}},t,null,[[0,4]])}))).apply(this,arguments)}function p(){return p=s(i().m(function t(){var e,n,r=arguments;return i().w(function(t){for(;;)switch(t.n){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,console.log("Fetching hero data (lang=".concat(null!=e?e:"all",") from E7 Server...")),t.n=1,l("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_hero.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find hero data for language:",e),n=null),t.a(2,n)}},t)})),p.apply(this,arguments)}function y(){return y=s(i().m(function t(){var e,n,r=arguments;return i().w(function(t){for(;;)switch(t.n){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,console.log("Fetching hero data (lang=".concat(null!=e?e:"all",") from E7 Server...")),t.n=1,l("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_artifact.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find artifact data for language:",e),n=null),t.a(2,n)}},t)})),y.apply(this,arguments)}function d(){return(d=s(i().m(function t(e){var n,a;return i().w(function(t){for(;;)switch(t.n){case 0:if(e=e.replace("world_",""),o(r.WB).some(function(t){return t.replace("world_","")===e})){t.n=1;break}return console.error("Could not find world code: ".concat(e)),t.a(2,null);case 1:return console.log("Fetching users for world code: ".concat(e," from E7 Server...")),n="https://static.smilegatemegaport.com/gameRecord/epic7/epic7_user_world_".concat(e,".json"),t.n=2,l(n);case 2:return(a=t.v)&&console.log("Got user data for world: ".concat(e," ; Found ").concat(a.users.length," users")),t.a(2,a)}},t)}))).apply(this,arguments)}const h={fetchHeroJSON:function(){return p.apply(this,arguments)},fetchUserJSON:function(t){return d.apply(this,arguments)},fetchArtifactJSON:function(){return y.apply(this,arguments)}}}},i={};function c(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return a[t](n,n.exports,c),n.exports}t="function"==typeof Symbol,e=t?Symbol("webpack queues"):"__webpack_queues__",n=t?Symbol("webpack exports"):"__webpack_exports__",r=t?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},c.a=(t,a,i)=>{var c;i&&((c=[]).d=-1);var u,s,l,f=new Set,p=t.exports,y=new Promise((t,e)=>{l=e,s=t});y[n]=p,y[e]=t=>(c&&t(c),f.forEach(t),y.catch(t=>{})),t.exports=y,a(t=>{var a;u=(t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var a=[];a.d=0,t.then(t=>{i[n]=t,o(a)},t=>{i[r]=t,o(a)});var i={};return i[e]=t=>t(a),i}}var c={};return c[e]=t=>{},c[n]=t,c}))(t);var i=()=>u.map(t=>{if(t[r])throw t[r];return t[n]}),s=new Promise(t=>{(a=()=>t(i)).r=0;var n=t=>t!==c&&!f.has(t)&&(f.add(t),t&&!t.d&&(a.r++,t.push(a)));u.map(t=>t[e](n))});return a.r?s:i()},t=>(t?l(y[r]=t):s(p),o(c))),c&&c.d<0&&(c.d=0)},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c(777)})();
//# sourceMappingURL=filter-syntax.bundle.js.map