/*! For license information please see home-page.da0a80ff34488cf0a3a7.bundle.js.LICENSE.txt */
(()=>{var t={809:function(t,e){var n,r,o;r=[],n=function t(){var e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,a={},i=0,c={};function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new h(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let e=this._config.newline;e||(a=this._config.quoteChar||'"',e=this._handle.guessLineEndings(t,a)),t=[...t.split(e).slice(r)].join(e)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(t))&&(t=a),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+t;var a=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=a.meta.cursor,this._finished||(this._partialLine=r.substring(t-this._baseIndex),this._baseIndex=t),a&&a.data&&(this._rowCount+=a.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,o)n.postMessage({results:a,workerId:c.WORKER_ID,finished:r});else if(S(this._config.chunk)&&!e){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!r||!S(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){S(this._config.error)?this._config.error(t):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:t,finished:!1})}}function s(t){var e;(t=t||{}).chunkSize||(t.chunkSize=c.RemoteChunkSize),u.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=E(this._chunkLoaded,this),e.onerror=E(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var t,n=this._config.downloadRequestHeaders;for(t in n)e.setRequestHeader(t,n[t])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,e.setRequestHeader("Range","bytes="+this._start+"-"+o));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}r&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize||e.responseText.length,this._finished=!this._config.chunkSize||this._start>=(t=>null!==(t=t.getResponseHeader("Content-Range"))?parseInt(t.substring(t.lastIndexOf("/")+1)):-1)(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){t=e.statusText||t,this._sendError(new Error(t))}}function l(t){(t=t||{}).chunkSize||(t.chunkSize=c.LocalChunkSize),u.call(this,t);var e,n,r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=E(this._chunkLoaded,this),e.onerror=E(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input,o=(this._config.chunkSize&&(o=Math.min(this._start+this._config.chunkSize,this._input.size),t=n.call(t,this._start,o)),e.readAsText(t,this._config.encoding));r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function f(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){var t,n;if(!this._finished)return t=this._config.chunkSize,e=t?(n=e.substring(0,t),e.substring(t)):(n=e,""),this._finished=!e,this.parseChunk(n)}}function p(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=E(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=E(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=E(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(t){var e,n,r,o,a=Math.pow(2,53),i=-a,u=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,f=0,p=0,h=!1,v=!1,m=[],_={data:[],errors:[],meta:{}};function E(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){if(_&&r&&(T("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines&&(_.data=_.data.filter(function(t){return!E(t)})),w()){if(_)if(Array.isArray(_.data[0])){for(var e=0;w()&&e<_.data.length;e++)_.data[e].forEach(n);_.data.splice(0,1)}else _.data.forEach(n);function n(e,n){S(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}function o(e,n){for(var r=t.header?{}:[],o=0;o<e.length;o++){var c=o,l=e[o];l=((e,n)=>(e=>(t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)))(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((t=>{if(u.test(t)&&(t=parseFloat(t),i<t&&t<a))return 1})(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n)(c=t.header?o>=m.length?"__parsed_extra":m[o]:c,l=t.transform?t.transform(l,c):l),"__parsed_extra"===c?(r[c]=r[c]||[],r[c].push(l)):r[c]=l}return t.header&&(o>m.length?T("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+o,p+n):o<m.length&&T("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+o,p+n)),r}var l;_&&(t.header||t.dynamicTyping||t.transform)&&(l=1,!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(o),l=_.data.length):_.data=o(_.data,0),t.header&&_.meta&&(_.meta.fields=m),p+=l)}function w(){return t.header&&0===m.length}function T(t,e,n,r){t={type:t,code:e,message:n},void 0!==r&&(t.row=r),_.errors.push(t)}S(t.step)&&(o=t.step,t.step=function(e){_=e,w()?g():(g(),0!==_.data.length&&(f+=e.data.length,t.preview&&f>t.preview?n.abort():(_.data=_.data[0],o(_,l))))}),this.parse=function(o,a,i){var u=t.quoteChar||'"';return t.newline||(t.newline=this.guessLineEndings(o,u)),r=!1,t.delimiter?S(t.delimiter)&&(t.delimiter=t.delimiter(o),_.meta.delimiter=t.delimiter):((u=((e,n,r,o,a)=>{var i,u,s,l;a=a||[",","\t","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var f=0;f<a.length;f++){for(var p,h=a[f],d=0,v=0,m=0,_=(s=void 0,new y({comments:o,delimiter:h,newline:n,preview:10}).parse(e)),b=0;b<_.data.length;b++)r&&E(_.data[b])?m++:(v+=p=_.data[b].length,void 0===s?s=p:0<p&&(d+=Math.abs(p-s),s=p));0<_.data.length&&(v/=_.data.length-m),(void 0===u||d<=u)&&(void 0===l||l<v)&&1.99<v&&(u=d,i=h,l=v)}return{successful:!!(t.delimiter=i),bestDelimiter:i}})(o,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess)).successful?t.delimiter=u.bestDelimiter:(r=!0,t.delimiter=c.DefaultDelimiter),_.meta.delimiter=t.delimiter),u=b(t),t.preview&&t.header&&u.preview++,e=o,n=new y(u),_=n.parse(e,a,i),g(),h?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=S(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(h=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return v},this.abort=function(){v=!0,n.abort(),_.meta.aborted=!0,S(t.complete)&&t.complete(_),e=""},this.guessLineEndings=function(t,e){t=t.substring(0,1048576),e=new RegExp(d(e)+"([^]*?)"+d(e),"gm");var n=(t=t.replace(e,"")).split("\r");if(t=1<(e=t.split("\n")).length&&e[0].length<n[0].length,1===n.length||t)return"\n";for(var r=0,o=0;o<n.length;o++)"\n"===n[o][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,o=t.step,a=t.preview,i=t.fastMode,u=null,s=!1,l=null==t.quoteChar?'"':t.quoteChar,f=l;if(void 0!==t.escapeChar&&(f=t.escapeChar),("string"!=typeof e||-1<c.BAD_DELIMITERS.indexOf(e))&&(e=","),r===e)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<c.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var p=0,h=!1;this.parse=function(c,y,v){if("string"!=typeof c)throw new Error("Input must be a string");var m=c.length,_=e.length,b=n.length,E=r.length,g=S(o),w=[],T=[],A=[],O=p=0;if(!c)return M();if(i||!1!==i&&-1===c.indexOf(l)){for(var P=c.split(n),R=0;R<P.length;R++){if(A=P[R],p+=A.length,R!==P.length-1)p+=n.length;else if(v)return M();if(!r||A.substring(0,E)!==r){if(g){if(w=[],j(A.split(e)),G(),h)return M()}else j(A.split(e));if(a&&a<=R)return w=w.slice(0,a),M(!0)}}return M()}for(var I=c.indexOf(e,p),k=c.indexOf(n,p),C=new RegExp(d(f)+d(l),"g"),L=c.indexOf(l,p);;)if(c[p]===l)for(L=p,p++;;){if(-1===(L=c.indexOf(l,L+1)))return v||T.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:p}),x();if(L===m-1)return x(c.substring(p,L).replace(C,l));if(l===f&&c[L+1]===f)L++;else if(l===f||0===L||c[L-1]!==f){-1!==I&&I<L+1&&(I=c.indexOf(e,L+1));var D=N(-1===(k=-1!==k&&k<L+1?c.indexOf(n,L+1):k)?I:Math.min(I,k));if(c.substr(L+1+D,_)===e){A.push(c.substring(p,L).replace(C,l)),c[p=L+1+D+_]!==l&&(L=c.indexOf(l,p)),I=c.indexOf(e,p),k=c.indexOf(n,p);break}if(D=N(k),c.substring(L+1+D,L+1+D+b)===n){if(A.push(c.substring(p,L).replace(C,l)),F(L+1+D+b),I=c.indexOf(e,p),L=c.indexOf(l,p),g&&(G(),h))return M();if(a&&w.length>=a)return M(!0);break}T.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:p}),L++}}else if(r&&0===A.length&&c.substring(p,p+E)===r){if(-1===k)return M();p=k+b,k=c.indexOf(n,p),I=c.indexOf(e,p)}else if(-1!==I&&(I<k||-1===k))A.push(c.substring(p,I)),p=I+_,I=c.indexOf(e,p);else{if(-1===k)break;if(A.push(c.substring(p,k)),F(k+b),g&&(G(),h))return M();if(a&&w.length>=a)return M(!0)}return x();function j(t){w.push(t),O=p}function N(t){var e=0;return-1!==t&&(t=c.substring(L+1,t))&&""===t.trim()?t.length:e}function x(t){return v||(void 0===t&&(t=c.substring(p)),A.push(t),p=m,j(A),g&&G()),M()}function F(t){p=t,j(A),A=[],k=c.indexOf(n,p)}function M(r){if(t.header&&!y&&w.length&&!s){var o=w[0],a=Object.create(null),i=new Set(o);let e=!1;for(let n=0;n<o.length;n++){let r=o[n];if(a[r=S(t.transformHeader)?t.transformHeader(r,n):r]){let t,c=a[r];for(;t=r+"_"+c,c++,i.has(t););i.add(t),o[n]=t,a[r]++,e=!0,(u=null===u?{}:u)[t]=r}else a[r]=1,o[n]=r;i.add(r)}s=!0}return{data:w,errors:T,meta:{delimiter:e,linebreak:n,aborted:h,truncated:!!r,cursor:O+(y||0),renamedHeaders:u}}}function G(){o(M()),w=[],T=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return p}}function v(t){var e=t.data,n=a[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(S(n.userStep)){for(var i=0;i<e.results.data.length&&(n.userStep({data:e.results.data[i],errors:e.results.errors,meta:e.results.meta},o),!r);i++);delete e.results}else S(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&m(e.workerId,e.results)}function m(t,e){var n=a[t];S(n.userComplete)&&n.userComplete(e),n.terminate(),delete a[t]}function _(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e,n=Array.isArray(t)?[]:{};for(e in t)n[e]=b(t[e]);return n}function E(t,e){return function(){t.apply(e,arguments)}}function S(t){return"function"==typeof t}return c.parse=function(e,r){var o=(r=r||{}).dynamicTyping||!1;if(S(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!S(r.transform)&&r.transform,!r.worker||!c.WORKERS_SUPPORTED)return o=null,c.NODE_STREAM_INPUT,"string"==typeof e?(e=(t=>65279!==t.charCodeAt(0)?t:t.slice(1))(e),o=new(r.download?s:f)(r)):!0===e.readable&&S(e.read)&&S(e.on)?o=new p(r):(n.File&&e instanceof File||e instanceof Object)&&(o=new l(r)),o.stream(e);(o=(()=>{var e;return!!c.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,r=t.toString();return c.BLOB_URL||(c.BLOB_URL=e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(e=new n.Worker(e)).onmessage=v,e.id=i++,a[e.id]=e)})()).userStep=r.step,o.userChunk=r.chunk,o.userComplete=r.complete,o.userError=r.error,r.step=S(r.step),r.chunk=S(r.chunk),r.complete=S(r.complete),r.error=S(r.error),delete r.worker,o.postMessage({input:e,config:r,workerId:o.id})},c.unparse=function(t,e){var n=!1,r=!0,o=",",a="\r\n",i='"',u=i+i,s=!1,l=null,f=!1,p=((()=>{if("object"==typeof e){if("string"!=typeof e.delimiter||c.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(o=e.delimiter),"boolean"!=typeof e.quotes&&"function"!=typeof e.quotes&&!Array.isArray(e.quotes)||(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(s=e.skipEmptyLines),"string"==typeof e.newline&&(a=e.newline),"string"==typeof e.quoteChar&&(i=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+i),e.escapeFormulae instanceof RegExp?f=e.escapeFormulae:"boolean"==typeof e.escapeFormulae&&e.escapeFormulae&&(f=/^[=+\-@\t\r].*$/)}})(),new RegExp(d(i),"g"));if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return h(null,t,s);if("object"==typeof t[0])return h(l||Object.keys(t[0]),t,s)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||l),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),h(t.fields||[],t.data||[],s);throw new Error("Unable to serialize unrecognized input");function h(t,e,n){var i="",c=("string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t)&&0<t.length),u=!Array.isArray(e[0]);if(c&&r){for(var s=0;s<t.length;s++)0<s&&(i+=o),i+=y(t[s],s);0<e.length&&(i+=a)}for(var l=0;l<e.length;l++){var f=(c?t:e[l]).length,p=!1,h=c?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!c&&(p="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&c){for(var d=[],v=0;v<f;v++){var m=u?t[v]:v;d.push(e[l][m])}p=""===d.join("").trim()}if(!p){for(var _=0;_<f;_++){0<_&&!h&&(i+=o);var b=c&&u?t[_]:_;i+=y(e[l][b],_)}l<e.length-1&&(!n||0<f&&!h)&&(i+=a)}}return i}function y(t,e){var r,a;return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(a=!1,f&&"string"==typeof t&&f.test(t)&&(t="'"+t,a=!0),r=t.toString().replace(p,u),(a=a||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||((t,e)=>{for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1})(r,c.BAD_DELIMITERS)||-1<r.indexOf(o)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?i+r+i:r)}},c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\ufeff",c.BAD_DELIMITERS=["\r","\n",'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!r&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=h,c.NetworkStreamer=s,c.FileStreamer=l,c.StringStreamer=f,c.ReadableStreamStreamer=p,n.jQuery&&((e=n.jQuery).fn.parse=function(t){var r=t.config||{},o=[];return this.each(function(t){if("INPUT"!==e(this).prop("tagName").toUpperCase()||"file"!==e(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)o.push({file:this.files[a],inputElem:this,instanceConfig:e.extend({},r)})}),a(),this;function a(){if(0===o.length)S(t.complete)&&t.complete();else{var n,r,a,u,s=o[0];if(S(t.before)){var l=t.before(s.file,s.inputElem);if("object"==typeof l){if("abort"===l.action)return n="AbortError",r=s.file,a=s.inputElem,u=l.reason,void(S(t.error)&&t.error({name:n},r,a,u));if("skip"===l.action)return void i();"object"==typeof l.config&&(s.instanceConfig=e.extend(s.instanceConfig,l.config))}else if("skip"===l)return void i()}var f=s.instanceConfig.complete;s.instanceConfig.complete=function(t){S(f)&&f(t,s.file,s.inputElem),i()},c.parse(s.file,s.instanceConfig)}}function i(){o.splice(0,1),a()}}),o&&(n.onmessage=function(t){t=t.data,void 0===c.WORKER_ID&&t&&(c.WORKER_ID=t.workerId),"string"==typeof t.input?n.postMessage({workerId:c.WORKER_ID,results:c.parse(t.input,t.config),finished:!0}):(n.File&&t.input instanceof File||t.input instanceof Object)&&(t=c.parse(t.input,t.config))&&n.postMessage({workerId:c.WORKER_ID,results:t,finished:!0})}),(s.prototype=Object.create(u.prototype)).constructor=s,(l.prototype=Object.create(u.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,c},void 0===(o="function"==typeof n?n.apply(e,r):n)||(t.exports=o)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}(()=>{"use strict";const t=(t,e)=>e.some(e=>t instanceof e);let e,r;const o=new WeakMap,a=new WeakMap,i=new WeakMap;let c={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return o.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function u(t){c=t(c)}function s(t){return(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(this.request)}:function(...e){return f(t.apply(p(this),e))}}function l(n){return"function"==typeof n?s(n):(n instanceof IDBTransaction&&function(t){if(o.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{e(),r()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});o.set(t,e)}(n),t(n,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,c):n)}function f(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{e(f(t.result)),r()},a=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return i.set(e,t),e}(t);if(a.has(t))return a.get(t);const e=l(t);return e!==t&&(a.set(t,e),i.set(e,t)),e}const p=t=>i.get(t);function h(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(t,e),c=f(i);return r&&i.addEventListener("upgradeneeded",t=>{r(f(i.result),t.oldVersion,t.newVersion,f(i.transaction),t)}),n&&i.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),c.then(t=>{a&&t.addEventListener("close",()=>a()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),c}const d=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],v=new Map;function m(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(v.get(e))return v.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!d.includes(n))return;const a=async function(t,...e){const a=this.transaction(t,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(e.shift())),(await Promise.all([i[n](...e),o&&a.done]))[0]};return v.set(e,a),a}u(t=>({...t,get:(e,n,r)=>m(e,n)||t.get(e,n,r),has:(e,n)=>!!m(e,n)||t.has(e,n)}));const _=["continue","continuePrimaryKey","advance"],b={},E=new WeakMap,S=new WeakMap,g={get(t,e){if(!_.includes(e))return t[e];let n=b[e];return n||(n=b[e]=function(...t){E.set(this,S.get(this)[e](...t))}),n}};async function*w(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const n=new Proxy(e,g);for(S.set(n,e),i.set(n,p(e));e;)yield n,e=await(E.get(n)||e.continue()),E.delete(n)}function T(e,n){return n===Symbol.asyncIterator&&t(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===n&&t(e,[IDBIndex,IDBObjectStore])}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function O(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return P(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(P(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,P(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,P(f,"constructor",s),P(s,"constructor",u),u.displayName="GeneratorFunction",P(s,o,"GeneratorFunction"),P(f),P(f,o,"Generator"),P(f,r,function(){return this}),P(f,"toString",function(){return"[object Generator]"}),(O=function(){return{w:a,m:p}})()}function P(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}P=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){P(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},P(t,e,n,r)}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach(function(e){k(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function L(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){C(a,r,o,i,c,"next",t)}function c(t){C(a,r,o,i,c,"throw",t)}i(void 0)})}}function D(t,e){return j.apply(this,arguments)}function j(){return(j=L(O().m(function t(e,n){var r;return O().w(function(t){for(;;)switch(t.n){case 0:return r=e.transaction(n,"readwrite"),r.objectStore(n).clear(),t.n=1,r.done;case 1:return t.a(2)}},t)}))).apply(this,arguments)}u(t=>({...t,get:(e,n,r)=>T(e,n)?w:t.get(e,n,r),has:(e,n)=>T(e,n)||t.has(e,n)}));var N,x,F,M,G,U,B,H,V,K,W,q,Y,z,Q,J,X,Z,tt,et={USER:"current-user",BATTLES:"battles",RAW_UPLOAD:"raw-upload",UPLOADED_BATTLES:"uploaded-battles",FILTERED_BATTLES:"filtered-battles",STATS:"stats",FILTER_STR:"filter-str"},nt={GLOBAL_USERS:"global-users",EU_USERS:"eu-users",ASIA_USERS:"asia-users",JPN_USERS:"jpn-users",KOR_USERS:"kor-users"},rt=I(I(I({},et),nt),{},{HERO_MANAGER:"hero-manager",SEASON_DETAILS:"season-details",AUTO_ZOOM_FLAG:"auto-zoom",AUTO_QUERY_FLAG:"auto-query",ID_SEARCH_FLAG:"id-search",ARTIFACTS:"artifacts",ARTIFACTS_LOWERCASE_NAMES_MAP:"artifacts-lowercase-names-map",ARTIFACT_OBJECT_LIST:"artifact-object-list",HOME_PAGE_STATE:"home-page-state",INTER_PAGE_MANAGER:"inter-page-manager"}),ot={autoZoom:rt.AUTO_ZOOM_FLAG,autoQuery:rt.AUTO_QUERY_FLAG,idSearch:rt.ID_SEARCH_FLAG},at={consts:{DB_NAME:"E7ArenaStatsClientDB",DB_VERSION:1,STORE_NAME:"DataStore",META_STORE_NAME:"MetaStore",CACHE_TIMEOUT:1728e5},Keys:I({},rt),MetaKeys:{TIMESTAMP:"timestamp"},loaded_UM:new Set,openDB:(tt=L(O().m(function t(){return O().w(function(t){for(;;)if(0===t.n)return t.a(2,h(at.consts.DB_NAME,at.consts.DB_VERSION,{upgrade:function(t){t.objectStoreNames.contains(at.consts.STORE_NAME)&&t.deleteObjectStore(at.consts.STORE_NAME),t.objectStoreNames.contains(at.consts.STORE_NAME)||t.createObjectStore(at.consts.STORE_NAME),t.objectStoreNames.contains(at.consts.META_STORE_NAME)||t.createObjectStore(at.consts.META_STORE_NAME)}}))},t)})),function(){return tt.apply(this,arguments)}),get:(Z=L(O().m(function t(e){var n,r;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.get(this.consts.STORE_NAME,e);case 2:if(null===(r=t.v)){t.n=3;break}"Found ".concat(e," in cache"),t.n=4;break;case 3:return"".concat(e," not found in cache; returning null"),t.a(2,null);case 4:return t.n=5,this.checkCacheTimeout(e);case 5:if(!t.v){t.n=6;break}return t.a(2,r);case 6:return t.a(2,null);case 7:return t.a(2)}},t,this)})),function(t){return Z.apply(this,arguments)}),cache:(X=L(O().m(function t(e,n){var r;return O().w(function(t){for(;;)switch(t.n){case 0:return"Caching ".concat(e," with data: ").concat(n),t.n=1,this.openDB();case 1:return r=t.v,t.n=2,r.put(this.consts.STORE_NAME,n,e);case 2:return t.n=3,this.setTimestamp(e,Date.now());case 3:return t.a(2)}},t,this)})),function(t,e){return X.apply(this,arguments)}),delete:(J=L(O().m(function t(e){var n;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,t.n=2,n.delete(this.consts.STORE_NAME,e);case 2:return t.n=3,this.deleteTimestamp(e);case 3:return t.a(2)}},t,this)})),function(t){return J.apply(this,arguments)}),deleteDB:(Q=L(O().m(function t(){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,indexedDB.deleteDatabase(this.consts.DB_NAME);case 1:case 2:return t.a(2)}},t,this)})),function(){return Q.apply(this,arguments)}),getTimestamp:(z=L(O().m(function t(e){var n,r,o;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.get(this.consts.META_STORE_NAME,r);case 2:return o=t.v,t.a(2,null!=o?o:null)}},t,this)})),function(t){return z.apply(this,arguments)}),setTimestamp:(Y=L(O().m(function t(e,n){var r,o;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return r=t.v,o="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,r.put(this.consts.META_STORE_NAME,n,o);case 2:return t.n=3,r.get(this.consts.META_STORE_NAME,o);case 3:t.v;case 4:return t.a(2)}},t,this)})),function(t,e){return Y.apply(this,arguments)}),deleteTimestamp:(q=L(O().m(function t(e){var n,r;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return n=t.v,r="".concat(e+this.MetaKeys.TIMESTAMP),t.n=2,n.delete(this.consts.META_STORE_NAME,r);case 2:return t.a(2)}},t,this)})),function(t){return q.apply(this,arguments)}),clearData:(W=L(O().m(function t(){var e;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.openDB();case 1:return e=t.v,t.n=2,D(e,this.consts.STORE_NAME);case 2:return t.n=3,D(e,this.consts.META_STORE_NAME);case 3:case 4:return t.a(2)}},t,this)})),function(){return W.apply(this,arguments)}),clearUserData:(K=L(O().m(function t(){var e,n=this;return O().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(et),t.n=1,Promise.all(e.map(function(t){return n.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return K.apply(this,arguments)}),clearUserLists:(V=L(O().m(function t(){var e,n=this;return O().w(function(t){for(;;)switch(t.n){case 0:return e=Object.values(nt),t.n=1,Promise.all(e.map(function(t){return n.delete(t)}));case 1:case 2:return t.a(2)}},t)})),function(){return V.apply(this,arguments)}),clearSeasonData:(H=L(O().m(function t(){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.delete(rt.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t,this)})),function(){return H.apply(this,arguments)}),checkCacheTimeout:(B=L(O().m(function t(e){var n,r;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getTimestamp(e);case 1:if(n=t.v,r=Date.now(),n&&!(r-n>at.consts.CACHE_TIMEOUT)){t.n=3;break}return"Cache timeout for ".concat(e),t.n=2,this.delete(e);case 2:return t.a(2,!1);case 3:return t.a(2,!0)}},t,this)})),function(t){return B.apply(this,arguments)}),getFilterStr:(U=L(O().m(function t(){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(at.Keys.FILTER_STR);case 1:return t.a(2,t.v)}},t,this)})),function(){return U.apply(this,arguments)}),setFilterStr:(G=L(O().m(function t(e){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(at.Keys.FILTER_STR,e);case 1:return t.a(2)}},t,this)})),function(t){return G.apply(this,arguments)}),getStats:(M=L(O().m(function t(){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.get(at.Keys.STATS);case 1:return t.a(2,t.v)}},t,this)})),function(){return M.apply(this,arguments)}),setStats:(F=L(O().m(function t(e){return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.cache(rt.STATS,e);case 1:return t.a(2)}},t,this)})),function(t){return F.apply(this,arguments)}),getFlag:(x=L(O().m(function t(e){var n;return O().w(function(t){for(;;)switch(t.n){case 0:if(n=ot[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.get(n);case 2:return t.a(2,t.v)}},t,this)})),function(t){return x.apply(this,arguments)}),setFlag:(N=L(O().m(function t(e,n){var r;return O().w(function(t){for(;;)switch(t.n){case 0:if(r=ot[e]){t.n=1;break}throw new Error("No key found for flag <".concat(e,">"));case 1:return t.n=2,this.cache(r,n);case 2:return t.a(2)}},t,this)})),function(t,e){return N.apply(this,arguments)})};const it=at;function ct(t){return t.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())}function ut(t){return t.reduce((t,e)=>(t[e]=(t[e]||0)+1,t),{})}const st={unwrapHtmlElt:function(t){const e=document.getElementById(t);if(null===e)throw new Error(`Could not find element with ID ${t}`);return e},setText:function(t,e){this.unwrapHtmlElt(t).textContent=e}};function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function ht(t,e,n){return e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}var yt=function(){return ht(function t(){ft(this,t)},[{key:"SELECT_DATA_MSG",get:function(){return this._SELECT_DATA_MSG||(this._SELECT_DATA_MSG=st.unwrapHtmlElt("select-data-msg"))}},{key:"FILTER_MSG",get:function(){return this._FILTER_MSG||(this._FILTER_MSG=st.unwrapHtmlElt("filterMSG"))}},{key:"SELECT_DATA_BODY",get:function(){return this._SELECT_DATA_BODY||(this._SELECT_DATA_BODY=st.unwrapHtmlElt("select-data-body"))}},{key:"SHOW_STATS_BODY",get:function(){return this._SHOW_STATS_BODY||(this._SHOW_STATS_BODY=st.unwrapHtmlElt("show-stats-body"))}},{key:"LOAD_DATA_BODY",get:function(){return this._LOAD_DATA_BODY||(this._LOAD_DATA_BODY=st.unwrapHtmlElt("load-data-body"))}},{key:"CLEAR_DATA_BTN",get:function(){return this._CLEAR_DATA_BTN||(this._CLEAR_DATA_BTN=st.unwrapHtmlElt("clear-data-btn"))}},{key:"UPLOAD_FORM",get:function(){return this._UPLOAD_FORM||(this._UPLOAD_FORM=st.unwrapHtmlElt("uploadForm"))}},{key:"CSV_FILE",get:function(){return this._CSV_FILE||(this._CSV_FILE=st.unwrapHtmlElt("csvFile"))}},{key:"USER_QUERY_FORM_NAME",get:function(){return this._USER_QUERY_FORM_NAME||(this._USER_QUERY_FORM_NAME=st.unwrapHtmlElt("user-query-form-name"))}},{key:"USER_QUERY_FORM_SERVER",get:function(){return this._USER_QUERY_FORM_SERVER||(this._USER_QUERY_FORM_SERVER=st.unwrapHtmlElt("user-query-form-server"))}},{key:"BATTLES_TABLE",get:function(){return this._BATTLES_TABLE||(this._BATTLES_TABLE=st.unwrapHtmlElt("BattlesTable"))}},{key:"AUTO_ZOOM_FLAG",get:function(){return this._AUTO_ZOOM_FLAG||(this._AUTO_ZOOM_FLAG=st.unwrapHtmlElt("auto-zoom-flag"))}},{key:"FOOTER_BODY",get:function(){return this._FOOTER||(this._FOOTER=st.unwrapHtmlElt("footer-body"))}},{key:"USER_NAME",get:function(){return this._USER_NAME||(this._USER_NAME=st.unwrapHtmlElt("user-name"))}},{key:"USER_ID",get:function(){return this._USER_ID||(this._USER_ID=st.unwrapHtmlElt("user-id"))}},{key:"USER_SERVER",get:function(){return this._USER_SERVER||(this._USER_SERVER=st.unwrapHtmlElt("user-server"))}},{key:"BATTLE_FILTER_TOGGLE",get:function(){return this._BATTLE_FILTER_TOGGLER||(this._BATTLE_FILTER_TOGGLER=st.unwrapHtmlElt("filter-battle-table"))}},{key:"ID_SEARCH_FLAG",get:function(){return this._ID_SEARCH_FLAG||(this._ID_SEARCH_FLAG=st.unwrapHtmlElt("id-search-flag"))}},{key:"ESCAPE_BTN",get:function(){return this._ESCAPE_BTN||(this._ESCAPE_BTN=st.unwrapHtmlElt("escape-btn"))}},{key:"SEASON_DETAILS_TBL",get:function(){return this._SEASON_DETAILS_TBL||(this._SEASON_DETAILS_TBL=st.unwrapHtmlElt("season-details-tbl"))}},{key:"SERVER_STATS_TBL",get:function(){return this._SERVER_STATS_TBL||(this._SERVER_STATS_TBL=st.unwrapHtmlElt("server-stats-tbl"))}},{key:"FIRST_PICK_STATS_TBL",get:function(){return this._FIRST_PICK_STATS_TBL||(this._FIRST_PICK_STATS_TBL=st.unwrapHtmlElt("first-pick-stats-tbl"))}},{key:"PREBAN_STATS_TBL",get:function(){return this._PREBAN_STATS_TBL||(this._PREBAN_STATS_TBL=st.unwrapHtmlElt("preban-stats-tbl"))}},{key:"PLAYER_TBL",get:function(){return this._PLAYER_TBL||(this._PLAYER_TBL=st.unwrapHtmlElt("player-tbl"))}},{key:"OPPONENT_TBL",get:function(){return this._OPPONENT_TBL||(this._OPPONENT_TBL=st.unwrapHtmlElt("opponent-tbl"))}},{key:"BATTLES_TBL",get:function(){return this._BATTLE_TBL||(this._BATTLE_TBL=st.unwrapHtmlElt("battles-tbl"))}},{key:"MESSAGE_ELEMENTS_LIST",get:function(){return[this.SELECT_DATA_MSG,this.FILTER_MSG]}}])}(),vt=function(){return ht(function t(){ft(this,t)},[{key:"SIDEBAR_HIDE_BTN",get:function(){return this._SIDEBAR_HIDE_BTN||(this._SIDEBAR_HIDE_BTN=st.unwrapHtmlElt("sidebar-hide"))}},{key:"CLEAR_DATA_BTN",get:function(){return this._CLEAR_DATA_BTN||(this._CLEAR_DATA_BTN=st.unwrapHtmlElt("clear-data-btn"))}},{key:"USER_NAME",get:function(){return this._USER_NAME||(this._USER_NAME=st.unwrapHtmlElt("user-name"))}},{key:"USER_ID",get:function(){return this._USER_ID||(this._USER_ID=st.unwrapHtmlElt("user-id"))}},{key:"USER_SERVER",get:function(){return this._USER_SERVER||(this._USER_SERVER=st.unwrapHtmlElt("user-server"))}},{key:"SIDEBAR_CONTROL",get:function(){return this._SIDEBAR_CONTROL||(this._SIDEBAR_CONTROL=st.unwrapHtmlElt("sidebar-control"))}}])}(),mt=function(){return ht(function t(){ft(this,t)},[{key:"SEARCH_DOMAINS",get:function(){return this._SEARCH_DOMAINS||(this._SEARCH_DOMAINS=st.unwrapHtmlElt("search-domains"))}},{key:"SEARCH_SUBMIT_BTN",get:function(){return this._SEARCH_SUBMIT_BTN||(this._SEARCH_SUBMIT_BTN=st.unwrapHtmlElt("search-submit-btn"))}},{key:"SEARCH_FORM",get:function(){return this._SEARCH_FORM||(this._SEARCH_FORM=st.unwrapHtmlElt("searchForm"))}},{key:"SEARCH_TABLE_CONTAINER",get:function(){return this._SEARCH_TABLE_CONTAINER||(this._SEARCH_TABLE_CONTAINER=st.unwrapHtmlElt("search-table-container"))}}])}();const _t={HOME_PAGE:new yt,NAV_BAR:new vt,SEARCH_PAGE:new mt};function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function Et(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=bt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var St=new Set(["world_kor","world_global","world_jpn","world_asia","world_eu"]),gt="world_global",wt="world_kor",Tt="world_jpn",At="world_asia",Ot="world_eu",Pt=Et(Et(Et(Et(Et({},gt,"Global"),wt,"Korea"),Tt,"Japan"),At,"Asia"),Ot,"Europe"),Rt=Et(Et(Et(Et(Et({},Pt.world_global,gt),Pt.world_kor,wt),Pt.world_jpn,Tt),Pt.world_asia,At),Pt.world_eu,Ot),It={set_speed:"Speed",set_acc:"Hit",set_cri:"Critical",set_res:"Resist",set_def:"Defense",set_att:"Attack",set_max_hp:"Health",set_cri_dmg:"Destruction",set_coop:"Unity",set_immune:"Immunity",set_rage:"Rage",set_vampire:"Lifesteal",set_shield:"Protection",set_revenge:"Revenge",set_penetrate:"Penetration",set_torrent:"Torrent",set_counter:"Counter",set_scar:"Injury"},kt=864e5,Ct={bronze:0,silver:1,gold:2,master:3,challenger:4,champion:5,warlord:6,emperor:7,legend:8},Lt={SEASON:"Season",SEASON_CODE:"Season Code",DATE_TIME:"Date/Time",SECONDS:"Seconds",TURNS:"Turns",SEQ_NUM:"Seq Num",P1_ID:"P1 ID",P1_SERVER:"P1 Server",P2_ID:"P2 ID",P2_SERVER:"P2 Server",P1_LEAGUE:"P1 League",P2_LEAGUE:"P2 League",P1_POINTS:"P1 Points",POINT_GAIN:"Point Gain",WIN:"Win",FIRST_PICK:"First Pick",FIRST_TURN:"First Turn",FIRST_TURN_HERO:"First Turn Hero",CR_BAR:"CR Bar",P1_PREBANS:"P1 Prebans",P2_PREBANS:"P2 Prebans",P1_PICKS:"P1 Picks",P2_PICKS:"P2 Picks",P1_POSTBAN:"P1 Postban",P2_POSTBAN:"P2 Postban",P1_EQUIPMENT:"P1 Equipment",P2_EQUIPMENT:"P2 Equipment",P1_ARTIFACTS:"P1 Artifacts",P2_ARTIFACTS:"P2 Artifacts",P1_MVP:"P1 MVP",P2_MVP:"P2 MVP",P1_PICKS_PRIMES:"P1 Picks Primes",P1_PICKS_PRIME_PRODUCT:"P1 Picks Prime Product",P2_PICKS_PRIMES:"P2 Picks Primes",P2_PICKS_PRIME_PRODUCT:"P2 Picks Prime Product",P1_PREBANS_PRIMES:"P1 Prebans Primes",P1_PREBANS_PRIME_PRODUCT:"P1 Prebans Prime Product",P2_PREBANS_PRIMES:"P2 Prebans Primes",P2_PREBANS_PRIME_PRODUCT:"P2 Prebans Prime Product"},Dt=[Lt.P1_EQUIPMENT,Lt.P2_EQUIPMENT,Lt.P1_ARTIFACTS,Lt.P2_ARTIFACTS,Lt.CR_BAR,Lt.P1_PREBANS,Lt.P2_PREBANS,Lt.P1_PICKS,Lt.P2_PICKS],jt=[Lt.FIRST_PICK,Lt.FIRST_TURN,Lt.WIN],Nt=[Lt.SECONDS,Lt.TURNS,Lt.P1_POINTS,Lt.POINT_GAIN],xt=[Lt.P1_LEAGUE,Lt.P2_LEAGUE],Ft="Hero Name",Mt="Battles",Gt="Pick Rate",Ut="Wins",Bt="Win rate",Ht="Postbans",Vt="Postban Rate",Kt="Success Rate",Wt="+/-",qt="Point Gain",Yt="Avg CR",zt="First Turns",Qt="First Turn Rate";var $t=function(t){for(var e=new Uint8Array(t+1),n=[],r=2;r<=t;r++)if(!e[r]){n.push(r);for(var o=r*r;o<=t;o+=r)e[o]=1}return n}(3e4);function Jt(t){var e={};for(var n in t)Array.isArray(t[n])&&t[n].length>0?e[n]=[t[n][0],"Length: ".concat(t[n].length)]:e[n]=t[n]}function Xt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Zt(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Zt(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Zt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Zt(f,"constructor",s),Zt(s,"constructor",u),u.displayName="GeneratorFunction",Zt(s,o,"GeneratorFunction"),Zt(f),Zt(f,o,"Generator"),Zt(f,r,function(){return this}),Zt(f,"toString",function(){return"[object Generator]"}),(Xt=function(){return{w:a,m:p}})()}function Zt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Zt=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Zt(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Zt(t,e,n,r)}function te(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ee(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){te(a,r,o,i,c,"next",t)}function c(t){te(a,r,o,i,c,"throw",t)}i(void 0)})}}var ne,re,oe,ae,ie,ce;const ue={test:function(t){t.rank_plot},fetchFromPython:(ce=ee(Xt().m(function t(e){var n,r;return Xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=3;break}return t.n=2,fetch(e);case 2:n=t.v;case 3:return t.n=4,n.json();case 4:return r=t.v,t.a(2,r||null)}},t)})),function(t){return ce.apply(this,arguments)}),fetchHeroData:(ie=ee(Xt().m(function t(){return Xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchFromPython("/api/get_hero_data");case 1:return t.a(2,t.v)}},t,this)})),function(){return ie.apply(this,arguments)}),rsFetchBattleData:(ae=ee(Xt().m(function t(e){return Xt().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}throw new Error("Must pass user to fetch battles data");case 1:return t.n=2,fetch("/api/rs_get_battle_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})});case 2:return t.a(2,t.v)}},t)})),function(t){return ae.apply(this,arguments)}),fetchSeasonDetails:(oe=ee(Xt().m(function t(){var e,n,r;return Xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_season_details");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return r=JSON.parse(n.seasonDetails),t.a(2,{seasonDetails:r,error:!1});case 3:return t.a(2,{seasonDetails:null,error:n.error});case 4:return t.a(2)}},t)})),function(){return oe.apply(this,arguments)}),fetchArtifactJson:(re=ee(Xt().m(function t(){var e,n,r;return Xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/api/get_artifact_json");case 1:return e=t.v,t.n=2,e.json();case 2:if(!(n=t.v).success){t.n=3;break}return r=JSON.parse(n.artifactJson),t.a(2,r);case 3:return t.a(2,null);case 4:return t.a(2)}},t)})),function(){return re.apply(this,arguments)}),fetchUser:(ne=ee(Xt().m(function t(e){var n,r,o;return Xt().w(function(t){for(;;)switch(t.n){case 0:if(e.name&&e.world_code||e.id){t.n=1;break}throw new Error("Must pass a user object with either user.name and user.world_code or user.id to fetch user");case 1:return t.n=2,fetch("/api/get_user_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userData:e})});case 2:return n=t.v,t.n=3,n.json();case 3:if(r=t.v,n.ok){t.n=4;break}throw new Error("Flask server error: ".concat(r.error));case 4:if(r.foundUser){t.n=6;break}if(e.world_code){t.n=5;break}return t.a(2,{user:null,ok:!0});case 5:return t.a(2,{user:null,ok:!0});case 6:return o=r.user,"Found user: ".concat(JSON.stringify(o)),t.a(2,{user:o,ok:!0})}},t)})),function(t){return ne.apply(this,arguments)})};function se(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return le(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fe(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return pe(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(pe(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,pe(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,pe(f,"constructor",s),pe(s,"constructor",u),u.displayName="GeneratorFunction",pe(s,o,"GeneratorFunction"),pe(f),pe(f,o,"Generator"),pe(f,r,function(){return this}),pe(f,"toString",function(){return"[object Generator]"}),(fe=function(){return{w:a,m:p}})()}function pe(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}pe=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){pe(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},pe(t,e,n,r)}function he(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function de(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){he(a,r,o,i,c,"next",t)}function c(t){he(a,r,o,i,c,"throw",t)}i(void 0)})}}function ye(t){return ve.apply(this,arguments)}function ve(){return(ve=de(fe().m(function t(e){var n,r,o;return fe().w(function(t){for(;;)switch(t.n){case 0:return t.p=0,t.n=1,fetch(e);case 1:if((n=t.v).ok){t.n=2;break}throw new Error("HTTP error: status: ".concat(n.status));case 2:return t.n=3,n.json();case 3:return r=t.v,Object.keys(r),t.a(2,r);case 4:return t.p=4,o=t.v,console.error("Error fetching global user data:",o),t.a(2,null)}},t,null,[[0,4]])}))).apply(this,arguments)}function me(){return me=de(fe().m(function t(){var e,n,r=arguments;return fe().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=r.length>0&&void 0!==r[0]?r[0]:null)?e:"all",") from E7 Server..."),t.n=1,ye("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_hero.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find hero data for language:",e),n=null),t.a(2,n)}},t)})),me.apply(this,arguments)}function _e(){return _e=de(fe().m(function t(){var e,n,r=arguments;return fe().w(function(t){for(;;)switch(t.n){case 0:return"Fetching hero data (lang=".concat(null!=(e=r.length>0&&void 0!==r[0]?r[0]:null)?e:"all",") from E7 Server..."),t.n=1,ye("https://static.smilegatemegaport.com/gameRecord/epic7/epic7_artifact.json");case 1:return n=t.v,e&&n[e]?n=n[e]:e&&!n[e]&&(console.error("Could not find artifact data for language:",e),n=null),t.a(2,n)}},t)})),_e.apply(this,arguments)}function be(){return(be=de(fe().m(function t(e){var n,r;return fe().w(function(t){for(;;)switch(t.n){case 0:if(e=e.replace("world_",""),se(St).some(function(t){return t.replace("world_","")===e})){t.n=1;break}return console.error("Could not find world code: ".concat(e)),t.a(2,null);case 1:return"Fetching users for world code: ".concat(e," from E7 Server..."),n="https://static.smilegatemegaport.com/gameRecord/epic7/epic7_user_world_".concat(e,".json"),t.n=2,ye(n);case 2:return(r=t.v)&&"Got user data for world: ".concat(e," ; Found ").concat(r.users.length," users"),t.a(2,r)}},t)}))).apply(this,arguments)}const Ee={fetchHeroJSON:function(){return me.apply(this,arguments)},fetchUserJSON:function(t){return be.apply(this,arguments)},fetchArtifactJSON:function(){return _e.apply(this,arguments)}};function Se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||ge(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){if(t){if("string"==typeof t)return we(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(t,e):void 0}}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Te(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Ae(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Ae(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Ae(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Ae(f,"constructor",s),Ae(s,"constructor",u),u.displayName="GeneratorFunction",Ae(s,o,"GeneratorFunction"),Ae(f),Ae(f,o,"Generator"),Ae(f,r,function(){return this}),Ae(f,"toString",function(){return"[object Generator]"}),(Te=function(){return{w:a,m:p}})()}function Ae(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ae=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Ae(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Ae(t,e,n,r)}function Oe(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Pe(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Oe(a,r,o,i,c,"next",t)}function c(t){Oe(a,r,o,i,c,"throw",t)}i(void 0)})}}var Re,Ie,ke,Ce,Le={getHeroManager:(Ce=Pe(Te().m(function t(){var e,n,r,o;return Te().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.HERO_MANAGER);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o=this.fetchAndCacheHeroManager();case 4:return t.a(2,o)}},t,this)})),function(){return Ce.apply(this,arguments)}),createHeroManager:function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ge(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(t.entries());try{for(n.s();!(e=n.n()).done;){var r=Se(e.value,2),o=r[0],a=r[1],i=$t[o];a.prime=i}}catch(t){n.e(t)}finally{n.f()}var c={heroes:t};return c=function(t){t.name_lookup=t.heroes.reduce(function(t,e){return t[e.name.toLowerCase().replace(/\s+/g,"")]=e,t},{}),t.prime_lookup=t.heroes.reduce(function(t,e){return t[e.prime]=e,t},{}),t.code_lookup=t.heroes.reduce(function(t,e){return t[e.code]=e,t},{});for(var e=t.heroes.reduce(function(t,e){return t[e.prime]=e.name,t},{}),n=Object.keys(t.prime_lookup).length-1,r=0;r<n-1;r++)for(var o=$t[r],a=r+1;a<n;a++){var i=$t[a],c=o*i,u=t.prime_lookup[o].name,s=t.prime_lookup[i].name;e[c]=[u,s].sort().join(", ")}return e[t.Fodder.prime*t.Fodder.prime]=[t.Fodder.name,t.Fodder.prime],t.prime_pair_lookup=e,t}(c=function(t){var e=t.heroes.length,n={attribute_cd:"N/A",code:"N/A",grade:"N/A",job_cd:"N/A",name:"Empty",prime:1},r={attribute_cd:"N/A",code:"N/A",grade:"2/3",job_cd:"N/A",name:"Fodder",prime:$t[e]};return t.heroes.push(n),t.heroes.push(r),t.Fodder=r,t.Empty=n,t}(c)),c},fetchHeroManager:(ke=Pe(Te().m(function t(){var e,n,r,o,a,i;return Te().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ee.fetchHeroJSON();case 1:if(a=e=t.v,!(o=null!==a)){t.n=2;break}o=void 0!==e;case 2:if(!o){t.n=3;break}i=e,t.n=5;break;case 3:return t.n=4,ue.fetchHeroData();case 4:i=t.v;case 5:return n=i.en,r=this.createHeroManager(n),t.a(2,r)}},t,this)})),function(){return ke.apply(this,arguments)}),fetchAndCacheHeroManager:(Ie=Pe(Te().m(function t(){var e;return Te().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.fetchHeroManager();case 1:return e=t.v,t.n=2,it.cache(it.Keys.HERO_MANAGER,e);case 2:return Jt(e),t.a(2,e)}},t,this)})),function(){return Ie.apply(this,arguments)}),deleteHeroManager:(Re=Pe(Te().m(function t(){return Te().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.HERO_MANAGER);case 1:case 2:return t.a(2)}},t)})),function(){return Re.apply(this,arguments)}),getHeroByName:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");if(!t)return e.Empty;var r=t.toLowerCase().replace(/\s+/g,"");return null!==(n=e.name_lookup[r])&&void 0!==n?n:null},getHeroByPrime:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_lookup[t]},getHeroByCode:function(t,e){var n;if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return t?null!==(n=e.code_lookup[t])&&void 0!==n?n:null:e.Empty},getPairNamesByProduct:function(t,e){if(!e)throw new Error("HeroManager instance must be passed to lookup functions");return e.prime_pair_lookup[t]}};const De=Le;function je(t){return function(t){if(Array.isArray(t))return Ne(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ne(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Me(r.key),r)}}function Me(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xe(e)?e:e+""}var Ge,Ue,Be,He=new Set(["victory-points","point-gain"]),Ve=new Set(["prebans","p1.picks","p2.picks","p1.prebans","p2.prebans"]),Ke=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=t.FIELD_EXTRACT_FN_MAP[e];if(!n)throw new Yn.ValidationError("Invalid field type: '".concat(e,"'; valid types are: ").concat(Object.keys(t.FIELD_EXTRACT_FN_MAP).join(", ")));this.str=e,this.extractData=n},(e=[{key:"asString",value:function(){return this.str}}])&&Fe(t.prototype,e),n&&Fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function We(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")(?=[,)\\s;]|$)"),e)}function qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";return new RegExp("^(?:".concat(t.source,")$"),e)}function Ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";if(t.length<1)throw new Error("orRegex must have at least one pattern");for(var n="(?:".concat(t[0].source,")"),r=1;r<t.length;r++)n+="|(?:".concat(t[r].source,")");return new RegExp(n,e)}Ge=Ke,Be={date:function(t){var e;return t[Lt.DATE_TIME]?new Date("".concat(null===(e=t[Lt.DATE_TIME])||void 0===e?void 0:e.slice(0,10),"T00:00:00")):"N/A"},season:function(t){return t[Lt.SEASON_CODE]},"is-first-pick":function(t){return t[Lt.FIRST_PICK]?1:0},"is-win":function(t){return t[Lt.WIN]?1:0},"victory-points":function(t){return t[Lt.P1_POINTS]},"p1.picks":function(t){return t[Lt.P1_PICKS]},"p2.picks":function(t){return t[Lt.P2_PICKS]},"p1.prebans":function(t){return t[Lt.P1_PREBANS]},"p2.prebans":function(t){return t[Lt.P2_PREBANS]},"p1.postban":function(t){return t[Lt.P1_POSTBAN]},"p2.postban":function(t){return t[Lt.P2_POSTBAN]},prebans:function(t){return[].concat(je(t[Lt.P1_PREBANS]),je(t[Lt.P2_PREBANS]))},"p1.pick1":function(t){return t[Lt.P1_PICKS][0]},"p1.pick2":function(t){return t[Lt.P1_PICKS][1]},"p1.pick3":function(t){return t[Lt.P1_PICKS][2]},"p1.pick4":function(t){return t[Lt.P1_PICKS][3]},"p1.pick5":function(t){return t[Lt.P1_PICKS][4]},"p2.pick1":function(t){return t[Lt.P2_PICKS][0]},"p2.pick2":function(t){return t[Lt.P2_PICKS][1]},"p2.pick3":function(t){return t[Lt.P2_PICKS][2]},"p2.pick4":function(t){return t[Lt.P2_PICKS][3]},"p2.pick5":function(t){return t[Lt.P2_PICKS][4]},"p1.league":function(t){return t[Lt.P1_LEAGUE]},"p2.league":function(t){return t[Lt.P2_LEAGUE]},"p1.server":function(t){return t[Lt.P1_SERVER]},"p2.server":function(t){return t[Lt.P2_SERVER]},"p1.id":function(t){return Number(t[Lt.P1_ID])},"p2.id":function(t){return Number(t[Lt.P2_ID])},"p1.mvp":function(t){return t[Lt.P1_MVP]},"p2.mvp":function(t){return t[Lt.P2_MVP]},"is-first-turn":function(t){return t[Lt.FIRST_TURN]},"first-turn-hero":function(t){return t[Lt.FIRST_TURN_HERO]},turns:function(t){return t[Lt.TURNS]},seconds:function(t){return t[Lt.SECONDS]},"point-gain":function(t){return t[Lt.POINT_GAIN]}},(Ue=Me(Ue="FIELD_EXTRACT_FN_MAP"))in Ge?Object.defineProperty(Ge,Ue,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ge[Ue]=Be;var ze=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Qe=Object.keys(Ke.FIELD_EXTRACT_FN_MAP),$e=new RegExp("^(?:".concat(Qe.map(ze).join("|"),")"),"i"),Je=new RegExp("(?:".concat(["and","or","xor","not"].map(ze).join("|"),")(?=\\()"),"i"),Xe=new RegExp("(?:".concat(["last-n"].map(ze).join("|"),")(?=\\()"),"i"),Ze=new RegExp("(?:".concat(["p1.equipment","p2.equipment","p1.artifact","p2.artifact","p1.cr-geq","p2.cr-geq","p1.cr-lt","p2.cr-lt"].map(ze).join("|"),")(?=\\()"),"i"),tn=Ye([Je,Xe,Ze]),en=/.*/i,nn=/\d{4}-\d{2}-\d{2}/,rn=/\{\s*\}/,on=/-?\d+/,an=/season-[1-9]+[0-9]*f?|current-season/i,cn=new RegExp("^".concat(nn.source,"$"),"i"),un=new RegExp("(?:".concat(an.source,")"),"i"),sn=en.source,ln=on.source,fn=nn.source,pn=$e.source,hn=un.source,dn=new RegExp('"('.concat(sn,")\"|'(").concat(sn,")'"),"i"),yn=new RegExp(qe(dn),"i"),vn=dn.source,mn=new RegExp("(?:".concat(vn,"|").concat(sn,"|").concat(fn,")"),"i"),_n=new RegExp("(?:".concat(pn,"|").concat(hn,")"),"i"),bn=mn.source,En=new RegExp("\\{\\s*(?:".concat(bn,"\\s*)(?:,\\s*").concat(bn,"\\s*)*,?\\s*\\}|").concat(rn.source),"i"),Sn=new RegExp("".concat(ln,"\\.\\.\\.").concat(ln,"|").concat(fn,"\\.\\.\\.").concat(fn,"|").concat(ln,"\\.\\.\\.=").concat(ln,"|").concat(fn,"\\.\\.\\.=").concat(fn)),gn=new RegExp("^".concat(Sn.source,"$"));var wn={VALID_STRING_RE:en,VALID_DATE_RE:nn,VALID_INT_RE:on,EMPTY_SET_RE:rn,SET_ELEMENT_RE:mn,VALID_SET_RE:En,VALID_STRING_LITERAL_RE:yn,VALID_DATE_LITERAL_RE:cn,VALID_INT_LITERAL_RE:/^-?\d+$/,VALID_BOOL_LITERAL_RE:/^(true|false)$/i,VALID_RANGE_RE:Sn,VALID_RANGE_LITERAL_RE:gn,VALID_SEASON_RE:an,VALID_SEASON_LITERAL_RE:qe(an),VALID_DATA_WORD_RE:un,VALID_DATA_WORD_LITERAL_RE:qe(un),VALID_FIELD_WORD_RE:$e,VALID_DATAFIELD_RE:_n,VALID_GLOBAL_FILTER_RE:/last-n\(\d+\)/i,ANCHORED_STR_LITERAL_RE:qe(yn),VALID_CLAUSE_FUNCTIONS_RE:Je,VALID_DIRECT_FUNCTIONS_RE:Ze,VALID_GLOBAL_FUNCTIONS_RE:Xe,VALID_FUNCTIONS_RE:tn,padRegex:We,anchorExp:qe,tokenMatch:function(t){return t.match(tn)?"keyword":t.match(/\s+(?:!=|<|>|=|>=|<=|in|!in)(?=\s+)/i)?"operator":t.match(new RegExp("[a-z0-9.\"'}=)-]".concat(_n.source,"(?=[,)\\s;]|$)"),"i"))?null:t.match(We($e))?"field":t.match(We(un))?"declared-data":t.match(We(dn))?"string":t.match(We(En))?"set":t.match(We(Sn))?"range":t.match(/[^(,\s;.=0-9\-]+\d+/i)?null:t.match(We(on))||t.match(We(nn))||t.match(/(?:^|\s)(?:true|false)(?=[,)\s;]|$)/i)?"declared-data":t.match(/[\(\)\{\}\;\,]/)?"bracket":(t.next(),null)},orRegex:Ye,escapeRegex:ze};function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function An(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||Rn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(t){return function(t){if(Array.isArray(t))return In(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Rn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Rn(t,e){if(t){if("string"==typeof t)return In(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ln(r.key),r)}}function Cn(t,e,n){return e&&kn(t.prototype,e),n&&kn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ln(t){var e=function(t,e){if("object"!=Tn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tn(e)?e:e+""}function Dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e,n){return e=Gn(e),function(t,e){if(e&&("object"==Tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fn()?Reflect.construct(e,n||[],Gn(t).constructor):e.apply(t,n))}function Nn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}function xn(t){var e="function"==typeof Map?new Map:void 0;return xn=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(Fn())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Mn(o,n.prototype),o}(t,arguments,Gn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mn(n,t)},xn(t)}function Fn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fn=function(){return!!t})()}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Un=function(t){function e(t){var n;return Dn(this,e),(n=jn(this,e,[t])).name="Filter Syntax Exception",n}return Nn(e,t),Cn(e)}(xn(Error)),Bn=function(t){function e(t){var n;return Dn(this,e),(n=jn(this,e,[t])).name="Filter Type Exception",n}return Nn(e,t),Cn(e)}(xn(Error)),Hn=function(t){function e(t){var n;return Dn(this,e),(n=jn(this,e,[t])).name="Filter Validation Error",n}return Nn(e,t),Cn(e)}(xn(Error));var Vn={"(":")","{":"}",'"':'"',"'":"'"},Kn={"'":'"','"':"'"},Wn=Object.fromEntries(Object.entries(Vn).filter(function(t){var e=An(t,2);return e[0]!==e[1]}).map(function(t){var e=An(t,2),n=e[0];return[e[1],n]}));function qn(t){var e,n={},r=Pn(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o]=(n[o]||0)+1}}catch(t){r.e(t)}finally{r.f()}return n}const Yn={SyntaxException:Un,TypeException:Bn,ValidationError:Hn,retrieveEnclosure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:")";if(e===n)throw new Error("Enclosure characters must be different: ".concat(e," = ").concat(n));var r,o=!1,a=0,i="",c=Pn(On(t).entries());try{for(c.s();!(r=c.n()).done;){var u=An(r.value,2),s=u[0],l=u[1];if(l===e){if(a+=1,!o){o=!0;continue}}else l===n&&(a-=1);if(0===a&&o){if(s!=t.length-1)throw new Un("Enclosure should not be resolved before end of string; resolved at index: ".concat(s,"; input string: ").concat(t));return i}if(a<0)throw new Un("Unbalanced enclosure at index: ".concat(s," of input string: ").concat(t,'; balance of "').concat(e,"...").concat(n,'" enclosures became negative.'));o&&(i+=l)}}catch(t){c.e(t)}finally{c.f()}if(!o)throw new Un("Enclosure of type ".concat(e,"...").concat(n," not found in string; input string: ").concat(t));if(a>0)throw new Un("Enclosure could not be resolved; too many '".concat(n,"'; balance = +{count}; input string {string}"))},retrieveArgs:function(t){var e,n=0,r=[],o="",a=Pn(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;if("("===i){if(1===(n+=1))continue}else")"===i&&(n-=1);1===n&&","===i?(r.push(o.trim()),o=""):n>=1&&(o+=i)}}catch(t){a.e(t)}finally{a.f()}return o.trim()&&r.push(o.trim()),r},getCharCounts:qn,tokenizeWithNestedEnclosures:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],a="",i=[],c=0;c<t.length;c++){var u=t[c];if(e.includes(u)&&i.length===n)a&&(o.push(r?a.trim():a),a="");else if(Wn[u]){var s=Wn[u];if(i.length>n&&(a+=u),i[i.length-1]!==s){var l=qn(t);throw(l["'"]||0)%2!=0||(l['"']||0)%2!=0?new Un("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"' ; if a str type has quote characters in it, wrap it in the opposite quote character.")):new Un("Error tokenizing: Unbalanced closing character at position ".concat(c,"; got string: '").concat(t,"'"))}i.pop()}else i.length>=n&&(a+=u),!Vn[u]||Kn[u]&&i[i.length-1]===Kn[u]||(i[i.length-1]===Vn[u]&&u===Vn[u]?i.pop():i.push(u))}if(i.length>0)throw new Error("Unbalanced enclosures in input string; unresolved characters from enclosure stack: [ ".concat(i.join(", ")," ]"));return a&&o.push(r?a.trim():a),o},parseDate:function(t){if(!wn.VALID_DATE_LITERAL_RE.test(t))throw new Un("Invalid date; must be in the format: YYYY-MM-DD ( regex: ".concat(wn.VALID_DATE_LITERAL_RE.source," ); got: '").concat(t,"'"));var e=t.split(" ")[0],n=new Date("".concat(e,"T00:00:00"));if(isNaN(n.getTime()))throw new Un("Invalid date; could not be parsed as a valid date; got: '".concat(t,"'"));var r=An(n.toISOString().split("T")[0].split("-").map(Number),3),o=r[0],a=r[1],i=r[2];if(n.getFullYear()!==o||n.getMonth()+1!==a||n.getDate()!==i)throw new Un("Invalid date; parsed date: ".concat(n.toISOString()," does not match passed in string: ").concat(e));return"Parsed date: ".concat(n.toISOString()," ; ").concat(n.constructor.name),n},tryConvert:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===r&&(r="Could not convert ".concat(n," to ").concat(e));try{return t(n)}catch(t){throw new Bn("".concat(r,": ").concat(t.message))}},trimSurroundingQuotes:function(t){return t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}};function zn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Qn(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Qn(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Qn(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Qn(f,"constructor",s),Qn(s,"constructor",u),u.displayName="GeneratorFunction",Qn(s,o,"GeneratorFunction"),Qn(f),Qn(f,o,"Generator"),Qn(f,r,function(){return this}),Qn(f,"toString",function(){return"[object Generator]"}),(zn=function(){return{w:a,m:p}})()}function Qn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Qn=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Qn(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Qn(t,e,n,r)}function $n(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Jn(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){$n(a,r,o,i,c,"next",t)}function c(t){$n(a,r,o,i,c,"throw",t)}i(void 0)})}}var Xn,Zn,tr,er={fetchAndCacheSeasonDetails:(tr=Jn(zn().m(function t(){var e,n,r,o,a,i,c;return zn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,ue.fetchSeasonDetails();case 1:if(!(e=t.v).error){t.n=2;break}throw new Error("Could not fetch season details: ".concat(e.error));case 2:return(n=e.seasonDetails).forEach(function(t){t.range=[t.Start,t.End].map(function(t){return new Date("".concat(t.split(" ")[0],"T00:00:00"))}),t["Season Number"]=String(t["Season Number"])}),n.sort(function(t,e){return parseInt(t["Season Number"])-parseInt(e["Season Number"])}),r=[n[0]],o=n[0],n.slice(1).forEach(function(t){var e=new Date(+o.range[1]+kt),n=new Date(+t.range[0]-kt),a=o["Season Number"]+"f",i={"Season Number":a,Code:"pvp_rta_ss"+a,Season:"Pre ".concat(t.Season),Start:e.toISOString().slice(0,10),End:n.toISOString().slice(0,10),Status:"Complete",range:[e,n]};r.push(i),r.push(t),o=t}),o.range[1]<new Date&&(a=new Date(+r.at(-1).range[1]+kt),i=o["Season Number"]+"f",c={"Season Number":i,Code:"pvp_rta_ss"+i,Season:"Active Pre-Season",Start:a.toISOString().slice(0,10),End:"N/A",Status:"Active",range:[a,new Date]},r.push(c)),r.reverse(),t.n=3,it.cache(it.Keys.SEASON_DETAILS,r);case 3:return t.a(2,r)}},t)})),function(){return tr.apply(this,arguments)}),getSeasonDetails:(Zn=Jn(zn().m(function t(){var e,n,r,o;return zn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.SEASON_DETAILS);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,er.fetchAndCacheSeasonDetails();case 4:o=t.v;case 5:return t.a(2,o)}},t)})),function(){return Zn.apply(this,arguments)}),clearSeasonDetails:(Xn=Jn(zn().m(function t(){return zn().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.SEASON_DETAILS);case 1:case 2:return t.a(2)}},t)})),function(){return Xn.apply(this,arguments)})};const nr=er;function rr(t){throw new TypeError('"'+t+'" is read-only')}function or(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ar(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ar(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ir(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return cr(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(cr(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,cr(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,cr(f,"constructor",s),cr(s,"constructor",u),u.displayName="GeneratorFunction",cr(s,o,"GeneratorFunction"),cr(f),cr(f,o,"Generator"),cr(f,r,function(){return this}),cr(f,"toString",function(){return"[object Generator]"}),(ir=function(){return{w:a,m:p}})()}function cr(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}cr=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){cr(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},cr(t,e,n,r)}function ur(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function sr(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){ur(a,r,o,i,c,"next",t)}function c(t){ur(a,r,o,i,c,"throw",t)}i(void 0)})}}function lr(){return fr.apply(this,arguments)}function fr(){return(fr=sr(ir().m(function t(){var e;return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ee.fetchArtifactJSON("en");case 1:if(null!==(e=t.v)){t.n=3;break}return t.n=2,ue.fetchArtifactJson();case 2:rr("rawJSON");case 3:if(null!==e){t.n=4;break}return console.error("Could not get artifact Json map from E7 server or flask server"),t.a(2,null);case 4:return t.a(2,Object.fromEntries(e.filter(function(t){return null!==t.name}).map(function(t){return[t.code,t.name]})))}},t)}))).apply(this,arguments)}var pr,hr,dr,yr,vr;const mr={getArtifacts:(vr=sr(ir().m(function t(){var e,n,r,o;return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.ARTIFACTS);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=5;break;case 3:return t.n=4,this.fetchAndCacheArtifacts();case 4:o=t.v;case 5:return t.a(2,o)}},t,this)})),function(){return vr.apply(this,arguments)}),getArtifactLowercaseNameMap:(yr=sr(ir().m(function t(){var e,n;return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=Object.fromEntries(Object.values(n).filter(function(t){return null!==t}).map(function(t){return[t.toLowerCase(),t]})),t.n=4,it.cache(it.Keys.ARTIFACTS_LOWERCASE_NAMES_MAP,e);case 4:return t.a(2,e)}},t,this)})),function(){return yr.apply(this,arguments)}),getArtifactObjectList:(dr=sr(ir().m(function t(){var e,n;return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.ARTIFACT_OBJECT_LIST);case 1:if(null===(e=t.v)){t.n=2;break}return t.a(2,e);case 2:return t.n=3,this.getArtifacts();case 3:return n=t.v,e=Object.entries(n).map(function(t){var e=or(t,2);return{id:e[0],name:e[1]}}),t.n=4,it.cache(it.Keys.ARTIFACT_OBJECT_LIST,e);case 4:return t.a(2,e)}},t,this)})),function(){return dr.apply(this,arguments)}),fetchAndCacheArtifacts:(hr=sr(ir().m(function t(){var e;return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,lr();case 1:return e=t.v,t.n=2,it.cache(it.Keys.ARTIFACTS,e);case 2:return t.a(2,e)}},t)})),function(){return hr.apply(this,arguments)}),clearArtifactData:(pr=sr(ir().m(function t(){return ir().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.ARTIFACTS);case 1:return t.a(2)}},t)})),function(){return pr.apply(this,arguments)}),convertCodeToName:function(t,e){return e[t]||t}};var _r=new Set("'\"(),_-.=; ><!1234567890{}abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),br=Object.fromEntries(Object.values(It).map(function(t){return[t.toLowerCase(),t]}));function Er(t){return function(t){if(Array.isArray(t))return Tr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||wr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function wr(t,e){if(t){if("string"==typeof t)return Tr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(t,e):void 0}}function Tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ar(t,e,n){return e=Pr(e),function(t,e){if(e&&("object"==kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Or()?Reflect.construct(e,n||[],Pr(t).constructor):e.apply(t,n))}function Or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Or=function(){return!!t})()}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}function Rr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}function Ir(t,e){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ir(t,e)}function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jr(r.key),r)}}function Dr(t,e,n){return e&&Lr(t.prototype,e),n&&Lr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jr(t){var e=function(t,e){if("object"!=kr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kr(e)?e:e+""}function Nr(t,e){var n=t.split("-")[1],r=e.find(function(t){return t["Season Number"]===n});if(!r)throw new Error("Invalid season specified; ".concat(n," is not a valid season number; failed on str: '").concat(t,"'"));return r}var xr=function(){return Dr(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Cr(this,t),this.rawString=e,this.data=this.getData(e,n,r)},[{key:"asString",value:function(){return"".concat(this.data)}}])}(),Fr=["hero","league","server","equipment","artifact","season-code"],Mr=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n=null!=n?n:{types:Fr},t=(t=Yn.trimSurroundingQuotes(t)).trim(),"Parsing string: [".concat(t,"] with types: [").concat(n.types,"]"),!wn.VALID_STRING_RE.test(t))throw new Yn.SyntaxException("Invalid string; all string content must start with a letter followed by either num, hyphen or period ( case insensitive regex: ".concat(wn.VALID_STRING_LITERAL_RE.source," ); got: [").concat(t,"]"));function r(t,n){var r,o;switch(t){case"hero":return null===(r=De.getHeroByName(n,e.HM))||void 0===r?void 0:r.name;case"league":return Ct[n]?ct(n):null;case"server":return Object.values(Pt).find(function(t){return t.toLowerCase()===n});case"equipment":return br[n];case"artifact":return e.ARTIFACT_LOWERCASE_STRINGS_MAP[n];case"season-code":return null===(o=e.SeasonDetails.find(function(t){return t.Code===n}))||void 0===o?void 0:o.Code}}var o,a=gr(n.types);try{for(a.s();!(o=a.n()).done;){var i=o.value,c=r(i,t);if(c)return"Parsed string: [".concat(t,"] to [").concat(c,"] with type: [").concat(i,"]"),c}}catch(t){a.e(t)}finally{a.f()}throw new Yn.SyntaxException("Invalid string; All strings must either be a valid [".concat(n.types.join(", "),"]; got: [").concat(t,"]"))}},{key:"asString",value:function(){return'"'.concat(this.data,'"')}}])}(xr),Gr=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getData",value:function(t){return Yn.parseDate(t)}},{key:"asString",value:function(){return"".concat(this.rawString)}}])}(xr),Ur=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getData",value:function(t){if(!wn.VALID_INT_LITERAL_RE.test(t))throw new Yn.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));var e=parseInt(t);if(isNaN(e))throw new Yn.SyntaxException("Invalid integer; must be a number; got: '".concat(t,"'"));return e}},{key:"asString",value:function(){return"".concat(this.data)}}])}(xr),Br=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getData",value:function(t){if(!wn.VALID_BOOL_LITERAL_RE.test(t))throw new Yn.SyntaxException("Invalid boolean; must be 'true' or 'false'; got: '".concat(t,"'"));return"true"===t?1:0}},{key:"asString",value:function(){return"".concat(this.data?"true":"false")}}])}(xr),Hr=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getData",value:function(t){var e=t.split("...");if(2!==e.length)throw new Yn.SyntaxException("Invalid range; ranges must be of the format x...y or x...=y ; got more than two values when splitting string: '".concat(t,"'"));var n=Sr(e,2),r=n[0],o=n[1],a=!1;o.includes("=")&&(o=o.replace("=",""),a=!0);var i={start:null,end:null,endInclusive:a};if(wn.VALID_DATE_LITERAL_RE.test(r)){if(i.start=Yn.tryConvert(Yn.parseDate,"Date",r,"Could not convert '".concat(r,"' to Date in declared range: '").concat(t,"'")),i.end=Yn.tryConvert(Yn.parseDate,"Date",o,"Could not convert '".concat(o,"' to Date in declared range: '").concat(t,"' ; Ranges must have homogenous types")),i.start>i.end)throw new Yn.SyntaxException("Invalid range; start date must be on or before end date; ".concat(i.start," > ").concat(i.end));i.type="Date"}else{if(!wn.VALID_INT_LITERAL_RE.test(r))throw new Yn.SyntaxException("Invalid range; must be of the format x...y or x...=y ; got: '".concat(t,"'"));if(i.start=Yn.tryConvert(function(t){return new Ur(t)},"Int",r,"Could not convert '".concat(r,"' to Int in declared range: '").concat(t,"'")).data,i.end=Yn.tryConvert(function(t){return new Ur(t)},"Int",o,"Could not convert '".concat(o,"' to Int in declared range: '").concat(t,"' ; Ranges must have homogenous types")).data,i.start>i.end)throw new Yn.SyntaxException("Invalid range; start integer must be equal to or less than end integer; ".concat(i.start," > ").concat(i.end));i.type="Int"}return"Built Range: ".concat(JSON.stringify(i)),i}},{key:"asString",value:function(){var t=this.data.endInclusive?"...=":"...";return"Date"===this.data.type?"".concat(this.data.start.toISOString().slice(0,10)).concat(t).concat(this.data.end.toISOString().slice(0,10)):"Int"===this.data.type?"".concat(this.data.start).concat(t).concat(this.data.end):"Error Converting Range to String => < ".concat(this.data.start).concat(t).concat(this.data.end," >")}}])}(xr),Vr=function(t){function e(){return Cr(this,e),Ar(this,e,arguments)}return Rr(e,t),Dr(e,[{key:"getType",value:function(t){var e,n=new Set,r=gr(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.add(o.constructor.name)}}catch(t){r.e(t)}finally{r.f()}if((n=Er(n)).length>1)throw new Yn.SyntaxException("Invalid set; all set elements must have the same data type; \n                got: types: [".concat(n.join(", "),"]"));return n[0]}},{key:"getData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!wn.VALID_SET_RE.test(t))throw new Yn.SyntaxException("Invalid set; must be in the format: { element1, element2,... }, where elements have either string format or date format; ( case insensitive regex: ".concat(wn.VALID_SET_RE.source," ) (Just chat gpt this one bro); got: '").concat(t,"'"));var r=Yn.tokenizeWithNestedEnclosures(t,",",1,!0).map(function(t){if(wn.VALID_SEASON_LITERAL_RE.test(t)){var r=Nr(t,e.SeasonDetails);return new Mr(r.Code,e,{types:["season-code"]})}if(wn.VALID_DATE_LITERAL_RE.test(t))return new Gr(t);if(wn.VALID_STRING_RE.test(t))return new Mr(t,e,n);throw new Yn.SyntaxException("Invalid set element; must be a string or date; got: '".concat(t,"'"))});return this.type=this.getType(r),this.str="{".concat(r.map(function(t){return t.asString()}).join(", "),"}"),this.list=r.map(function(t){return t.data}),new Set(this.list)}},{key:"asString",value:function(){return this.str}}])}(xr);function Kr(t,e){if("Trying to Parse DataType: ".concat(t),wn.VALID_STRING_LITERAL_RE.test(t))return new Mr(t,e);if(wn.VALID_DATE_LITERAL_RE.test(t))return new Gr(t);if(wn.VALID_INT_LITERAL_RE.test(t))return new Ur(t);if(wn.VALID_BOOL_LITERAL_RE.test(t))return new Br(t);if(/\{.*\}/.test(t))return new Vr(t,e);if(wn.VALID_RANGE_LITERAL_RE.test(t))return new Hr(t);if(wn.VALID_DATA_WORD_LITERAL_RE.test(t))return function(t,e){if(wn.VALID_SEASON_LITERAL_RE.test(t)){if(e.SeasonDetails.length<1)throw new Error("Did not recieve any season details; failed on: '".concat(t,"'"));if("current-season"===t){var n=e.SeasonDetails.find(function(t){return"Active"===t.Status}).Code;return new Mr(n,e,{types:["season-code"]})}var r=Nr(t,e.SeasonDetails);return new Mr(r.Code,e,{types:["season-code"]})}throw new Error("Unrecognized keyword: '".concat(t,"'"))}(t,e);if(wn.VALID_STRING_LITERAL_RE.test("'".concat(t,"'")))throw new Yn.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you forget to wrap string literals in double or single quotes?"));if(t.includes("'")&&t.includes('"'))throw new Yn.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; did you encase in mismatching quote types?"));if(t.includes(".=")||t.includes(".."))throw new Yn.SyntaxException("Invalid DataType declaration; got: '".concat(t,"'; were you trying to use a range? Ranges must be of the format x...y or x...=y and may only be int-int or date-date"));throw new Yn.SyntaxException("Invalid DataType declaration; could not parse to valid Field or Declared Data Type; got: '".concat(t,"'"))}var Wr={Date:Gr,String:Mr,Int:Ur,Bool:Br,Set:Vr,Range:Hr};function qr(t){return function(t){if(Array.isArray(t))return Qr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||zr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||zr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(t,e){if(t){if("string"==typeof t)return Qr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(t,e):void 0}}function Qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $r(t,e,n){return e=Xr(e),function(t,e){if(e&&("object"==eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jr()?Reflect.construct(e,n||[],Xr(t).constructor):e.apply(t,n))}function Jr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Jr=function(){return!!t})()}function Xr(t){return Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xr(t)}function Zr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}function to(t,e){return to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},to(t,e)}function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ao(r.key),r)}}function oo(t,e,n){return e&&ro(t.prototype,e),n&&ro(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ao(t){var e=function(t,e){if("object"!=eo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eo(e)?e:e+""}var io=function(){return oo(function t(){no(this,t)},[{key:"call",value:function(t){throw new Error("Base class ".concat(this.constructor.name," does not implement the 'call' method. Implement this method in a subclass."))}}])}(),co=function(t){function e(t){var n;if(no(this,e),(n=$r(this,e)).name="last-N",1!==t.length)throw new Yn.SyntaxException("".concat(n.name," expects 1 argument, got ").concat(t.length));var r=Number(t[0]);if(!Number.isInteger(r))throw new Yn.TypeException("".concat(n.name," expects an integer argument, could not parse '").concat(t[0],"' as integer"));return n.str="".concat(n.name,"(").concat(r,")"),n.n=r,n}return Zr(e,t),oo(e,[{key:"call",value:function(t){return t.sort(function(t,e){return t["Seq Num"]-e["Seq Num"]}),t.slice(-this.n)}}])}(function(t){function e(){return no(this,e),$r(this,e)}return Zr(e,t),oo(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(io)),uo=function(t){function e(t){var n;return no(this,e),(n=$r(this,e)).fns=t,n}return Zr(e,t),oo(e,[{key:"asString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="",n=t+"   ";return this.fns.localFilters.forEach(function(t){return e+="".concat(t.asString(n),",\n")}),"".concat(t).concat(this.str,"(\n").concat(e.trimEnd(),"\n").concat(t,")")}}])}(io),so=function(t){function e(t){var n;return no(this,e),(n=$r(this,e,[t])).str="AND",n}return Zr(e,t),oo(e,[{key:"call",value:function(t){return this.fns.localFilters.every(function(e){return e.call(t)})}}])}(uo),lo=function(t){function e(t){var n;return no(this,e),(n=$r(this,e,[t])).str="OR",n}return Zr(e,t),oo(e,[{key:"call",value:function(t){return this.fns.localFilters.some(function(e){return e.call(t)})}}])}(uo),fo=function(t){function e(t){var n;return no(this,e),(n=$r(this,e,[t])).str="XOR",n}return Zr(e,t),oo(e,[{key:"call",value:function(t){var e,n=!1,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this.fns.localFilters);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=!n&&o.call(t)||n&&!o.call(t)}}catch(t){r.e(t)}finally{r.f()}return n}}])}(uo),po=function(t){function e(t){var n;return no(this,e),(n=$r(this,e,[t])).str="NOT",n}return Zr(e,t),oo(e,[{key:"call",value:function(t){return!this.fns.localFilters[0].call(t)}}])}(uo),ho=function(t){function e(){return no(this,e),$r(this,e,arguments)}return Zr(e,t),oo(e,[{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}(io);var yo=function(t){function e(t,n,r){var o;return no(this,e),(o=$r(this,e)).hero=t.data,o.equipmentCounts=ut(n.list),o.str=(r?"p1":"p2")+".equipment(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return Zr(e,t),oo(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Equipment"]:t["P2 Equipment"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);if(!r)return!1;var o=ut(r);return Object.entries(this.equipmentCounts).every(function(t){var e=Yr(t,2),n=e[0],r=e[1];return o[n]===r})}}],[{key:"fromFilterStr",value:function(t,n){var r=Yn.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==r.length)throw new Yn.SyntaxException("Invalid equipment function call ; accepts exactly 2 arguments ; got: [".concat(r,"] from str: ").concat(t));if(!wn.VALID_STRING_LITERAL_RE.test(r[0]))throw new Yn.TypeException("Invalid equipment function call ; first argument must be a valid string literal ; got: '".concat(r[0],"' from str: ").concat(t));var o=/^\{[",'a-z\s]*\}$/i.test(r[1])?r[1]:"{".concat(r[1],"}"),a=null,i=null;try{a=new Wr.String(r[0],n,{types:["hero"]}),i=new Wr.Set(o,n,{types:["equipment"]})}catch(e){throw new Yn.TypeException("Invalid type in equipment function call; got str: ".concat(t," ; error: ").concat(e))}var c="p1"===t.split(".")[0];return new e(a,i,c)}}])}(ho);var vo=function(t){function e(t,n,r){var o;return no(this,e),(o=$r(this,e)).hero=t.data,o.artifactArr=qr(n.data),o.str=(r?"p1":"p2")+".artifact(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return Zr(e,t),oo(e,[{key:"call",value:function(t){var e=this.isPlayer1?t["P1 Artifacts"]:t["P2 Artifacts"],n=this.isPlayer1?t["P1 Picks"]:t["P2 Picks"],r=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}(this.hero,n,e);return"Got equipped Artifact: ".concat(r,", hero: ").concat(this.hero,", picks: ").concat(JSON.stringify(n),", artifacts: ").concat(JSON.stringify(e)),!!r&&this.artifactArr.some(function(t){return r.toLowerCase()===t.toLowerCase()})}}],[{key:"fromFilterStr",value:function(t,n){var r=Yn.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==r.length)throw new Yn.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(r,"] from str: ").concat(t));if(!wn.anchorExp(wn.VALID_STRING_LITERAL_RE).test(r[0]))throw new Yn.TypeException("Invalid artifact function call ; first argument must be a valid string literal ; got: '".concat(r[0],"' from str: ").concat(t));var o=wn.VALID_SET_RE.test(r[1])?r[1]:"{".concat(r[1],"}"),a=null,i=null;try{a=new Wr.String(r[0],n,{types:["hero"]}),i=new Wr.Set(o,n,{types:["artifact"]})}catch(e){throw console.error(e),new Yn.TypeException("Invalid type in artifact function call; got str: ".concat(t," ; error: ").concat(e))}var c="p1"===t.split(".")[0];return new e(a,i,c)}}])}(ho),mo=function(t){function e(t,n,r){var o;return no(this,e),t.asString(),n.asString(),(o=$r(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-GEQ(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return Zr(e,t),oo(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]>=e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[Lt.CR_BAR].find(function(e){return n(e,t[Lt.P1_PICKS])}):t[Lt.CR_BAR].find(function(e){return n(e,t[Lt.P2_PICKS])});return"Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold),!!r}}],[{key:"fromFilterStr",value:function(t,n){var r=Yn.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==r.length)throw new Yn.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(r,"] from str: ").concat(t));if(!wn.VALID_STRING_LITERAL_RE.test(r[0]))throw new Yn.TypeException("Invalid CR-GEQ function call ; first argument must be a valid string literal ; got: '".concat(r[0],"' from str: ").concat(t));if(!wn.VALID_INT_LITERAL_RE.test(r[1]))throw new Yn.TypeException("Invalid CR-GEQ function call ; second argument must be a valid integer literal ; got: '".concat(r[1],"' from str: ").concat(t));var o=r[1],a=null,i=null;try{a=new Wr.String(r[0],n,{types:["hero"]}),i=new Wr.Int(o)}catch(e){throw new Yn.TypeException("Invalid type in CR-GEQ function call; got str: ".concat(t," ; error: ").concat(e))}var c="p1"===t.split(".")[0];return new e(a,i,c)}}])}(ho),_o=function(t){function e(t,n,r){var o;return no(this,e),t.asString(),n.asString(),(o=$r(this,e)).hero=t.data,o.crThreshold=n.data,o.str=(r?"p1":"p2")+".CR-LT(".concat(t.asString(),", ").concat(n.asString(),")"),o.isPlayer1=r,o}return Zr(e,t),oo(e,[{key:"call",value:function(t){var e=this,n=function(t,n){return n.includes(t[0])&&t[1]<e.crThreshold&&t[0]===e.hero},r=this.isPlayer1?t[Lt.CR_BAR].find(function(e){return n(e,t[Lt.P1_PICKS])}):t[Lt.CR_BAR].find(function(e){return n(e,t[Lt.P2_PICKS])});return"Got CR Result: ".concat(r,", hero: ").concat(this.hero,", minValue: ").concat(this.crThreshold),!!r}}],[{key:"fromFilterStr",value:function(t,n){var r=Yn.tokenizeWithNestedEnclosures(t,",",1,!0);if(2!==r.length)throw new Yn.SyntaxException("Invalid artifact function call ; accepts exactly 2 arguments ; got: [".concat(r,"] from str: ").concat(t));if(!wn.VALID_STRING_LITERAL_RE.test(r[0]))throw new Yn.TypeException("Invalid CR-LT function call ; first argument must be a valid string literal ; got: '".concat(r[0],"' from str: ").concat(t));if(!wn.VALID_INT_LITERAL_RE.test(r[1]))throw new Yn.TypeException("Invalid CR-LT function call ; second argument must be a valid integer literal ; got: '".concat(r[1],"' from str: ").concat(t));var o=r[1],a=null,i=null;try{a=new Wr.String(r[0],n,{types:["hero"]}),i=new Wr.Int(o)}catch(e){throw new Yn.TypeException("Invalid type in CR-LT function call; got str: ".concat(t," ; error: ").concat(e))}var c="p1"===t.split(".")[0];return new e(a,i,c)}}])}(ho),bo={and:so,or:lo,xor:fo,not:po,"last-n":co,"p1.equipment":yo,"p2.equipment":yo,"p1.artifact":vo,"p2.artifact":vo,"p1.cr-geq":mo,"p2.cr-geq":mo,"p1.cr-lt":_o,"p2.cr-lt":_o};function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function So(t,e){if(e instanceof Set)return e.has(t);if("object"===Eo(e)&&null!==e&&!Array.isArray(e)&&["start","end","endInclusive","type"].every(function(t){return e.hasOwnProperty(t)}))return t>=e.start&&(e.endInclusive?t<=e.end:t<e.end);if(Array.isArray(e))return e.includes(t);throw new Error("Invalid match pattern for 'in' operators; got: '".concat(t,"' and '").concat(JSON.stringify(e),"}' (").concat(e.constructor.name,")"))}var go={">":function(t,e){return t>e},"<":function(t,e){return t<e},"=":function(t,e){return t===e},in:function(t,e){return So(t,e)},">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e},"!=":function(t,e){return t!==e},"!in":function(t,e){return!So(t,e)}};function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function To(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||No(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(t){return function(t){if(Array.isArray(t))return xo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||No(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Po(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Po(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Po(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Po(f,"constructor",s),Po(s,"constructor",u),u.displayName="GeneratorFunction",Po(s,o,"GeneratorFunction"),Po(f),Po(f,o,"Generator"),Po(f,r,function(){return this}),Po(f,"toString",function(){return"[object Generator]"}),(Oo=function(){return{w:a,m:p}})()}function Po(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Po=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Po(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Po(t,e,n,r)}function Ro(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Io(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Ro(a,r,o,i,c,"next",t)}function c(t){Ro(a,r,o,i,c,"throw",t)}i(void 0)})}}function ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Lo(t,e,n){return e&&Co(t.prototype,e),n&&Co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Do(t){var e=function(t,e){if("object"!=wo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wo(e)?e:e+""}function jo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=No(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function No(t,e){if(t){if("string"==typeof t)return xo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(t,e):void 0}}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fo(t){return function(t,e,n){var r,o=jo(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!e.has(a))throw new Yn.SyntaxException("Invalid character within <".concat(n,"> ; ' ").concat(a," ' is not allowed; got string: '").concat(t,"'"))}}catch(t){o.e(t)}finally{o.f()}}(t=t.replace(/[\n\t\r]/g," ").replace(/\s+/g," "),_r,"Main Filter String"),t=t.toLowerCase()}var Mo=function(){return Lo(function t(e,n){ko(this,t),this.str=e,this.fn=n},[{key:"call",value:function(t){return this.fn(t)}},{key:"asString",value:function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(this.str)}}])}();function Go(t,e,n,r){var o=null;try{o=e in Ke.FIELD_EXTRACT_FN_MAP?new Ke(e):Kr(e,r)}catch(r){throw console.error(r),new Yn.SyntaxException("Could not parse ".concat(t,' side of filter; got: "').concat(e,'" from filter: [').concat(n,"]; error: ").concat(r.message))}return o}var Uo=function(){function t(e){if(ko(this,t),e!==Bo._)throw new Error("Cannot instantiate FilterSyntaxParser directly; use createAndParse method instead.")}return Lo(t,[{key:"addReferences",value:(r=Io(Oo().m(function t(){var e,n,r,o,a=arguments;return Oo().w(function(t){for(;;)switch(t.n){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:null,r=e=a.length>0&&void 0!==a[0]?a[0]:null){t.n=2;break}return t.n=1,De.getHeroManager();case 1:r=t.v;case 2:if(e=r,o=n){t.n=4;break}return t.n=3,nr.getSeasonDetails();case 3:o=t.v;case 4:return n=o,this.HM=e,t.n=5,mr.getArtifactLowercaseNameMap();case 5:this.ARTIFACT_LOWERCASE_STRINGS_MAP=t.v,this.ARTIFACT_LOWERCASE_STRINGS_MAP,this.ARTIFACT_LOWERCASE_STRINGS_MAP,this.SeasonDetails=n,this.REFS={HM:this.HM,ARTIFACT_LOWERCASE_STRINGS_MAP:this.ARTIFACT_LOWERCASE_STRINGS_MAP,SeasonDetails:this.SeasonDetails};case 6:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"asString",value:function(){var t=[].concat(Ao(this.filters.globalFilters),Ao(this.filters.localFilters));return"[\n".concat(t.map(function(t){return t.asString("   ")}).join(";\n"),"\n]")}},{key:"parseGlobalFilterFn",value:function(t,e){var n=wn.anchorExp(wn.VALID_GLOBAL_FILTER_RE);if(!n.test(e))throw new Yn.SyntaxException('Invalid global filter format; must follow the case insensitive regex format "'.concat(n.source,"\" ; got: '").concat(e,"'"));var r=Yn.tokenizeWithNestedEnclosures(e,",",1);if(t===co)return{localFilters:[],globalFilters:[new co(r)]};throw new Yn.SyntaxException("Global filter function ".concat(t.str," not mapped in parseGlobalFilterFn"))}},{key:"parseClauseFn",value:function(e,n){var r=this;e.str;var o=Yn.tokenizeWithNestedEnclosures(n,",",1).filter(function(t){return t.length>0});if(e===fo&&o.length<2)throw new Yn.SyntaxException("XOR clause must have at least two arguments; got: ".concat(o.length,' arguments from string: "').concat(n,'"'));if(e===po&&1!==o.length)throw new Yn.SyntaxException("NOT clause must have exactly one argument; got: ".concat(o.length,' arguments from string: "').concat(n,'"'));var a=o.reduce(function(t,e){var n,o;return(n=t.localFilters).push.apply(n,Ao(r.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,Ao(r.parseFilters(e).globalFilters)),t},t.getEmptyFilters());if(a.globalFilters.length>0)throw new Yn.SyntaxException("Global filters not allowed in clause functions; got: ".concat(a.globalFilters,' from string: "').concat(n,'"'));if(e===po&&1!==a.localFilters.length)throw new Yn.SyntaxException("NOT clause must have exactly one argument; got: ".concat(a.length,' arguments from string: "').concat(n,'"'));return{localFilters:[new e(a)],globalFilters:[]}}},{key:"parseDirectFn",value:function(t,e){return{localFilters:[t.fromFilterStr(e,this.REFS)],globalFilters:[]}}},{key:"parseBaseFilter",value:function(t){var e=Yn.tokenizeWithNestedEnclosures(t," ",0,!0);if("; Length: ".concat(e.length),3!==e.length)throw new Yn.SyntaxException("Invalid base filter format; all filters must be of the form: ['X', operator, 'Y']; got tokens: [".concat(e.join(", "),"]"));var n=To(e,3),r=n[0],o=n[1],a=n[2];if(!go[o])throw new Yn.SyntaxException('Invalid operator in base filter; got: "'.concat(o,'" as the operator in filter: [').concat(t,"]"));var i=go[o];r=Go("left",r,t,this.REFS,this.SeasonDetails),a=Go("right",a,t,this.REFS,this.SeasonDetails),function(t,e,n,r){if(("in"===e||"!in"===e)&&!(n instanceof Wr.Set||n instanceof Wr.Range||n instanceof Ke&&Ve.has(n.str)))throw new Yn.TypeException("When using any 'in' or '!in' operator, the right side of the operator must be a Set, Range, or a Field composed of a set (i.e. p1.picks, p2.prebans, etc.); error found in filter: '".concat(r,"'"));if(n instanceof Wr.Range)if("Date"===n.data.type){if(!t.str.includes("date"))throw new Yn.TypeException("When using a Date Range, the left side of the operator must be a date field; ".concat(t.str," is not a date field; error found in filter: '").concat(r,"'"))}else if("Int"===n.data.type&&!He.has(t.str))throw new Yn.TypeException("When using an Int Range, the left side of the operator must be an integer field; ".concat(t.str," is not an integer field; error found in filter: '").concat(r,"'"));if(n instanceof xr&&t instanceof xr)throw new Yn.SyntaxException("Either left or right side of filter must be a data field (a property of a battle); both ".concat(t," and ").concat(n,' are user declared data types in filter: "').concat(r,'"'))}(r,o,a,t);var c=null;c=r instanceof xr?function(t){return i(r.data,a.extractData(t))}:a instanceof xr?function(t){return i(r.extractData(t),a.data)}:function(t){return i(r.extractData(t),a.extractData(t))};var u="".concat(r.asString()," ").concat(o," ").concat(a.asString()),s=new Mo(u,c);return s.asString(),{localFilters:[s],globalFilters:[]}}},{key:"parseFilters",value:function(e){var n=this;if('Parsing filter string: "'.concat(e||this.preParsedString,'"'),""===e)return t.getEmptyFilters();var r,o=(e=e.trim()).split(";").filter(function(t){return t.length>0}),a=jo(o);try{for(a.s();!(r=a.n()).done;){var i=r.value,c=Yn.getCharCounts(i);if(c["("]!==c[")"])throw new Yn.SyntaxException('Imbalanced parentheses in following string: "'.concat(i,'"'));if(c["{"]!==c["}"])throw new Yn.SyntaxException("Imbalanced braces ('{', '}') in following string: \"".concat(i,'"'))}}catch(t){a.e(t)}finally{a.f()}if(o.length>1)return"Processing <".concat(o.length,"> filters; filters: ").concat(o),o.reduce(function(t,e){var r,o;return(r=t.localFilters).push.apply(r,Ao(n.parseFilters(e).localFilters)),(o=t.globalFilters).push.apply(o,Ao(n.parseFilters(e).globalFilters)),t},t.getEmptyFilters());var u=o[0].trim();if(u.length<4)throw new Yn.SyntaxException("Filter string cannot be valid (less than 4 characters); got filter string: [".concat(u,"]"));var s=u.split("("),l=bo[s[0]];if(l){if(wn.VALID_CLAUSE_FUNCTIONS_RE.test(u))return this.parseClauseFn(l,u);if(wn.VALID_GLOBAL_FUNCTIONS_RE.test(u))return this.parseGlobalFilterFn(l,u);if(wn.VALID_DIRECT_FUNCTIONS_RE.test(u))return this.parseDirectFn(l,u);throw new Error('could not parse filter string as Fn: "'.concat(e,'" ; did not map to any known function ; check filter-syntax page'))}return this.parseBaseFilter(u)}}],[{key:"getEmptyFilters",value:function(){return{localFilters:[],globalFilters:[]}}},{key:"getFiltersFromCache",value:(n=Io(Oo().m(function e(n){var r,o,a;return Oo().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,it.getFilterStr();case 1:if(r=e.v){e.n=2;break}return e.a(2,t.getEmptyFilters());case 2:return e.n=3,nr.getSeasonDetails();case 3:return o=e.v,e.n=4,t.createAndParse(r,n,o);case 4:return a=e.v,e.a(2,a.filters)}},e)})),function(t){return n.apply(this,arguments)})},{key:"createAndParse",value:(e=Io(Oo().m(function e(n){var r,o,a,i=arguments;return Oo().w(function(e){for(;;)switch(e.n){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,o=i.length>2&&void 0!==i[2]?i[2]:null,(a=new t(Bo._)).rawString=n,e.n=1,a.addReferences(r,o);case 1:return a.preParsedString=Fo(n),a.globalFilters=[],a.filters=a.parseFilters(a.preParsedString),a.asString(),e.a(2,a)}},e)})),function(t){return e.apply(this,arguments)})}]);var e,n,r}(),Bo={_:Symbol("internal")};const Ho=Uo;function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Ko(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Wo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Wo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zo(r.key),r)}}function Yo(t,e,n){return e&&qo(t.prototype,e),n&&qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zo(t){var e=function(t,e){if("object"!=Vo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vo(e)?e:e+""}var Qo={RED:"text-danger",GREEN:"text-safe"},$o=Yo(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.docElement=n,this.classList=r});function Jo(t){if(!t instanceof $o)throw new Error("Only instances of TextPacket can be passed to this function")}var Xo={queue:[],autoClearElements:[],TextPacket:$o,STYLES:Qo,clearStyles:function(t){for(var e=0,n=Object.values(Qo);e<n.length;e++){var r=n[e];t.classList.remove(r)}},write:function(t){Jo(t),t.docElement.textContent=t.text,this.clearStyles(t.docElement),t.classList.forEach(function(e){t.docElement.classList.add(e)})},push:function(t){Jo(t),this.queue.push(t)},pushFromObj:function(t){var e=t.text,n=t.docElement,r=t.classList;this.push(new $o(e,n,r))},bindAutoClear:function(t){var e,n=Ko(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.autoClearElements.push(r)}}catch(t){n.e(t)}finally{n.f()}},processQueue:function(){var t=this;this.queue.forEach(function(e){t.write(e)}),this.queue=[]},clearMessages:function(){var t,e=Ko(this.autoClearElements);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.textContent="",this.clearStyles(n)}}catch(t){e.e(t)}finally{e.f()}}};var Zo={queueSelectDataMsgGreen:function(t){Xo.push(new $o(t,_t.HOME_PAGE.SELECT_DATA_MSG,[Qo.GREEN]))},queueSelectDataMsgRed:function(t){Xo.push(new $o(t,_t.HOME_PAGE.SELECT_DATA_MSG,[Qo.RED]))},queueFilterMsgGreen:function(t){Xo.push(new $o(t,_t.HOME_PAGE.FILTER_MSG,[Qo.GREEN]))},queueFilterMsgRed:function(t){Xo.push(new $o(t,_t.HOME_PAGE.FILTER_MSG,[Qo.RED]))}};function ta(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return ea(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(ea(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,ea(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,ea(f,"constructor",s),ea(s,"constructor",u),u.displayName="GeneratorFunction",ea(s,o,"GeneratorFunction"),ea(f),ea(f,o,"Generator"),ea(f,r,function(){return this}),ea(f,"toString",function(){return"[object Generator]"}),(ta=function(){return{w:a,m:p}})()}function ea(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ea=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){ea(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},ea(t,e,n,r)}function na(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var ra,oa,aa={addStrParam:function(t,e,n){var r=encodeURIComponent(n);return t="".concat(t,"?").concat(e,"=").concat(r)},addStrParams:function(t,e){for(var n in e)t=this.addStrParam(t,n,e[n]);return t},validateFilterSyntax:(ra=ta().m(function t(e){var n,r,o;return ta().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,De.getHeroManager();case 1:return n=t.v,r=document.getElementById("filterMSG"),t.p=2,t.n=3,Ho.createAndParse(e,n);case 3:return Xo.write(new $o("Validation Passed",r,[Xo.STYLES.GREEN])),t.a(2,!0);case 4:return t.p=4,o=t.v,console.error(o),Xo.write(new $o("Validation Failed: ".concat(o.message),r,[Xo.STYLES.RED])),t.a(2,!1)}},t,null,[[2,4]])}),oa=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=ra.apply(t,e);function a(t){na(o,n,r,a,i,"next",t)}function i(t){na(o,n,r,a,i,"throw",t)}a(void 0)})},function(t){return oa.apply(this,arguments)}),setScrollPercent:function(t){"Scrolling to ".concat(t,"%");var e=t/100*(document.documentElement.scrollHeight-window.innerHeight),n=document.documentElement,r=n.style.scrollBehavior;n.style.scrollBehavior="auto",window.scrollTo({top:e}),n.style.scrollBehavior=r},getScrollPercent:function(){var t=window.scrollY||document.documentElement.scrollTop,e=document.documentElement.scrollHeight-window.innerHeight;return 0===e?0:t/e*100},setVisibility:function(t,e){e?t.classList.remove("d-none"):t.classList.add("d-none")}};const ia=aa;var ca={SELECT_DATA:"select-data",SHOW_STATS:"show-stats",LOAD_DATA:"load-data"};function ua(t){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(t)}function sa(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return la(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(la(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,la(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,la(f,"constructor",s),la(s,"constructor",u),u.displayName="GeneratorFunction",la(s,o,"GeneratorFunction"),la(f),la(f,o,"Generator"),la(f,r,function(){return this}),la(f,"toString",function(){return"[object Generator]"}),(sa=function(){return{w:a,m:p}})()}function la(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}la=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){la(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},la(t,e,n,r)}function fa(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function pa(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){fa(a,r,o,i,c,"next",t)}function c(t){fa(a,r,o,i,c,"throw",t)}i(void 0)})}}function ha(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ua(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ua(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ua(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var da=ha(ha(ha(ha(ha({},gt,it.Keys.GLOBAL_USERS),Ot,it.Keys.EU_USERS),At,it.Keys.ASIA_USERS),Tt,it.Keys.JPN_USERS),wt,it.Keys.KOR_USERS);function ya(t,e){return{id:t.nick_no,name:t.nick_nm,code:t.code,rank:t.rank,world_code:e}}function va(t){return ma.apply(this,arguments)}function ma(){return(ma=pa(sa().m(function t(e){var n;return sa().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code from E7 server: ".concat(e),t.n=1,Ee.fetchUserJSON(e);case 1:if(n=t.v){t.n=2;break}return"Could not get user map from E7 server for world code: ".concat(e),t.a(2,null);case 2:return"Got user map from E7 server for world code: ".concat(e),t.a(2,Object.fromEntries(n.users.map(function(t){return[t.nick_no,ya(t,e)]})))}},t)}))).apply(this,arguments)}function _a(t){return ba.apply(this,arguments)}function ba(){return(ba=pa(sa().m(function t(e){var n,r;return sa().w(function(t){for(;;)switch(t.n){case 0:return"Getting user map for world code: ".concat(e),t.n=1,it.get(da[e]);case 1:if(null===(n=t.v)){t.n=2;break}return t.a(2,n);case 2:return t.n=3,va(e);case 3:return r=t.v,t.n=4,it.cache(da[e],r);case 4:return t.a(2,r)}},t)}))).apply(this,arguments)}var Ea=function(t){return Pt[t]};function Sa(t,e,n){var r=e.find(function(e){return n(e)===t});return r?("Found user: ".concat(JSON.stringify(r)),{user:r,ok:!0}):{user:null,ok:!0}}function ga(t,e){return wa.apply(this,arguments)}function wa(){return(wa=pa(sa().m(function t(e,n){var r,o,a,i;return sa().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,_a(n);case 1:if(r=t.v,(o=Object.values(r))&&0!==o.length){t.n=2;break}return"User map had no users, falling back to flask server for world code: ".concat(Ea(n)),t.a(2,{user:null,ok:!1});case 2:if(a=null,i=null,!e.id){t.n=3;break}a=e.id,i=function(t){return t.id},t.n=5;break;case 3:if(!e.name){t.n=4;break}a=e.name.toLowerCase(),i=function(t){return t.name.toLowerCase()},t.n=5;break;case 4:throw new Error("Must pass a user object with either user.name or user.id to find user");case 5:return t.a(2,Sa(a,o,i))}},t)}))).apply(this,arguments)}var Ta,Aa,Oa,Pa,Ra={getUserMap:_a,findUser:(Pa=pa(sa().m(function t(e){var n,r,o;return sa().w(function(t){for(;;)switch(t.n){case 0:if("Attempting to find user: ".concat(JSON.stringify(e)),(e.name||e.id)&&e.world_code){t.n=1;break}throw new Error("Must pass a user object with either user.name or user.id, and user.world_code to find user");case 1:return n=e.id?"ID: ".concat(e.id):"Name: '".concat(e.name,"'"),r=null,t.n=2,ga(e,e.world_code);case 2:if((r=t.v).ok){t.n=4;break}return t.n=3,ue.fetchUser(e);case 3:r=t.v;case 4:if(!r.ok){t.n=6;break}if(null!==(o=r.user)){t.n=5;break}throw new Error("Could not find user with ".concat(n," in Server: ").concat(Ea(e.world_code)));case 5:return t.a(2,o);case 6:throw new Error("Function did not properly terminate: ".concat(JSON.stringify(r)));case 7:return t.a(2)}},t)})),function(t){return Pa.apply(this,arguments)}),setUser:(Oa=pa(sa().m(function t(e){return sa().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.cache(it.Keys.USER,e);case 1:return t.a(2)}},t)})),function(t){return Oa.apply(this,arguments)}),getUser:(Aa=pa(sa().m(function t(){return sa().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.USER);case 1:return t.a(2,t.v)}},t)})),function(){return Aa.apply(this,arguments)}),clearUserData:function(){var t=pa(sa().m(function t(){return sa().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.clearUserData();case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),clearUserDataLists:(Ta=pa(sa().m(function t(){return sa().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.clearUserLists();case 1:return t.a(2)}},t)})),function(){return Ta.apply(this,arguments)})};const Ia=Ra;function ka(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Ca(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Ca(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Ca(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Ca(f,"constructor",s),Ca(s,"constructor",u),u.displayName="GeneratorFunction",Ca(s,o,"GeneratorFunction"),Ca(f),Ca(f,o,"Generator"),Ca(f,r,function(){return this}),Ca(f,"toString",function(){return"[object Generator]"}),(ka=function(){return{w:a,m:p}})()}function Ca(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ca=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Ca(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Ca(t,e,n,r)}function La(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Da(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){La(a,r,o,i,c,"next",t)}function c(t){La(a,r,o,i,c,"throw",t)}i(void 0)})}}var ja=new Set(Object.values(ca));function Na(t){return!!ja.has(t)||(console.error("Invalid page state: ".concat(t)),!1)}function xa(t){switch(t){case ca.SELECT_DATA:return _t.HOME_PAGE.SELECT_DATA_BODY;case ca.SHOW_STATS:return _t.HOME_PAGE.SHOW_STATS_BODY;case ca.LOAD_DATA:return _t.HOME_PAGE.LOAD_DATA_BODY;default:console.error("Invalid page state: ".concat(t))}}var Fa,Ma,Ga,Ua={getState:(Ga=Da(ka().m(function t(){var e,n,r,o;return ka().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.HOME_PAGE_STATE);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o=ca.SELECT_DATA;case 4:return t.a(2,o)}},t)})),function(){return Ga.apply(this,arguments)}),setState:(Ma=Da(ka().m(function t(e){return ka().w(function(t){for(;;)switch(t.n){case 0:if(Na(e)){t.n=1;break}return t.a(2);case 1:return t.n=2,it.cache(it.Keys.HOME_PAGE_STATE,e);case 2:return t.a(2)}},t)})),function(t){return Ma.apply(this,arguments)}),resetState:(Fa=Da(ka().m(function t(){return ka().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.HOME_PAGE_STATE);case 1:return t.a(2)}},t)})),function(){return Fa.apply(this,arguments)})};function Ba(t){t?(_t.HOME_PAGE.USER_NAME.innerText=t.name,_t.HOME_PAGE.USER_ID.innerText=t.id,_t.HOME_PAGE.USER_SERVER.innerText=Pt[t.world_code]):(_t.HOME_PAGE.USER_NAME.innerText="(None)",_t.HOME_PAGE.USER_ID.innerText="(None)",_t.HOME_PAGE.USER_SERVER.innerText="(None)")}function Ha(t){return Va.apply(this,arguments)}function Va(){return(Va=Da(ka().m(function t(e){return ka().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.clearUserData();case 1:if(Ba(e),!e){t.n=2;break}return t.n=2,Ia.setUser(e);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function Ka(){return(Ka=Da(ka().m(function t(){return ka().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ha(null);case 1:return t.a(2)}},t)}))).apply(this,arguments)}var Wa={homePageSetView:function(t){if(Na(t)){for(var e=0,n=Object.values(ca);e<n.length;e++){var r=n[e];if(t!==r){var o=xa(r);"Hiding ".concat(o.id),ia.setVisibility(o,!1)}}var a=xa(t);"Showing ".concat(a.id),ia.setVisibility(a,!0)}},homePageSetUser:Ha,homePageDrawUserInfo:Ba,homePageClearUserData:function(){return Ka.apply(this,arguments)}};function qa(t){return function(t){if(Array.isArray(t))return Ya(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ya(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ya(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function za(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Qa(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Qa(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Qa(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Qa(f,"constructor",s),Qa(s,"constructor",u),u.displayName="GeneratorFunction",Qa(s,o,"GeneratorFunction"),Qa(f),Qa(f,o,"Generator"),Qa(f,r,function(){return this}),Qa(f,"toString",function(){return"[object Generator]"}),(za=function(){return{w:a,m:p}})()}function Qa(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Qa=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Qa(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Qa(t,e,n,r)}function $a(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ja(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){$a(a,r,o,i,c,"next",t)}function c(t){$a(a,r,o,i,c,"throw",t)}i(void 0)})}}var Xa,Za,ti={ACTIONS:{CLEAR_USER:"CLEAR_USER",SHOW_NO_USER_MSG:"SHOW_NO_USER_MSG",SHOW_DATA_ALREADY_CLEARED_MSG:"SHOW_DATA_ALREADY_CLEARED_MSG",QUERY_USER:"QUERY_USER"},getState:function(){var t=Ja(za().m(function t(){var e,n,r,o;return za().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.INTER_PAGE_MANAGER);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o={actions:[]};case 4:return t.a(2,o)}},t)}));return function(){return t.apply(this,arguments)}}(),setState:function(){var t=Ja(za().m(function t(e){return za().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.cache(it.Keys.INTER_PAGE_MANAGER,e);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),pushActions:(Za=Ja(za().m(function t(e){var n,r;return za().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return r=t.v,(n=r.actions).push.apply(n,qa(e)),t.n=2,this.setState(r);case 2:return t.a(2)}},t,this)})),function(t){return Za.apply(this,arguments)}),flushState:(Xa=Ja(za().m(function t(){var e;return za().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getState();case 1:return e=t.v,t.n=2,it.delete(it.Keys.INTER_PAGE_MANAGER);case 2:return t.a(2,e)}},t,this)})),function(){return Xa.apply(this,arguments)})};const ei=ti;function ni(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return ri(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(ri(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,ri(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,ri(f,"constructor",s),ri(s,"constructor",u),u.displayName="GeneratorFunction",ri(s,o,"GeneratorFunction"),ri(f),ri(f,o,"Generator"),ri(f,r,function(){return this}),ri(f,"toString",function(){return"[object Generator]"}),(ni=function(){return{w:a,m:p}})()}function ri(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ri=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){ri(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},ri(t,e,n,r)}function oi(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ai(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){oi(a,r,o,i,c,"next",t)}function c(t){oi(a,r,o,i,c,"throw",t)}i(void 0)})}}function ii(){window.location.href=URL_UTILS.HOME_PAGE_URL}function ci(){document.querySelectorAll(".nav-link").forEach(function(t){t.addEventListener("click",function(){var t=ai(ni().m(function t(e){var n;return ni().w(function(t){for(;;)switch(t.n){case 0:if(n=this.dataset.nav,!Object.values(ca).includes(n)){t.n=9;break}if(n!==ca.SELECT_DATA){t.n=2;break}return t.n=1,Ua.setState(ca.SELECT_DATA);case 1:ii(),t.n=8;break;case 2:if(n!==ca.SHOW_STATS){t.n=8;break}return t.n=3,Ia.getUser();case 3:if(t.v){t.n=6;break}return t.n=4,Ua.setState(ca.SELECT_DATA);case 4:return t.n=5,ei.pushActions([ei.ACTIONS.SHOW_NO_USER_MSG]);case 5:ii(),t.n=8;break;case 6:return t.n=7,Ua.setState(ca.SHOW_STATS);case 7:ii();case 8:t.n=10;break;case 9:"Navigating to: ".concat(this.href);case 10:return t.a(2)}},t,this)}));return function(e){return t.apply(this,arguments)}}())})}function ui(){_t.NAV_BAR.CLEAR_DATA_BTN.addEventListener("click",function(){var t=ai(ni().m(function t(e){return ni().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.getUser();case 1:if(!t.v){t.n=4;break}return t.n=2,Ua.setState(ca.SELECT_DATA);case 2:return t.n=3,ei.pushActions([ei.ACTIONS.CLEAR_USER]);case 3:t.n=6;break;case 4:return t.n=5,Ua.setState(ca.SELECT_DATA);case 5:return t.n=6,ei.pushActions([ei.ACTIONS.SHOW_DATA_ALREADY_CLEARED_MSG]);case 6:ii();case 7:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())}function si(t){t?(_t.NAV_BAR.USER_NAME.innerText=t.name,_t.NAV_BAR.USER_ID.innerText=t.id,_t.NAV_BAR.USER_SERVER.innerText=Pt[t.world_code]):(_t.NAV_BAR.USER_NAME.innerText="(None)",_t.NAV_BAR.USER_ID.innerText="(None)",_t.NAV_BAR.USER_SERVER.innerText="(None)")}function li(){return(li=ai(ni().m(function t(){return ni().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.getUser();case 1:si(t.v),ci(),ui();case 2:return t.a(2)}},t)}))).apply(this,arguments)}var fi={addNavListeners:ci,addClearDataBtnListener:ui,writeUserInfo:si,initialize:function(){return li.apply(this,arguments)},navToHome:ii};function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function hi(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=pi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pi(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var di={SOURCE:{QUERY:"query",UPLOAD:"upload",STATS:"stats"}},yi=hi(hi(hi({},ca.SELECT_DATA,0),ca.SHOW_STATS,0),ca.LOAD_DATA,0),vi={SOURCE:"SOURCE",AUTO_ZOOM:"AUTO_ZOOM",AUTO_QUERY:"AUTO_QUERY",STATS_POST_RENDER_COMPLETED:"STATS_POST_RENDER_COMPLETED",STATS_PRE_RENDER_COMPLETED:"STATS_PRE_RENDER_COMPLETED",HOME_PAGE_STATE:"STATE",SCROLL_PERCENTS:"SCROLL_PERCENTS",CODE_MIRROR_EDITOR:"CODE_MIRROR_EDITOR",TRY_SET_USER:"TRY_SET_USER"},mi={KEYS:vi,VALUES:di,SOURCE:null,AUTO_QUERY:null,AUTO_ZOOM:!1,STATS_POST_RENDER_COMPLETED:!1,STATS_PRE_RENDER_COMPLETED:!1,HOME_PAGE_STATE:null,SCROLL_PERCENTS:yi,CODE_MIRROR_EDITOR:null,TRY_SET_USER:null,popKey:function(t){var e=this[t];return this[t]=this._getDefault(t),e},readKey:function(t){return this[t]},_getDefault:function(t){switch(t){case vi.AUTO_ZOOM:return!1;case vi.SOURCE:case vi.AUTO_QUERY:return null;case vi.STATS_POST_RENDER_COMPLETED:case vi.STATS_PRE_RENDER_COMPLETED:return!1;case vi.HOME_PAGE_STATE:return null;case vi.SCROLL_PERCENTS:return yi;case vi.CODE_MIRROR_EDITOR:throw new Error("No default value for key: ".concat(t," ; do not use popKey or _getDefault for this key"));default:return null}}};function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}function bi(t){return function(t){if(Array.isArray(t))return Ti(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||wi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function wi(t,e){if(t){if("string"==typeof t)return Ti(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(t,e):void 0}}function Ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ai=function(t){return t.filter(function(t){return t[Lt.FIRST_PICK]})};function Oi(t){return(100*t).toFixed(2)+"%"}function Pi(t,e){return Oi(0!==e?t/e:0)}function Ri(t,e){var n=t[Lt.CR_BAR].find(function(t){return t[0]===e});return n?n[1]:null}function Ii(t,e,n){var r,o,a=function(t){return t.filter(function(t){return t[Lt.WIN]})}(t).length,i=t.length,c=0!==e?i/e:0,u=0!==i?a/i:0,s=t.reduce(function(t,e){return t+(e[Lt.P1_POSTBAN]===n||e[Lt.P2_POSTBAN]===n)},0),l=t.reduce(function(t,e){return t+(e[Lt.WIN]||e[Lt.P1_POSTBAN]===n||e[Lt.P2_POSTBAN]===n)},0),f=t.reduce(function(t,e){return t+e[Lt.POINT_GAIN]},0),p=0,h=0,d=0,y=gi(t);try{for(y.s();!(o=y.n()).done;){var v=Ri(o.value,n);null!==v&&0!==v&&(p+=1,h+=v,100===v&&(d+=1))}}catch(t){y.e(t)}finally{y.f()}var m=Pi(h/100,p);return Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(r={},Ft,n),Mt,i),Gt,Oi(c)),Ut,a),Bt,Oi(u)),Ht,s),Vt,Pi(s,i)),Kt,Pi(l,i)),Wt,2*a-i),qt,f),Si(Si(Si(r,Yt,m),zt,d),Qt,Pi(d,p))}function ki(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set,r=0,o=Object.values(t);r<o.length;r++){var a=o[r];(e?a[Lt.P1_PICKS_PRIMES]:a[Lt.P2_PICKS_PRIMES]).forEach(function(t){n.add(t)})}return n}function Ci(t){var e=Math.floor(t/60),n=(t%60).toFixed(1);return 0===e?"".concat(n," secs"):"".concat(e," : ").concat(n,"s")}const Li={getHeroStats:function(t,e){if(0===t.length)return{playerHeroStats:[],enemyHeroStats:[]};var n,r=t.length,o=ki(t,!0),a=ki(t,!1),i=[],c=[],u=gi(o);try{var s=function(){var o=n.value,a=De.getHeroByPrime(o,e),c=t.filter(function(t){return t[Lt.P1_PICKS_PRIME_PRODUCT]%o===0});c.length>0&&i.push(Ii(c,r,a.name))};for(u.s();!(n=u.n()).done;)s()}catch(t){u.e(t)}finally{u.f()}var l,f=gi(a);try{var p=function(){var n=l.value,o=De.getHeroByPrime(n,e),a=t.filter(function(t){return t[Lt.P2_PICKS_PRIME_PRODUCT]%n===0});a.length>0&&c.push(Ii(a,r,o.name))};for(f.s();!(l=f.n()).done;)p()}catch(t){f.e(t)}finally{f.f()}var h=Ft;return{playerHeroStats:i.sort(function(t,e){return t[h].localeCompare(e[h])}),enemyHeroStats:c.sort(function(t,e){return t[h].localeCompare(e[h])})}},getFirstPickStats:function(t,e){if(0===(t=Ai(Object.values(t))).length)return[];var n,r=t.length,o={},a=gi(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(0!==i[Lt.P1_PICKS_PRIMES].length){var c=i[Lt.P1_PICKS_PRIMES][0];c in o||(o[c]={wins:0,appearances:0}),o[c].wins+=i[Lt.WIN],o[c].appearances+=1}}}catch(t){a.e(t)}finally{a.f()}var u=Object.entries(o).map(function(t){var n=Ei(t,2),o=n[0],a=n[1];return{hero:De.getHeroByPrime(o,e).name,wins:a.wins,appearances:a.appearances,win_rate:Oi(a.wins/a.appearances),appearance_rate:Oi(a.appearances/r),"+/-":2*a.wins-a.appearances}});return u.sort(function(t,e){return e.appearances-t.appearances}),u},getPrebanStats:function(t,e){var n=De.getHeroByName("Empty",e).prime;if(0===t.length)return[];var r,o=function(e,r){return bi(new Set(t.map(function(t){return t[e][r]}).filter(function(t){return t&&t!==n})))},a=o(Lt.P1_PREBANS_PRIMES,0),i=o(Lt.P1_PREBANS_PRIMES,1),c=new Set([].concat(bi(a),bi(i))),u=[],s=gi(c);try{for(s.s();!(r=s.n()).done;){var l=r.value;u.push(l)}}catch(t){s.e(t)}finally{s.f()}var f,p=gi(c);try{for(p.s();!(f=p.n()).done;){var h,d=f.value,y=gi(c);try{for(y.s();!(h=y.n()).done;){var v=h.value;d<v&&u.push(d*v)}}catch(t){y.e(t)}finally{y.f()}}}catch(t){p.e(t)}finally{p.f()}for(var m=t.length,_=[],b=function(){var n=S[E],r=t.filter(function(t){return t["P1 Prebans Prime Product"]%n===0}),o=r.length;if(o<1)return 1;var a=r.reduce(function(t,e){return t+e.Win},0),i=m>0?o/m:0,c=o>0?a/o:0,u=2*a-o;_.push({preban:e.prime_pair_lookup[n],wins:a,appearances:o,appearance_rate:Oi(i),win_rate:Oi(c),"+/-":u})},E=0,S=u;E<S.length;E++)b();return _.sort(function(t,e){return e.appearances-t.appearances}),_},getServerStats:function(t){for(var e=[],n=t.length,r=function(){var r=a[o],i=t.filter(function(t){return t["P2 Server"]===r}),c=i.length,u=i.reduce(function(t,e){return t+e.Win},0),s=c>0?u/c:"N/A",l=n>0?c/n:"N/A",f=i.filter(function(t){return t["First Pick"]}),p=f.reduce(function(t,e){return t+e.Win},0),h=i.filter(function(t){return!t["First Pick"]}),d=h.reduce(function(t,e){return t+e.Win},0);e.push({server:r,count:c,wins:u,win_rate:"N/A"===s?"N/A":Oi(s),frequency:Oi(l),"+/-":2*u-c,fp_games:f.length,sp_games:h.length,fp_wr:f.length>0?Oi(p/f.length):"N/A",sp_wr:h.length>0?Oi(d/h.length):"N/A"})},o=0,a=Object.values(Pt);o<a.length;o++)r();return e.sort(function(t,e){return t.server.localeCompare(e.server)}),e},getGeneralStats:function(t,e){t.sort(function(t,e){return new Date(t["Date/Time"])-new Date(e["Date/Time"])});var n,r=t.length,o=t.reduce(function(t,e){return t+e["Point Gain"]},0),a=r>0?o/r:0,i=t.reduce(function(t,e){return t+e.Turns},0),c=r>0?i/r:0,u=t.length>0?Math.max.apply(Math,bi(t.map(function(t){return t.Turns}))):0,s=t.reduce(function(t,e){return t+e.Seconds},0),l=r>0?s/r:0,f=t.length>0?Math.max.apply(Math,bi(t.map(function(t){return t.Seconds}))):0,p=Ci(l),h=Ci(f),d=t.reduce(function(t,e){return t+e["First Turn"]},0),y=Ai(t),v=function(t){return t.filter(function(t){return!t[Lt.FIRST_PICK]})}(t),m=y.length,_=v.length,b=y.reduce(function(t,e){return t+e.Win},0),E=v.reduce(function(t,e){return t+e.Win},0),S=r?m/r:0,g=r?_/r:0,w=m?b/m:0,T=_?E/_:0,A=r?(b+E)/r:0,O=0,P=0,R=0,I=0,k=gi(t);try{for(k.s();!(n=k.n()).done;){n.value.Win?(R+=1,O=Math.max(O,R),I=0):(R=0,I+=1,P=Math.max(P,I))}}catch(t){k.e(t)}finally{k.f()}var C="N/A";return{first_pick_count:m,second_pick_count:_,first_pick_rate:m?Oi(S):C,second_pick_rate:_?Oi(g):C,first_pick_winrate:m?Oi(w):C,second_pick_winrate:_?Oi(T):C,total_winrate:r?Oi(A):C,total_battles:r,total_wins:b+E,max_win_streak:O,max_loss_streak:P,avg_ppg:a.toFixed(2),avg_turns:c.toFixed(2),avg_time:p,max_turns:u,max_time:h,first_turn_games:d,first_turn_rate:r?Oi(d/r):C}}};function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function ji(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ni(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xi(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Di(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Di(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t,e){var n=function(t){var n,r;return null!==(n=null===(r=De.getHeroByName(t,e))||void 0===r?void 0:r.prime)&&void 0!==n?n:e.Fodder.prime},r=function(t,e){return t*e};t[Lt.P1_PICKS_PRIMES]=t[Lt.P1_PICKS].map(n),t[Lt.P2_PICKS_PRIMES]=t[Lt.P2_PICKS].map(n),t[Lt.P1_PICKS_PRIME_PRODUCT]=t[Lt.P1_PICKS_PRIMES].reduce(r,1),t[Lt.P2_PICKS_PRIME_PRODUCT]=t[Lt.P2_PICKS_PRIMES].reduce(r,1),t[Lt.P1_PREBANS_PRIMES]=t[Lt.P1_PREBANS].map(n),t[Lt.P2_PREBANS_PRIMES]=t[Lt.P2_PREBANS].map(n),t[Lt.P1_PREBANS_PRIME_PRODUCT]=t[Lt.P1_PREBANS_PRIMES].reduce(r,1),t[Lt.P2_PREBANS_PRIME_PRODUCT]=t[Lt.P2_PREBANS_PRIMES].reduce(r,1)}function Mi(t,e,n){var r,o=function(t){var n,r;return null!==(n=null===(r=De.getHeroByCode(t,e))||void 0===r?void 0:r.name)&&void 0!==n?n:e.Fodder.name},a=function(e,r){return r.map(function(r,o){return r?function(t){return mr.convertCodeToName(t,n)||"None"}(r):function(e,n){return"p1"===e?t.p2_postban===t.p1_picks[n]:t.p1_postban===t.p2_picks[n]}(e,o)?"n/a":"None"})},i=function(t){return t.map(function(t){return t.map(function(t){return It[t]||t})})},c=t.cr_bar.find(function(t){return 100===t[1]}),u=!!c&&t.p1_picks.includes(c[0]),s=(xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(r={},Lt.SEASON,t.season_name||"None"),Lt.SEASON_CODE,t.season_code||"None"),Lt.DATE_TIME,t.date_time),Lt.SECONDS,t.seconds),Lt.TURNS,t.turns),Lt.SEQ_NUM,t.seq_num),Lt.P1_ID,t.p1_id.toString()),Lt.P1_SERVER,Pt[t.p1_server]||t.p1_server||"None"),Lt.P2_ID,t.p2_id.toString()),Lt.P2_SERVER,Pt[t.p2_server]||t.p2_server||"None"),xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(r,Lt.P1_LEAGUE,ct(t.p1_league)||"None"),Lt.P2_LEAGUE,ct(t.p2_league)||"None"),Lt.P1_POINTS,t.p1_win_score||null),Lt.POINT_GAIN,t.p1_point_delta||null),Lt.WIN,1===t.win),Lt.FIRST_PICK,1===t.first_pick),Lt.FIRST_TURN,!!u),Lt.FIRST_TURN_HERO,c?o(c[0]):"n/a"),Lt.CR_BAR,t.cr_bar.map(function(t){return t&&2==t.length?[o(t[0]),t[1]]:["n/a",0]})),Lt.P1_PREBANS,t.p1_prebans.map(o)),xi(xi(xi(xi(xi(xi(xi(xi(xi(xi(r,Lt.P2_PREBANS,t.p2_prebans.map(o)),Lt.P1_PICKS,t.p1_picks.map(o)),Lt.P2_PICKS,t.p2_picks.map(o)),Lt.P1_POSTBAN,o(t.p1_postban)),Lt.P2_POSTBAN,o(t.p2_postban)),Lt.P1_EQUIPMENT,i(t.p1_equipment)),Lt.P2_EQUIPMENT,i(t.p2_equipment)),Lt.P1_ARTIFACTS,a("p1",t.p1_artifacts)),Lt.P2_ARTIFACTS,a("p2",t.p2_artifacts)),Lt.P1_MVP,o(t.p1_mvp)),xi(r,Lt.P2_MVP,o(t.p2_mvp)));return Fi(s,e),s}function Gi(t,e,n){n=null!=n?n:mr.getArtifacts();var r,o=[],a=ji(t);try{for(a.s();!(r=a.n()).done;){var i=Mi(r.value,e,n);o.push([i["Seq Num"],i])}}catch(t){a.e(t)}finally{a.f()}return Object.fromEntries(o)}function Ui(t,e){var n=t.map(function(t){var n,r=ji(Dt);try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o]=JSON.parse(t[o])}}catch(t){r.e(t)}finally{r.f()}var a,i=ji(jt);try{for(i.s();!(a=i.n()).done;){var c=a.value;t[c]="true"===t[c].toLowerCase()}}catch(t){i.e(t)}finally{i.f()}var u,s=ji(Nt);try{for(s.s();!(u=s.n()).done;){var l=u.value;t[l]=Number(t[l].replace("'",""))}}catch(t){s.e(t)}finally{s.f()}var f,p=ji(xt);try{for(p.s();!(f=p.n()).done;){var h=f.value;t[h]=ct(t[h])}}catch(t){p.e(t)}finally{p.f()}return Fi(t,e),t});return Object.fromEntries(n.map(function(t){return[t["Seq Num"],t]}))}function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(n),!0).forEach(function(e){Ki(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ki(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Bi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bi(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wi(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Bi(t)+" is not iterable")}function qi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||zi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function zi(t,e){if(t){if("string"==typeof t)return Qi(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(t,e):void 0}}function Qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Ji(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Ji(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Ji(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Ji(f,"constructor",s),Ji(s,"constructor",u),u.displayName="GeneratorFunction",Ji(s,o,"GeneratorFunction"),Ji(f),Ji(f,o,"Generator"),Ji(f,r,function(){return this}),Ji(f,"toString",function(){return"[object Generator]"}),($i=function(){return{w:a,m:p}})()}function Ji(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ji=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Ji(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Ji(t,e,n,r)}function Xi(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Zi(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Xi(a,r,o,i,c,"next",t)}function c(t){Xi(a,r,o,i,c,"throw",t)}i(void 0)})}}var tc,ec,nc,rc,oc,ac,ic,cc={loaded_servers:new Set,getBattles:(ic=Zi($i().m(function t(){var e,n,r,o;return $i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.BATTLES);case 1:if(r=e=t.v,!(n=null!==r)){t.n=2;break}n=void 0!==e;case 2:if(!n){t.n=3;break}o=e,t.n=4;break;case 3:o=null;case 4:return t.a(2,o)}},t)})),function(){return ic.apply(this,arguments)}),removeBattles:(ac=Zi($i().m(function t(){return $i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.BATTLES);case 1:return t.n=2,it.delete(it.Keys.UPLOADED_BATTLES);case 2:return t.n=3,it.delete(it.Keys.FILTERED_BATTLES);case 3:case 4:return t.a(2)}},t)})),function(){return ac.apply(this,arguments)}),removeFilteredBattles:(oc=Zi($i().m(function t(){return $i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.delete(it.Keys.FILTERED_BATTLES);case 1:case 2:return t.a(2)}},t)})),function(){return oc.apply(this,arguments)}),applyFilter:(rc=Zi($i().m(function t(e){var n,r,o,a,i,c,u,s,l,f,p,h;return $i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.getBattles();case 1:n=t.v,r=e.localFilters||[],o=e.globalFilters||[],a=Object.values(n),i=Yi(o);try{for(i.s();!(c=i.n()).done;)u=c.value,"Applying global filter: ".concat(u),s=a.length,a=u.call(a),n=Object.fromEntries(a.map(function(t){return[t["Seq Num"],t]})),"Filtered ".concat(s-a.length," out of ").concat(s,"; new total = ").concat(a.length)}catch(t){i.e(t)}finally{i.f()}l=Yi(r),t.p=2,p=$i().m(function t(){var e,r;return $i().w(function(t){for(;;)switch(t.n){case 0:e=f.value,"Applying local filter: ".concat(e),r=Object.keys(n).length,n=Object.fromEntries(Object.entries(n).filter(function(t){var n=qi(t,2),r=(n[0],n[1]);return e.call(r)})),"Filtered ".concat(r-Object.keys(n).length," out of ").concat(r,"; new total = ").concat(Object.keys(n).length);case 1:return t.a(2)}},t)}),l.s();case 3:if((f=l.n()).done){t.n=5;break}return t.d(Wi(p()),4);case 4:t.n=3;break;case 5:t.n=7;break;case 6:t.p=6,h=t.v,l.e(h);case 7:return t.p=7,l.f(),t.f(7);case 8:return"Caching filtered battles ; total = ".concat(Object.keys(n).length),t.n=9,it.cache(it.Keys.FILTERED_BATTLES,n);case 9:return"Filtered battles and stored in cache; modified ['FILTERED_BATTLES']; Applied total of <".concat(r.length+o.length,"> filters"),t.a(2,n)}},t,this,[[2,6,7,8]])})),function(t){return rc.apply(this,arguments)}),extendBattles:(nc=Zi($i().m(function t(e){var n,r,o,a,i;return $i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,it.get(it.Keys.BATTLES);case 1:if(a=n=t.v,!(o=null!==a)){t.n=2;break}o=void 0!==n;case 2:if(!o){t.n=3;break}i=n,t.n=4;break;case 3:i={};case 4:return r=Vi(Vi({},i),e),t.n=5,it.cache(it.Keys.BATTLES,r);case 5:return t.a(2,r)}},t)})),function(t){return nc.apply(this,arguments)}),cacheQuery:(ec=Zi($i().m(function t(e,n,r){var o,a;return $i().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return t.a(2,[]);case 1:return"Caching queried battles: ".concat(e.length," battles; modified [BATTLES];"),o=Gi(e,n,r),t.n=2,this.extendBattles(o);case 2:return a=t.v,t.a(2,a)}},t,this)})),function(t,e,n){return ec.apply(this,arguments)}),cacheUpload:(tc=Zi($i().m(function t(e,n){var r,o;return $i().w(function(t){for(;;)switch(t.n){case 0:if(e){t.n=1;break}return console.error("No uploaded battles provided to cacheUpload"),t.a(2,{});case 1:return r=Ui(e,n),t.n=2,it.cache(it.Keys.UPLOADED_BATTLES,r);case 2:return t.n=3,this.extendBattles(r);case 3:return o=t.v,t.a(2,o)}},t,this)})),function(t,e){return tc.apply(this,arguments)}),getStats:function(){var t=Zi($i().m(function t(e,n,r){var o,a,i,c,u,s,l,f,p;return $i().w(function(t){for(;;)switch(t.n){case 0:return o=n.localFilters.length+n.globalFilters.length,"Applying ".concat(o," filters"),a=Object.values(e),t.n=1,this.applyFilter(n);case 1:return i=t.v,c=Object.values(i),t.n=2,Li.getPrebanStats(c,r);case 2:return u=t.v,t.n=3,Li.getFirstPickStats(c,r);case 3:return s=t.v,t.n=4,Li.getGeneralStats(c,r);case 4:return l=t.v,t.n=5,Li.getHeroStats(c,r);case 5:return f=t.v,t.n=6,Li.getServerStats(c);case 6:return p=t.v,t.a(2,{battles:a,filteredBattlesObj:i,prebanStats:u,generalStats:l,firstPickStats:s,playerHeroStats:f.playerHeroStats,enemyHeroStats:f.enemyHeroStats,serverStats:p,numFilters:o})}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()};var uc={HeroManager:De,BattleManager:cc,SeasonManager:nr,UserManager:Ia,ClientCache:it,ArtifactManager:mr};function sc(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return lc(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(lc(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,lc(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,lc(f,"constructor",s),lc(s,"constructor",u),u.displayName="GeneratorFunction",lc(s,o,"GeneratorFunction"),lc(f),lc(f,o,"Generator"),lc(f,r,function(){return this}),lc(f,"toString",function(){return"[object Generator]"}),(sc=function(){return{w:a,m:p}})()}function lc(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}lc=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){lc(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},lc(t,e,n,r)}function fc(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function pc(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){fc(a,r,o,i,c,"next",t)}function c(t){fc(a,r,o,i,c,"throw",t)}i(void 0)})}}function hc(t){Xo.write(new $o(t,_t.HOME_PAGE.SELECT_DATA_MSG,[Xo.STYLES.RED]))}function dc(){return dc=pc(sc().m(function t(e){var n,r,o;return sc().w(function(t){for(;;)switch(t.n){case 0:n=_t.HOME_PAGE.ID_SEARCH_FLAG,r=uc.ClientCache.Keys.ID_SEARCH_FLAG,n.addEventListener("click",pc(sc().m(function t(){return sc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,uc.ClientCache.cache(r,n.checked);case 1:return t.a(2)}},t)}))),(o=document.getElementById("userForm")).addEventListener("submit",function(){var t=pc(sc().m(function t(n){var r,a,i,c,u,s;return sc().w(function(t){for(;;)switch(t.n){case 0:if(n.preventDefault(),r=new FormData(o),a=r.get("username"),i=r.get("server"),a){t.n=1;break}hc("Must enter username"),t.n=4;break;case 1:return t.p=1,t.n=2,uc.ClientCache.get(uc.ClientCache.Keys.ID_SEARCH_FLAG);case 2:return c=t.v,u=c?{id:a,world_code:i}:{name:a,world_code:i},mi.TRY_SET_USER=u,mi.AUTO_QUERY=!0,mi.SOURCE=mi.VALUES.SOURCE.QUERY,e(ca.LOAD_DATA),t.a(2);case 3:t.p=3,s=t.v,console.error("Caught Error:",s),hc(s.message);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}());case 1:return t.a(2)}},t)})),dc.apply(this,arguments)}function yc(){return yc=pc(sc().m(function t(e){var n,r;return sc().w(function(t){for(;;)switch(t.n){case 0:(n=document.getElementById("auto-query-flag")).addEventListener("click",pc(sc().m(function t(){return sc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,uc.ClientCache.setFlag("autoQuery",n.checked);case 1:return t.a(2)}},t)}))),r=null,_t.HOME_PAGE.CSV_FILE.addEventListener("change",function(t){r=t.target.files[0]}),_t.HOME_PAGE.UPLOAD_FORM.addEventListener("submit",function(){var t=pc(sc().m(function t(o){var a,i;return sc().w(function(t){for(;;)switch(t.n){case 0:if(o.preventDefault(),a=n.checked,t.p=1,r){t.n=2;break}return hc("Must upload a file"),t.a(2);case 2:return"Selected File: ".concat(r.name," ; content: ").concat(JSON.stringify(r)),t.n=3,uc.ClientCache.cache(uc.ClientCache.Keys.RAW_UPLOAD,r);case 3:return mi.AUTO_QUERY=a,mi.SOURCE=mi.VALUES.SOURCE.UPLOAD,e(ca.LOAD_DATA),t.a(2);case 4:t.p=4,i=t.v,console.error("Caught Error:",i),hc(i.message);case 5:return t.a(2)}},t,null,[[1,4]])}));return function(e){return t.apply(this,arguments)}}());case 1:return t.a(2)}},t)})),yc.apply(this,arguments)}function vc(t){!function(t){dc.apply(this,arguments)}(t),function(t){yc.apply(this,arguments)}(t)}function mc(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return _c(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(_c(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,_c(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,_c(f,"constructor",s),_c(s,"constructor",u),u.displayName="GeneratorFunction",_c(s,o,"GeneratorFunction"),_c(f),_c(f,o,"Generator"),_c(f,r,function(){return this}),_c(f,"toString",function(){return"[object Generator]"}),(mc=function(){return{w:a,m:p}})()}function _c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}_c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){_c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},_c(t,e,n,r)}function bc(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ec(){return Ec=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){bc(a,r,o,i,c,"next",t)}function c(t){bc(a,r,o,i,c,"throw",t)}i(void 0)})}}(mc().m(function t(){var e,n;return mc().w(function(t){for(;;)switch(t.n){case 0:return e=document.getElementById("auto-query-flag"),t.n=1,it.getFlag("autoQuery");case 1:return e.checked=t.v,n=_t.HOME_PAGE.ID_SEARCH_FLAG,t.n=2,it.getFlag("idSearch");case 2:n.checked=t.v;case 3:return t.a(2)}},t)})),Ec.apply(this,arguments)}var Sc={runLogic:function(){return Ec.apply(this,arguments)},initialize:function(t){vc(t)}};function gc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||wc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wc(t,e){if(t){if("string"==typeof t)return Tc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tc(t,e):void 0}}function Tc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ac(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.sort(function(t,e){return new Date(t["Date/Time"])-new Date(e["Date/Time"])}),n||(n={name:"UID: ".concat(e[0]["P1 ID"])});var a,i=e.map(function(t,e){return e}),c=e.map(function(t){return t["P1 Points"]}),u=[],s={startX:null,endX:null,startY:null,endY:null},l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wc(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(e.entries());try{for(l.s();!(a=l.n()).done;){var f=gc(a.value,2),p=f[0],h=f[1];r&&h["Seq Num"]in r?(!0===o&&(s.startX=p<s.startX||null===s.startX?p-.5:s.startX,s.startY=h["P1 Points"]<s.startY+50||null===s.startY?h["P1 Points"]-50:s.startY,s.endX=p>s.endX||null===s.endX?p+.5:s.endX,s.endY=h["P1 Points"]>s.endY-50||null===s.endY?h["P1 Points"]+50:s.endY),u.push("#ff9900")):u.push("#0df8fd")}}catch(t){l.e(t)}finally{l.f()}var d={x:i,y:c,mode:"lines+markers",line:{color:"#4f9293",width:2},marker:{symbol:"circle",size:4,color:u},customdata:e.map(function(t){return[t["Date/Time"].slice(0,10),t["P1 League"]]}),hovertemplate:"Points: %{y}<br>Date: %{customdata[0]}<br>League: %{customdata[1]}<extra></extra>"},y={autosize:!0,font:{family:"Roboto, Open Sans"},title:{text:"".concat(n.name,"'s RTA Point Plot"),font:{size:24,color:"#dddddd"},xanchor:"center",yanchor:"top",y:.95,x:.5},xaxis:{title:{text:"Battle Number (Chronological)",font:{size:18,color:"#dddddd"}},showgrid:!0,gridcolor:"#8d8d8d",zeroline:!1,tickfont:{size:12,color:"#dddddd"},range:s.startX?[s.startX,s.endX]:null},yaxis:{title:{text:"Victory Points",font:{size:18,color:"#dddddd"}},showgrid:!0,gridcolor:"#8d8d8d",zeroline:!0,zerolinecolor:"#dddddd",zerolinewidth:2,tickfont:{size:12,color:"#dddddd"},range:s.startY?[s.startY,s.endY]:null},plot_bgcolor:"#1e222d",paper_bgcolor:"#1e222d"},v=document.createElement("div");v.id="rank-plot",v.style.width="100%",v.style.height="100%",t.appendChild(v),Plotly.newPlot(v,[d],y,{responsive:!0})}function Oc(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Pc(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Pc(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Pc(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Pc(f,"constructor",s),Pc(s,"constructor",u),u.displayName="GeneratorFunction",Pc(s,o,"GeneratorFunction"),Pc(f),Pc(f,o,"Generator"),Pc(f,r,function(){return this}),Pc(f,"toString",function(){return"[object Generator]"}),(Oc=function(){return{w:a,m:p}})()}function Pc(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Pc=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Pc(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Pc(t,e,n,r)}function Rc(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ic(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return kc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t){var e=$("#".concat(t));$.fn.dataTable.isDataTable(e)&&e.DataTable().clear().destroy()}function Lc(t){var e,n=Ic(t=structuredClone(t));try{for(n.s();!(e=n.n()).done;){var r,o=e.value,a=Ic(Dt);try{for(a.s();!(r=a.n()).done;){var i=r.value;o[i]=JSON.stringify(o[i])}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return t}function Dc(t){var e=Number(t.replace("%",""));return e>50?"text-over50":e<50?"text-below50":""}function jc(t){var e=document.getElementById("".concat(t,"-body"));if(!e)throw new Error("Could not find tbody with id ".concat(t,"-body"));return e}var Nc,xc={populateHeroStatsTable:function(t,e){Cc(t),jc(t).innerHTML="";var n=t.toLowerCase().includes("player"),r=n?"Player":"Enemy",o=[Ft,Mt,Gt,Ut,Bt,Vt,Kt,Wt,qt,Yt,Qt],a=o.filter(function(t){return t!==Kt}),i=n?o:a,c=$("#".concat(t)).DataTable({layout:{topStart:"buttons"},language:{info:"Total rows: _TOTAL_"},order:[[2,"desc"]],buttons:{name:"primary",buttons:["copy",{extend:"csv",text:"CSV",filename:r+" Hero Stats"},{extend:"excel",text:"Excel",filename:r+" Hero Stats"}]},columnDefs:[{targets:"_all",className:"nowrap"},{targets:4,createdCell:function(t,e){var n=Number(e.replace("%",""));n<50?t.style.color="red":n>50&&(t.style.color="mediumspringgreen")}}],pageLength:50,scrollY:"300px",deferRender:!0,scroller:!0,scrollCollapse:!1,columns:i.map(function(t){return{data:t}})});return c.rows.add(e).draw(),c},populateSeasonDetailsTable:function(t,e){var n=jc(t);n.innerHTML="",e.forEach(function(t){var e=document.createElement("tr");e.innerHTML="\n            <td>".concat(t["Season Number"],"</td>\n            <td>").concat(t.Season,"</td>\n            <td>").concat(t.Start,"</td>\n            <td>").concat(t.End,"</td>\n            <td>").concat(t.Status,"</td>\n            "),n.appendChild(e)})},populateServerStatsTable:function(t,e){var n=jc(t);n.innerHTML="",e.forEach(function(t){var e=document.createElement("tr");e.innerHTML="\n            <td>".concat(t.server,"</td>\n            <td>").concat(t.count,"</td>\n            <td>").concat(t.frequency,"</td>\n            <td>").concat(t.wins,'</td>\n            <td class="').concat(Dc(t.win_rate),'">').concat(t.win_rate,"</td>\n            <td>").concat(t["+/-"],'</td>\n            <td class="').concat(Dc(t.fp_wr),'">').concat(t.fp_wr,'</td>\n            <td class="').concat(Dc(t.sp_wr),'">').concat(t.sp_wr,"</td>\n            "),n.appendChild(e)})},populatePlayerPrebansTable:function(t,e){var n=jc(t);n.innerHTML="",e.forEach(function(t){var e=document.createElement("tr");e.innerHTML="\n            <td>".concat(t.preban,"</td>\n            <td>").concat(t.appearances,"</td>\n            <td>").concat(t.appearance_rate,'</td>\n            <td class="').concat(Dc(t.win_rate),'">').concat(t.win_rate,"</td>\n            <td>").concat(t["+/-"],"</td>\n            "),n.appendChild(e)})},populatePlayerFirstPickTable:function(t,e){var n=jc(t);n.innerHTML="",e.forEach(function(t){var e=document.createElement("tr");e.innerHTML="\n            <td>".concat(t.hero,"</td>\n            <td>").concat(t.appearances,"</td>\n            <td>").concat(t.appearance_rate,'</td>\n            <td class="').concat(Dc(t.win_rate),'">').concat(t.win_rate,"</td>\n            <td>").concat(t["+/-"],"</td>\n            "),n.appendChild(e)})},populateFullBattlesTable:function(t,e,n){var r;Cc(t),e=Lc(e),jc(t).innerHTML="",r=n?n.name:0===e.length?"Empty":"UID(".concat(e[0]["P1 ID"],")");var o="".concat(r," Battle Data"),a=$("#".concat(t)).DataTable({layout:{topStart:"buttons"},language:{info:"Total rows: _TOTAL_"},order:[[2,"desc"]],columnDefs:[{targets:"_all",className:"nowrap"}],rowCallback:function(t,e,n){var r=t.cells[14],o=t.cells[15],a=t.cells[16];!0===e.Win?r.style.color="mediumspringgreen":!1===e.Win&&(r.style.color="red"),!0===e["First Pick"]&&(o.style.color="deepskyblue"),!0===e["First Turn"]&&(a.style.color="deepskyblue")},buttons:{name:"primary",buttons:["copy",{extend:"csv",text:"CSV",filename:o},{extend:"excel",text:"Excel",filename:o}]},pageLength:50,scrollY:"300px",deferRender:!0,scroller:!0,scrollCollapse:!1,columns:Object.values(Lt).filter(function(t){return!t.toLowerCase().includes("prime")}).map(function(t){return{data:t}})});return a.rows.add(e).draw(),a},replaceDatatableData:function(t,e){$("#".concat(t)).DataTable().clear().rows.add(e).draw()},replaceBattleData:function(t){t=Lc(t),this.replaceDatatableData("BattlesTable",t)}},Fc={populateGeneralStats:function(t){st.setText("total-battles",t.total_battles),st.setText("first-pick-count",t.first_pick_count),st.setText("first-pick-rate"," (".concat(t.first_pick_rate,")")),st.setText("second-pick-count",t.second_pick_count),st.setText("second-pick-rate"," (".concat(t.second_pick_rate,")")),st.setText("total-winrate",t.total_winrate),st.setText("first-pick-winrate",t.first_pick_winrate),st.setText("second-pick-winrate",t.second_pick_winrate),st.setText("total-wins",t.total_wins),st.setText("max-win-streak",t.max_win_streak),st.setText("max-loss-streak",t.max_loss_streak),st.setText("avg-ppg",t.avg_ppg),st.setText("avg-turns",t.avg_turns),st.setText("avg-time",t.avg_time),st.setText("max-turns",t.max_turns),st.setText("max-time",t.max_time),st.setText("first-turn-games",t.first_turn_games),st.setText("first-turn-rate",t.first_turn_rate)},populateRankPlot:(Nc=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Rc(a,r,o,i,c,"next",t)}function c(t){Rc(a,r,o,i,c,"throw",t)}i(void 0)})}}(Oc().m(function t(e){var n,r,o;return Oc().w(function(t){for(;;)switch(t.n){case 0:return(n=st.unwrapHtmlElt("rank-plot-container")).innerHTML="",t.n=1,Ia.getUser();case 1:return r=t.v,t.n=2,it.get(it.Keys.AUTO_ZOOM_FLAG);case 2:o=t.v,Ac(n,e.battles,r,e.numFilters>0?e.filteredBattlesObj:null,o);case 3:return t.a(2)}},t)})),function(t){return Nc.apply(this,arguments)})},Mc={"Current Season":"season = current-season","First Pick":"is-first-pick = true","Second Pick":"is-first-pick = false","Champion+ Opponent":"p2.league in {champion, warlord, emperor, legend}","Warlord+ Opponent":"p2.league in {warlord, emperor, legend}","Emperor+ Opponent":"p2.league in {emperor, legend}","Legend Opponent":"p2.league = 'legend'",Wins:"is-win = true",Losses:"is-win = false",extendFilters:function(t,e){var n=Mc[e];return";"!==(t=t.replace(/\s+$/,"")).slice(-1)&&t.length>0?t+=";\n":";"===t.slice(-1)&&(t+="\n"),"".concat(t).concat(n,";")}};const Gc=Mc;function Uc(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Bc(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Bc(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Bc(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Bc(f,"constructor",s),Bc(s,"constructor",u),u.displayName="GeneratorFunction",Bc(s,o,"GeneratorFunction"),Bc(f),Bc(f,o,"Generator"),Bc(f,r,function(){return this}),Bc(f,"toString",function(){return"[object Generator]"}),(Uc=function(){return{w:a,m:p}})()}function Bc(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Bc=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Bc(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Bc(t,e,n,r)}function Hc(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Vc(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Hc(a,r,o,i,c,"next",t)}function c(t){Hc(a,r,o,i,c,"throw",t)}i(void 0)})}}function Kc(){var t=_t.HOME_PAGE.BATTLE_FILTER_TOGGLE;t.addEventListener("click",Vc(Uc().m(function e(){var n;return Uc().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,uc.ClientCache.getStats();case 1:n=e.v,t.checked?xc.replaceBattleData(Object.values(n.filteredBattlesObj)):xc.replaceBattleData(n.battles);case 2:return e.a(2)}},e)})))}function Wc(){var t=_t.HOME_PAGE.AUTO_ZOOM_FLAG;t.addEventListener("click",Vc(Uc().m(function e(){return Uc().w(function(e){for(;;)switch(e.n){case 0:return t.checked,e.n=1,uc.ClientCache.setFlag("autoZoom",t.checked);case 1:return e.a(2)}},e)})))}function qc(t){document.getElementById("premade-filters").addEventListener("click",function(e){e.preventDefault();var n=e.target.closest(".dropdown-item");if(n){var r=n.textContent.trim(),o=t.getValue(),a=Gc.extendFilters(o,r);t.setValue(a)}})}function Yc(t,e){document.getElementById("filterForm").addEventListener("submit",function(){var n=Vc(Uc().m(function n(r){var o,a,i,c;return Uc().w(function(n){for(;;)switch(n.n){case 0:return r.preventDefault(),document.getElementById("codeArea").value=t.getValue(),o=r.submitter,a=null==o?void 0:o.value,i=t.getValue(),n.n=1,uc.ClientCache.getFilterStr();case 1:if(c=n.v,"apply"!==a){n.n=5;break}return n.n=2,ia.validateFilterSyntax(i);case 2:if(!n.v){n.n=4;break}return n.n=3,uc.ClientCache.setFilterStr(i);case 3:case 8:return mi.AUTO_QUERY=!1,e(ca.LOAD_DATA),n.a(2);case 4:case 6:n.n=9;break;case 5:if("check"!==a){n.n=7;break}return n.n=6,ia.validateFilterSyntax(i);case 7:if("clear"!==a){n.n=9;break}if(t.setValue(""),!c){n.n=9;break}return n.n=8,uc.ClientCache.setFilterStr("");case 9:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}())}function zc(t,e){Wc(),Kc(),qc(t),Yc(t,e)}function Qc(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return $c(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):($c(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,$c(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,$c(f,"constructor",s),$c(s,"constructor",u),u.displayName="GeneratorFunction",$c(s,o,"GeneratorFunction"),$c(f),$c(f,o,"Generator"),$c(f,r,function(){return this}),$c(f,"toString",function(){return"[object Generator]"}),(Qc=function(){return{w:a,m:p}})()}function $c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}$c=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){$c(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},$c(t,e,n,r)}function Jc(t){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(t)}function Xc(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Zc(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Xc(a,r,o,i,c,"next",t)}function c(t){Xc(a,r,o,i,c,"throw",t)}i(void 0)})}}function tu(){return eu.apply(this,arguments)}function eu(){return(eu=Zc(Qc().m(function t(){var e,n,r,o;return Qc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.getUser();case 1:if(e=t.v){t.n=2;break}return t.a(2);case 2:return t.p=3,t.n=4,uc.SeasonManager.getSeasonDetails();case 4:return Jc(n=t.v),t.n=5,uc.ClientCache.getStats();case 5:return r=t.v,console.time("populateTables"),xc.populateSeasonDetailsTable("season-details-tbl",n),xc.populateHeroStatsTable("player-tbl",r.playerHeroStats),xc.populateHeroStatsTable("opponent-tbl",r.enemyHeroStats),xc.populatePlayerFirstPickTable("first-pick-stats-tbl",r.firstPickStats),xc.populatePlayerPrebansTable("preban-stats-tbl",r.prebanStats),xc.populateServerStatsTable("server-stats-tbl",r.serverStats),_t.HOME_PAGE.BATTLE_FILTER_TOGGLE.checked?xc.populateFullBattlesTable("battles-tbl",Object.values(r.filteredBattlesObj),e):xc.populateFullBattlesTable("battles-tbl",r.battles,e),Fc.populateGeneralStats(r.generalStats),t.n=6,Fc.populateRankPlot(r);case 6:console.timeEnd("populateTables"),t.n=8;break;case 7:t.p=7,o=t.v,console.error("Error loading data:",o);case 8:return t.a(2)}},t,null,[[3,7]])}))).apply(this,arguments)}function nu(){return ru.apply(this,arguments)}function ru(){return(ru=Zc(Qc().m(function t(){var e,n,r;return Qc().w(function(t){for(;;)switch(t.n){case 0:return CodeMirror.defineMode("filterSyntax",function(){return{token:function(t,e){return wn.tokenMatch(t)}}}),e=document.getElementById("codeArea"),(n=CodeMirror.fromTextArea(e,{mode:"filterSyntax",lineNumbers:!0,theme:"default"})).setSize(null,185),t.n=1,uc.ClientCache.getFilterStr();case 1:return(r=t.v)&&n.setValue(r),n.on("change",function(){n.save()}),e.classList.remove("codemirror-hidden"),mi.CODE_MIRROR_EDITOR=n,t.a(2,n)}},t)}))).apply(this,arguments)}function ou(){return(ou=Zc(Qc().m(function t(){return Qc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,tu();case 1:return t.a(2)}},t)}))).apply(this,arguments)}function au(){return(au=Zc(Qc().m(function t(){var e;return Qc().w(function(t){for(;;)switch(t.n){case 0:if(e=mi.CODE_MIRROR_EDITOR){t.n=1;break}return console.error("Editor not found in CONTEXT"),t.a(2);case 1:e.refresh();case 2:return t.a(2)}},t)}))).apply(this,arguments)}function iu(){return(iu=Zc(Qc().m(function t(e){var n,r,o;return Qc().w(function(t){for(;;)switch(t.n){case 0:return n=_t.HOME_PAGE.AUTO_ZOOM_FLAG,t.n=1,uc.ClientCache.getFlag("autoZoom");case 1:return r=t.v,n.checked=r,t.n=2,uc.ClientCache.getStats();case 2:return o=t.v,_t.HOME_PAGE.BATTLE_FILTER_TOGGLE.checked&&xc.replaceBattleData(Object.values(o.filteredBattlesObj)),t.n=3,Ia.getUser();case 3:if(t.v){t.n=4;break}return e(ca.SELECT_DATA),t.a(2);case 4:case 5:_t.HOME_PAGE.CSV_FILE.value="",_t.HOME_PAGE.USER_QUERY_FORM_NAME.value="";case 6:return t.a(2)}},t)}))).apply(this,arguments)}function cu(){return(cu=Zc(Qc().m(function t(e){var n;return Qc().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,nu();case 1:return n=t.v,t.n=2,zc(n,e);case 2:return t.a(2)}},t)}))).apply(this,arguments)}var uu={preFirstRenderLogic:function(){return ou.apply(this,arguments)},postFirstRenderLogic:function(){return au.apply(this,arguments)},runLogic:function(t){return iu.apply(this,arguments)},initialize:function(t){return cu.apply(this,arguments)},populateContent:tu},su=n(809);function lu(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return fu(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(fu(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,fu(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,fu(f,"constructor",s),fu(s,"constructor",u),u.displayName="GeneratorFunction",fu(s,o,"GeneratorFunction"),fu(f),fu(f,o,"Generator"),fu(f,r,function(){return this}),fu(f,"toString",function(){return"[object Generator]"}),(lu=function(){return{w:a,m:p}})()}function fu(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}fu=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){fu(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},fu(t,e,n,r)}function pu(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function hu(t){return function(t){if(Array.isArray(t))return du(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return du(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var yu=Object.values(Lt);var vu,mu={parseUpload:(vu=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){pu(a,r,o,i,c,"next",t)}function c(t){pu(a,r,o,i,c,"throw",t)}i(void 0)})}}(lu().m(function t(e){var n,r,o,a;return lu().w(function(t){for(;;)switch(t.n){case 0:return this.validateCSV(e),t.n=1,e.text();case 1:if(n=t.v,(r=su.parse(n,{header:!0,skipEmptyLines:!0,quoteChar:'"',dynamicTyping:!1})).meta.fields.forEach(function(t,e){var n=t.trim().replace(/"/g,"");if(n!==yu[e])throw new Error("Header ".concat(n," does not match expected column ").concat(yu[e]," at index ").concat(e))}),!(r.errors.length>0)){t.n=2;break}throw o=r.errors[0],new Error("Failed to parse CSV: Row ".concat(o.row,", ").concat(o.message));case 2:return r.data,a=r.data,this.postParseValidation(a),t.a(2,a)}},t,this)})),function(t){return vu.apply(this,arguments)}),validateCSV:function(t){if(!t.name.endsWith(".csv"))throw new Error("File must be .csv");if(t.size>52428800)throw new Error("File must be smaller than ".concat(50,"mb, got ").concat(t.size/1048576,"mb File."))},postParseValidation:function(t){if(t.length<2)throw new Error("File must have at least 1 battle");!function(t){for(var e=new Set,n=new Set,r=0;r<t.length;r++){var o=[t[r]["P1 ID"],t[r]["P1 Server"]],a=o[0],i=o[1],c=r+1;if(""===a.trim()||!a)throw new Error("Detected an empty ID for Player 1: failed at row: ".concat(c));if(""===i.trim()||!i)throw new Error("Detected an empty Server for Player 1: failed at row: ".concat(c));if(e.add(a),e.size>1)throw new Error("File must have exactly one ID for Player 1: found IDS: [".concat(hu(e),"]; failed at row: ").concat(c));if(n.add(i),n.size>1)throw new Error("File must exactly one Server for Player 1: found Servers: [".concat(hu(n),"]; failed at row: ").concat(c))}}(t)}};const _u=mu;function bu(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Eu(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Eu(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Eu(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Eu(f,"constructor",s),Eu(s,"constructor",u),u.displayName="GeneratorFunction",Eu(s,o,"GeneratorFunction"),Eu(f),Eu(f,o,"Generator"),Eu(f,r,function(){return this}),Eu(f,"toString",function(){return"[object Generator]"}),(bu=function(){return{w:a,m:p}})()}function Eu(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Eu=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Eu(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Eu(t,e,n,r)}function Su(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function gu(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Su(a,r,o,i,c,"next",t)}function c(t){Su(a,r,o,i,c,"throw",t)}i(void 0)})}}function wu(t){_t.HOME_PAGE.ESCAPE_BTN.addEventListener("click",gu(bu().m(function t(){var e;return bu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.getUser();case 1:if(!(e=t.v)){t.n=3;break}return t.n=2,Ia.setUser(e);case 2:fi.writeUserInfo(e),t.n=4;break;case 3:return t.n=4,stateDispatcher(ca.SELECT_DATA);case 4:return t.a(2)}},t)})))}function Tu(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Au(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Au(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Au(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Au(f,"constructor",s),Au(s,"constructor",u),u.displayName="GeneratorFunction",Au(s,o,"GeneratorFunction"),Au(f),Au(f,o,"Generator"),Au(f,r,function(){return this}),Au(f,"toString",function(){return"[object Generator]"}),(Tu=function(){return{w:a,m:p}})()}function Au(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Au=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Au(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Au(t,e,n,r)}function Ou(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Pu(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Ou(a,r,o,i,c,"next",t)}function c(t){Ou(a,r,o,i,c,"throw",t)}i(void 0)})}}function Ru(){return Iu.apply(this,arguments)}function Iu(){return(Iu=Pu(Tu().m(function t(){var e,n,r,o,a;return Tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,uc.ClientCache.get(uc.ClientCache.Keys.RAW_UPLOAD);case 1:return e=t.v,t.n=2,_u.parseUpload(e);case 2:return n=t.v,r=n[0]["P1 ID"],o=Rt[n[0]["P1 Server"]],t.n=3,uc.UserManager.findUser({id:r,world_code:o});case 3:if(a=t.v){t.n=4;break}throw new Error("File Upload Error: User not found");case 4:return t.a(2,{user:a,battleArr:n})}},t)}))).apply(this,arguments)}function ku(t,e,n){return Cu.apply(this,arguments)}function Cu(){return(Cu=Pu(Tu().m(function t(e,n,r){var o,a,i,c,u,s;return Tu().w(function(t){for(;;)switch(t.n){case 0:return JSON.stringify(e),t.n=1,uc.ArtifactManager.getArtifacts();case 1:return o=t.v,t.n=2,ue.rsFetchBattleData(e);case 2:if((a=t.v).ok){t.n=4;break}return t.n=3,a.json().error;case 3:i=t.v,c="Error while fetching data: ".concat(i),console.error("Error while fetching data: ".concat(i)),mi.ERROR_MSG=c,n(ca.SELECT_DATA),t.n=7;break;case 4:return t.n=5,a.json();case 5:return u=t.v,s=u.battles,t.n=6,uc.BattleManager.cacheQuery(s,r,o);case 6:case 7:return t.a(2)}},t)}))).apply(this,arguments)}function Lu(t,e,n){return Du.apply(this,arguments)}function Du(){return(Du=Pu(Tu().m(function t(e,n,r){var o,a,i,c;return Tu().w(function(t){for(;;)switch(t.n){case 0:return a=[mi.VALUES.SOURCE.QUERY,mi.VALUES.SOURCE.UPLOAD,mi.VALUES.SOURCE.STATS],i=a[1],c=a[2],n===a[0]||n===i?(o=ca.SELECT_DATA,Zo.queueSelectDataMsgRed("Failed to load data: ".concat(e.message))):n===c?(o=ca.SHOW_STATS,Zo.queueFilterMsgRed("Failed to load data: ".concat(e.message))):(console.error("Invalid source: ".concat(n," ; redirecting to select data")),o=ca.SELECT_DATA,Zo.queueSelectDataMsgRed("Failed to load data: ".concat(e.message))),console.error(e),t.n=1,uc.UserManager.clearUserData();case 1:return fi.writeUserInfo(null),r(o),t.a(2)}},t)}))).apply(this,arguments)}function ju(t){return Nu.apply(this,arguments)}function Nu(){return(Nu=Pu(Tu().m(function t(e){var n;return Tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,uc.UserManager.findUser(e);case 1:if(n=t.v,JSON.stringify(n),null===n){t.n=2;break}return t.a(2,n);case 2:return t.a(2,null)}},t)}))).apply(this,arguments)}function xu(t){return Fu.apply(this,arguments)}function Fu(){return(Fu=Pu(Tu().m(function t(e){return Tu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,uc.UserManager.clearUserData();case 1:return t.n=2,uc.UserManager.setUser(e);case 2:fi.writeUserInfo(e);case 3:return t.a(2)}},t)}))).apply(this,arguments)}function Mu(){return(Mu=Pu(Tu().m(function t(e){var n,r,o,a,i,c,u,s,l,f,p,h;return Tu().w(function(t){for(;;)switch(t.n){case 0:return n=null,r=null,o=null,t.p=1,t.n=2,uc.HeroManager.getHeroManager();case 2:n=t.v,r=mi.popKey(mi.KEYS.SOURCE),o=mi.popKey(mi.KEYS.AUTO_QUERY),t.n=4;break;case 3:t.p=3,f=t.v,console.error("Could not load reference and context variables: ",f),e(ca.SELECT_DATA);case 4:if(t.p=4,a=null,r!==mi.VALUES.SOURCE.UPLOAD){t.n=8;break}return t.n=5,Ru();case 5:return i=t.v,a=i.user,t.n=6,xu(a);case 6:return t.n=7,uc.BattleManager.cacheUpload(i.battleArr,n);case 7:t.n=11;break;case 8:if(r!==mi.VALUES.SOURCE.QUERY){t.n=11;break}if(null!==(c=mi.popKey(mi.KEYS.TRY_SET_USER))){t.n=9;break}throw new Error("TRY_SET_USER User missing from CONTEXT");case 9:return t.n=10,ju(c);case 10:return a=t.v,t.n=11,xu(a);case 11:if(null!==a){t.n=13;break}return t.n=12,uc.UserManager.getUser();case 12:a=t.v;case 13:if(!o&&r!==mi.VALUES.SOURCE.QUERY){t.n=14;break}return t.n=14,ku(a,e,n);case 14:return t.n=15,uc.BattleManager.getBattles();case 15:return u=t.v,t.n=16,Ho.getFiltersFromCache(n);case 16:return s=t.v,"Received Filters: ".concat(JSON.stringify(s)),t.n=17,uc.BattleManager.getStats(u,s,n);case 17:return l=t.v,t.n=18,uc.ClientCache.setStats(l);case 18:return t.n=19,uu.populateContent();case 19:return mi.STATS_PRE_RENDER_COMPLETED=!0,e(ca.SHOW_STATS),t.a(2);case 20:t.p=20,p=t.v,t.p=21,Lu(p,r,e),t.n=24;break;case 22:return t.p=22,h=t.v,console.error("Something went wrong ; redirecting to select data ; error:",h),t.n=23,Wa.homePageClearUserData();case 23:e(ca.SELECT_DATA);case 24:return t.a(2)}},t,null,[[21,22],[4,20],[1,3]])}))).apply(this,arguments)}var Gu={runLogic:function(t){return Mu.apply(this,arguments)},initialize:function(){wu()}};function Uu(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Bu(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Bu(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Bu(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Bu(f,"constructor",s),Bu(s,"constructor",u),u.displayName="GeneratorFunction",Bu(s,o,"GeneratorFunction"),Bu(f),Bu(f,o,"Generator"),Bu(f,r,function(){return this}),Bu(f,"toString",function(){return"[object Generator]"}),(Uu=function(){return{w:a,m:p}})()}function Bu(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Bu=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Bu(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Bu(t,e,n,r)}function Hu(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Vu(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Hu(a,r,o,i,c,"next",t)}function c(t){Hu(a,r,o,i,c,"throw",t)}i(void 0)})}}function Ku(){setTimeout(function(){Plotly.Plots.resize(document.getElementById("rank-plot"))},20)}function Wu(t){return qu.apply(this,arguments)}function qu(){return(qu=Vu(Uu().m(function t(e){return Uu().w(function(t){for(;;)switch(t.n){case 0:if(mi.STATS_PRE_RENDER_COMPLETED){t.n=2;break}return t.n=1,uu.preFirstRenderLogic(e);case 1:mi.STATS_PRE_RENDER_COMPLETED=!0;case 2:return t.n=3,uu.runLogic(e);case 3:return t.n=4,Wa.homePageSetView(ca.SHOW_STATS);case 4:if(mi.STATS_POST_RENDER_COMPLETED){t.n=6;break}return t.n=5,uu.postFirstRenderLogic();case 5:mi.STATS_POST_RENDER_COMPLETED=!0;case 6:Ku();case 7:return t.a(2)}},t)}))).apply(this,arguments)}function Yu(){return zu.apply(this,arguments)}function zu(){return(zu=Vu(Uu().m(function t(){var e;return Uu().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ua.getState();case 1:e=t.v,mi.SCROLL_PERCENTS[e]=ia.getScrollPercent(),Xo.clearMessages(),Xo.processQueue();case 2:return t.a(2)}},t)}))).apply(this,arguments)}function Qu(t){return $u.apply(this,arguments)}function $u(){return($u=Vu(Uu().m(function t(e){var n,r;return Uu().w(function(t){for(;;)switch(t.n){case 0:if("Switching to state: ".concat(e,", with CONTEXT: "),Na(e)){t.n=1;break}return t.a(2);case 1:return Yu(),t.n=2,Ua.setState(e);case 2:r=e,t.n=r===ca.SELECT_DATA?3:r===ca.SHOW_STATS?6:r===ca.LOAD_DATA?8:11;break;case 3:return t.n=4,Sc.runLogic(Qu);case 4:return t.n=5,Wa.homePageSetView(e);case 5:return t.a(3,12);case 6:return t.n=7,Wu(Qu);case 7:return t.a(3,12);case 8:return t.n=9,Wa.homePageSetView(e);case 9:return t.n=10,Gu.runLogic(Qu);case 10:return t.a(3,12);case 11:console.error("Invalid page state: ".concat(e));case 12:n=mi.SCROLL_PERCENTS[e],setTimeout(function(){ia.setScrollPercent(n)},0);case 13:return t.a(2)}},t)}))).apply(this,arguments)}function Ju(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Xu(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Xu(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Xu(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Xu(f,"constructor",s),Xu(s,"constructor",u),u.displayName="GeneratorFunction",Xu(s,o,"GeneratorFunction"),Xu(f),Xu(f,o,"Generator"),Xu(f,r,function(){return this}),Xu(f,"toString",function(){return"[object Generator]"}),(Ju=function(){return{w:a,m:p}})()}function Xu(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Xu=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Xu(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},Xu(t,e,n,r)}function Zu(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ts(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){Zu(a,r,o,i,c,"next",t)}function c(t){Zu(a,r,o,i,c,"throw",t)}i(void 0)})}}function es(){document.querySelectorAll(".nav-link").forEach(function(t){t.addEventListener("click",function(){var t=ts(Ju().m(function t(e){var n,r;return Ju().w(function(t){for(;;)switch(t.n){case 0:return n=this.dataset.nav,t.n=1,Ua.getState();case 1:if(r=t.v,!Object.values(ca).includes(n)){t.n=6;break}if(r!==n){t.n=2;break}return"Already in state: ".concat(r," ; returning"),t.a(2);case 2:if(n!==ca.SELECT_DATA){t.n=3;break}Qu(ca.SELECT_DATA,mi),t.n=5;break;case 3:if(n!==ca.SHOW_STATS){t.n=5;break}return t.n=4,Ia.getUser();case 4:t.v?Qu(ca.SHOW_STATS,mi):(Zo.queueSelectDataMsgRed("User not found; Must either query a valid user or upload battles to view hero stats"),Qu(ca.SELECT_DATA,mi));case 5:t.n=7;break;case 6:"Navigating to: ".concat(this.href);case 7:return t.a(2)}},t,this)}));return function(e){return t.apply(this,arguments)}}())}),_t.HOME_PAGE.CLEAR_DATA_BTN.addEventListener("click",function(){var t=ts(Ju().m(function t(e){var n;return Ju().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Ia.getUser();case 1:if(!(n=t.v)){t.n=4;break}return t.n=2,Ia.clearUserData();case 2:return fi.writeUserInfo(null),Zo.queueSelectDataMsgGreen("Cleared data of user ".concat(n.name," (").concat(n.id,")")),t.n=3,Qu(ca.SELECT_DATA);case 3:mi.SCROLL_PERCENTS[ca.SHOW_STATS]=0,t.n=5;break;case 4:return Zo.queueSelectDataMsgGreen("Data already cleared"),t.n=5,Qu(ca.SELECT_DATA);case 5:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),_t.NAV_BAR.SIDEBAR_HIDE_BTN.addEventListener("click",function(t){Ku()}),_t.NAV_BAR.SIDEBAR_CONTROL.addEventListener("click",function(t){Ku()})}function ns(t,e,n){return e=os(e),function(t,e){if(e&&("object"==is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rs()?Reflect.construct(e,n||[],os(t).constructor):e.apply(t,n))}function rs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(rs=function(){return!!t})()}function os(t){return os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},os(t)}function as(t,e){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},as(t,e)}function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function cs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return us(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?us(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ps(r.key),r)}}function fs(t,e,n){return e&&ls(t.prototype,e),n&&ls(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ps(t){var e=function(t,e){if("object"!=is(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==is(e)?e:e+""}var hs=0;function ds(){return"id-".concat(hs+=1)}var ys=function(t){function e(t,n,r){var o;return ss(this,e),(o=ns(this,e,[t])).constructChild("thead",{id:n}),o.constructChild("tbody",{id:r}),o.thead=o.children[n],o.tbody=o.children[r],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&as(t,e)}(e,t),fs(e,[{key:"addColumns",value:function(t){var e=this.thead.constructChild("tr");t.forEach(function(t){e.constructChild("th",{scope:"col"}).addTextContent(t)})}}],[{key:"createFromIDs",value:function(t,n,r){var o=document.createElement("table");return o.id=t,new e(o,n,r)}}])}(function(){function t(e){ss(this,t),this.htmlElt=e,this.children={},this.childArr=[]}return fs(t,[{key:"id",get:function(){return this.htmlElt.id},set:function(t){this.htmlElt.id=t}},{key:"addClass",value:function(){var t;(t=this.htmlElt.classList).add.apply(t,arguments)}},{key:"removeClass",value:function(){var t;(t=this.htmlElt.classList).remove.apply(t,arguments)}},{key:"addAttributes",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=cs(n[e],2),o=r[0],a=r[1];this.htmlElt.setAttribute(o,a)}}},{key:"appendChild",value:function(e){if(e instanceof t)return this.htmlElt.appendChild(e.htmlElt),e.id||(e.id=ds()),this.children[e.id]=e,this.childArr.push(e),e;if(e instanceof HTMLElement){var n=new t(e);return this.appendChild(n)}throw new Error("Only instances of HTMLConstructor or HTMLElement can be passed to this function")}},{key:"insertInnerHTML",value:function(t){this.htmlElt.innerHTML=t}},{key:"appendInnerHTML",value:function(t){this.htmlElt.insertAdjacentHTML("beforeend",t)}},{key:"constructChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.id||(n.id=ds());var r=new t(document.createElement(e));return r.addAttributes(n),this.appendChild(r),r}},{key:"addTextContent",value:function(t){this.htmlElt.textContent=t}}],[{key:"fromID",value:function(e){return new t(st.unwrapHtmlElt(e))}},{key:"fromElt",value:function(e){return new t(e)}}])}()),vs=["Hero Name","Battles","Pick Rate","Wins","Win Rate","Postban Rate","Success Rate","+/-","Point Gain","Avg CR","First Turn Rate"],ms=[{tbl:_t.HOME_PAGE.SEASON_DETAILS_TBL,cols:["","Season","Start","End","Status"]},{tbl:_t.HOME_PAGE.SERVER_STATS_TBL,cols:["","Battles","Freq","Wins","Win Rate","+/-","FP WR","SP WR"]},{tbl:_t.HOME_PAGE.FIRST_PICK_STATS_TBL,cols:["Hero","Battles","Pick Rate","Win Rate","+/-"]},{tbl:_t.HOME_PAGE.PREBAN_STATS_TBL,cols:["Preban","Battles","Ban Rate","Win Rate","+/-"]},{tbl:_t.HOME_PAGE.PLAYER_TBL,cols:vs},{tbl:_t.HOME_PAGE.OPPONENT_TBL,cols:vs.filter(function(t){return!t.toLowerCase().includes("success")})},{tbl:_t.HOME_PAGE.BATTLES_TBL,cols:Object.values(Lt).filter(function(t){return!t.toLowerCase().includes("prime")})}];function _s(){ms.forEach(function(t){var e,n,r;e=t.tbl,n=t.cols,r=e.id,new ys(e,r+"-head",r+"-body").addColumns(n)})}function bs(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Es(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Es(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Es(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ss(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return gs(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function h(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],h=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=h&&((o=n<2&&h<a[1])?(c=0,p.v=r,p.n=a[1]):h<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(gs(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,gs(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,gs(f,"constructor",s),gs(s,"constructor",u),u.displayName="GeneratorFunction",gs(s,o,"GeneratorFunction"),gs(f),gs(f,o,"Generator"),gs(f,r,function(){return this}),gs(f,"toString",function(){return"[object Generator]"}),(Ss=function(){return{w:a,m:p}})()}function gs(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}gs=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){gs(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},gs(t,e,n,r)}function ws(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ts(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){ws(a,r,o,i,c,"next",t)}function c(t){ws(a,r,o,i,c,"throw",t)}i(void 0)})}}function As(t){return Os.apply(this,arguments)}function Os(){return(Os=Ts(Ss().m(function t(e){var n,r,o;return Ss().w(function(t){for(;;)switch(t.n){case 0:n=!1,o=e,t.n=o===ei.ACTIONS.CLEAR_USER?1:o===ei.ACTIONS.SHOW_DATA_ALREADY_CLEARED_MSG?5:o===ei.ACTIONS.SHOW_NO_USER_MSG?6:o===ei.ACTIONS.QUERY_USER?7:8;break;case 1:return t.n=2,Ia.getUser();case 2:return r=t.v,t.n=3,Ia.clearUserData();case 3:return fi.writeUserInfo(null),Zo.queueSelectDataMsgGreen("Cleared data of user ".concat(r.name," (").concat(r.id,")")),t.n=4,Qu(ca.SELECT_DATA);case 4:return n=!0,t.a(3,9);case 5:return Zo.queueSelectDataMsgGreen("Data already cleared"),t.a(3,9);case 6:return Zo.queueSelectDataMsgRed("User not found; Must either query a valid user or upload battles to view hero stats"),t.a(3,9);case 7:return mi.AUTO_QUERY=!0,Qu(ca.LOAD_DATA),n=!0,t.a(3,9);case 8:return console.error("Invalid action: ".concat(e)),t.a(3,9);case 9:return t.a(2,n)}},t)}))).apply(this,arguments)}function Ps(){return Rs.apply(this,arguments)}function Rs(){return(Rs=Ts(Ss().m(function t(){var e,n,r,o,a,i;return Ss().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,ei.flushState();case 1:e=t.v,n=!1,r=bs(e.actions),t.p=2,r.s();case 3:if((o=r.n()).done){t.n=6;break}return a=o.value,t.n=4,As(a);case 4:n=t.v;case 5:t.n=3;break;case 6:t.n=8;break;case 7:t.p=7,i=t.v,r.e(i);case 8:return t.p=8,r.f(),t.f(8);case 9:return t.a(2,n)}},t,null,[[2,7,8,9]])}))).apply(this,arguments)}function Is(){return ks.apply(this,arguments)}function ks(){return(ks=Ts(Ss().m(function t(){var e,n,r,o;return Ss().w(function(t){for(;;)switch(t.n){case 0:es(),_s(),e=0,n=[Sc,uu,Gu];case 1:if(!(e<n.length)){t.n=3;break}return r=n[e],t.n=2,r.initialize(Qu);case 2:e++,t.n=1;break;case 3:return t.n=4,Ia.getUser();case 4:o=t.v,fi.writeUserInfo(o),Xo.bindAutoClear(_t.HOME_PAGE.MESSAGE_ELEMENTS_LIST);case 5:return t.a(2)}},t)}))).apply(this,arguments)}function Cs(){return(Cs=Ts(Ss().m(function t(){return Ss().w(function(t){for(;;)switch(t.n){case 0:document.addEventListener("DOMContentLoaded",Ts(Ss().m(function t(){var e;return Ss().w(function(t){for(;;)switch(t.n){case 0:return Is(),t.n=1,Ua.getState();case 1:if((e=t.v)!==ca.LOAD_DATA){t.n=2;break}return e=ca.SELECT_DATA,t.n=2,Ua.setState(e);case 2:return mi.HOME_PAGE_STATE=e,t.n=3,Ps();case 3:if(t.v){t.n=4;break}return t.n=4,Qu(e);case 4:ia.setVisibility(_t.HOME_PAGE.FOOTER_BODY,!0);case 5:return t.a(2)}},t)})));case 1:return t.a(2)}},t)}))).apply(this,arguments)}!function(){Cs.apply(this,arguments)}()})()})();
//# sourceMappingURL=home-page.da0a80ff34488cf0a3a7.bundle.js.map